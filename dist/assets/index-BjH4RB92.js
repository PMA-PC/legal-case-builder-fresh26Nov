function qP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rq(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Qg={exports:{}},cu={};var M_;function Mq(){if(M_)return cu;M_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return cu.Fragment=t,cu.jsx=n,cu.jsxs=n,cu}var L_;function Lq(){return L_||(L_=1,Qg.exports=Mq()),Qg.exports}var b=Lq(),Zg={exports:{}},je={};var j_;function jq(){if(j_)return je;j_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=g&&j[g]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function C(j,ae,me){this.props=j,this.context=ae,this.refs=_,this.updater=me||A}C.prototype.isReactComponent={},C.prototype.setState=function(j,ae){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ae,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=C.prototype;function D(j,ae,me){this.props=j,this.context=ae,this.refs=_,this.updater=me||A}var k=D.prototype=new I;k.constructor=D,E(k,C.prototype),k.isPureReactComponent=!0;var P=Array.isArray;function R(){}var M={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function B(j,ae,me){var ge=me.ref;return{$$typeof:e,type:j,key:ae,ref:ge!==void 0?ge:null,props:me}}function $(j,ae){return B(j.type,ae,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function Y(j){var ae={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(me){return ae[me]})}var K=/\/+/g;function G(j,ae){return typeof j=="object"&&j!==null&&j.key!=null?Y(""+j.key):ae.toString(36)}function ne(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(R,R):(j.status="pending",j.then(function(ae){j.status==="pending"&&(j.status="fulfilled",j.value=ae)},function(ae){j.status==="pending"&&(j.status="rejected",j.reason=ae)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function U(j,ae,me,ge,Te){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var ke=!1;if(j===null)ke=!0;else switch(Re){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(j.$$typeof){case e:case t:ke=!0;break;case h:return ke=j._init,U(ke(j._payload),ae,me,ge,Te)}}if(ke)return Te=Te(j),ke=ge===""?"."+G(j,0):ge,P(Te)?(me="",ke!=null&&(me=ke.replace(K,"$&/")+"/"),U(Te,ae,me,"",function(Le){return Le})):Te!=null&&(W(Te)&&(Te=$(Te,me+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(K,"$&/")+"/")+ke)),ae.push(Te)),1;ke=0;var At=ge===""?".":ge+":";if(P(j))for(var oe=0;oe<j.length;oe++)ge=j[oe],Re=At+G(ge,oe),ke+=U(ge,ae,me,Re,Te);else if(oe=x(j),typeof oe=="function")for(j=oe.call(j),oe=0;!(ge=j.next()).done;)ge=ge.value,Re=At+G(ge,oe++),ke+=U(ge,ae,me,Re,Te);else if(Re==="object"){if(typeof j.then=="function")return U(ne(j),ae,me,ge,Te);throw ae=String(j),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(j,ae,me){if(j==null)return j;var ge=[],Te=0;return U(j,ge,"","",function(Re){return ae.call(me,Re,Te++)}),ge}function ce(j){if(j._status===-1){var ae=j._result;ae=ae(),ae.then(function(me){(j._status===0||j._status===-1)&&(j._status=1,j._result=me)},function(me){(j._status===0||j._status===-1)&&(j._status=2,j._result=me)}),j._status===-1&&(j._status=0,j._result=ae)}if(j._status===1)return j._result.default;throw j._result}var fe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ie={map:te,forEach:function(j,ae,me){te(j,function(){ae.apply(this,arguments)},me)},count:function(j){var ae=0;return te(j,function(){ae++}),ae},toArray:function(j){return te(j,function(ae){return ae})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return je.Activity=m,je.Children=Ie,je.Component=C,je.Fragment=n,je.Profiler=i,je.PureComponent=D,je.StrictMode=r,je.Suspense=c,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,je.__COMPILER_RUNTIME={__proto__:null,c:function(j){return M.H.useMemoCache(j)}},je.cache=function(j){return function(){return j.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(j,ae,me){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ge=E({},j.props),Te=j.key;if(ae!=null)for(Re in ae.key!==void 0&&(Te=""+ae.key),ae)!z.call(ae,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ae.ref===void 0||(ge[Re]=ae[Re]);var Re=arguments.length-2;if(Re===1)ge.children=me;else if(1<Re){for(var ke=Array(Re),At=0;At<Re;At++)ke[At]=arguments[At+2];ge.children=ke}return B(j.type,Te,ge)},je.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},je.createElement=function(j,ae,me){var ge,Te={},Re=null;if(ae!=null)for(ge in ae.key!==void 0&&(Re=""+ae.key),ae)z.call(ae,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Te[ge]=ae[ge]);var ke=arguments.length-2;if(ke===1)Te.children=me;else if(1<ke){for(var At=Array(ke),oe=0;oe<ke;oe++)At[oe]=arguments[oe+2];Te.children=At}if(j&&j.defaultProps)for(ge in ke=j.defaultProps,ke)Te[ge]===void 0&&(Te[ge]=ke[ge]);return B(j,Re,Te)},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:u,render:j}},je.isValidElement=W,je.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:ce}},je.memo=function(j,ae){return{$$typeof:d,type:j,compare:ae===void 0?null:ae}},je.startTransition=function(j){var ae=M.T,me={};M.T=me;try{var ge=j(),Te=M.S;Te!==null&&Te(me,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(R,fe)}catch(Re){fe(Re)}finally{ae!==null&&me.types!==null&&(ae.types=me.types),M.T=ae}},je.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},je.use=function(j){return M.H.use(j)},je.useActionState=function(j,ae,me){return M.H.useActionState(j,ae,me)},je.useCallback=function(j,ae){return M.H.useCallback(j,ae)},je.useContext=function(j){return M.H.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j,ae){return M.H.useDeferredValue(j,ae)},je.useEffect=function(j,ae){return M.H.useEffect(j,ae)},je.useEffectEvent=function(j){return M.H.useEffectEvent(j)},je.useId=function(){return M.H.useId()},je.useImperativeHandle=function(j,ae,me){return M.H.useImperativeHandle(j,ae,me)},je.useInsertionEffect=function(j,ae){return M.H.useInsertionEffect(j,ae)},je.useLayoutEffect=function(j,ae){return M.H.useLayoutEffect(j,ae)},je.useMemo=function(j,ae){return M.H.useMemo(j,ae)},je.useOptimistic=function(j,ae){return M.H.useOptimistic(j,ae)},je.useReducer=function(j,ae,me){return M.H.useReducer(j,ae,me)},je.useRef=function(j){return M.H.useRef(j)},je.useState=function(j){return M.H.useState(j)},je.useSyncExternalStore=function(j,ae,me){return M.H.useSyncExternalStore(j,ae,me)},je.useTransition=function(){return M.H.useTransition()},je.version="19.2.0",je}var U_;function Zs(){return U_||(U_=1,Zg.exports=jq()),Zg.exports}var T=Zs();const Ct=Or(T),Uq=qP({__proto__:null,default:Ct},[T]);var ey={exports:{}},du={},ty={exports:{}},ny={};var B_;function Bq(){return B_||(B_=1,(function(e){function t(U,te){var ce=U.length;U.push(te);e:for(;0<ce;){var fe=ce-1>>>1,Ie=U[fe];if(0<i(Ie,te))U[fe]=te,U[ce]=Ie,ce=fe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var te=U[0],ce=U.pop();if(ce!==te){U[0]=ce;e:for(var fe=0,Ie=U.length,j=Ie>>>1;fe<j;){var ae=2*(fe+1)-1,me=U[ae],ge=ae+1,Te=U[ge];if(0>i(me,ce))ge<Ie&&0>i(Te,me)?(U[fe]=Te,U[ge]=ce,fe=ge):(U[fe]=me,U[ae]=ce,fe=ae);else if(ge<Ie&&0>i(Te,ce))U[fe]=Te,U[ge]=ce,fe=ge;else break e}}return te}function i(U,te){var ce=U.sortIndex-te.sortIndex;return ce!==0?ce:U.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],h=1,m=null,g=3,x=!1,A=!1,E=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function k(U){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=U)r(d),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(d)}}function P(U){if(E=!1,k(U),!A)if(n(c)!==null)A=!0,R||(R=!0,Y());else{var te=n(d);te!==null&&ne(P,te.startTime-U)}}var R=!1,M=-1,z=5,B=-1;function $(){return _?!0:!(e.unstable_now()-B<z)}function W(){if(_=!1,R){var U=e.unstable_now();B=U;var te=!0;try{e:{A=!1,E&&(E=!1,I(M),M=-1),x=!0;var ce=g;try{t:{for(k(U),m=n(c);m!==null&&!(m.expirationTime>U&&$());){var fe=m.callback;if(typeof fe=="function"){m.callback=null,g=m.priorityLevel;var Ie=fe(m.expirationTime<=U);if(U=e.unstable_now(),typeof Ie=="function"){m.callback=Ie,k(U),te=!0;break t}m===n(c)&&r(c),k(U)}else r(c);m=n(c)}if(m!==null)te=!0;else{var j=n(d);j!==null&&ne(P,j.startTime-U),te=!1}}break e}finally{m=null,g=ce,x=!1}te=void 0}}finally{te?Y():R=!1}}}var Y;if(typeof D=="function")Y=function(){D(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,G=K.port2;K.port1.onmessage=W,Y=function(){G.postMessage(null)}}else Y=function(){C(W,0)};function ne(U,te){M=C(function(){U(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ce=g;g=te;try{return U()}finally{g=ce}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ce=g;g=U;try{return te()}finally{g=ce}},e.unstable_scheduleCallback=function(U,te,ce){var fe=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?fe+ce:fe):ce=fe,U){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ce+Ie,U={id:h++,callback:te,priorityLevel:U,startTime:ce,expirationTime:Ie,sortIndex:-1},ce>fe?(U.sortIndex=ce,t(d,U),n(c)===null&&U===n(d)&&(E?(I(M),M=-1):E=!0,ne(P,ce-fe))):(U.sortIndex=Ie,t(c,U),A||x||(A=!0,R||(R=!0,Y()))),U},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(U){var te=g;return function(){var ce=g;g=te;try{return U.apply(this,arguments)}finally{g=ce}}}})(ny)),ny}var q_;function qq(){return q_||(q_=1,ty.exports=Bq()),ty.exports}var ry={exports:{}},wn={};var $_;function $q(){if($_)return wn;$_=1;var e=Zs();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(c,d,null,h)},wn.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},wn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},wn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},wn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},wn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},wn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},wn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},wn.requestFormReset=function(c){r.d.r(c)},wn.unstable_batchedUpdates=function(c,d){return c(d)},wn.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},wn.useFormStatus=function(){return s.H.useHostTransitionStatus()},wn.version="19.2.0",wn}var G_;function $P(){if(G_)return ry.exports;G_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ry.exports=$q(),ry.exports}var z_;function Gq(){if(z_)return du;z_=1;var e=qq(),t=Zs(),n=$P();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(a(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,p=l;;){var w=f.return;if(w===null)break;var S=w.alternate;if(S===null){if(p=w.return,p!==null){f=p;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===f)return c(w),o;if(S===p)return c(w),l;S=S.sibling}throw Error(r(188))}if(f.return!==p.return)f=w,p=S;else{for(var N=!1,O=w.child;O;){if(O===f){N=!0,f=w,p=S;break}if(O===p){N=!0,p=w,f=S;break}O=O.sibling}if(!N){for(O=S.child;O;){if(O===f){N=!0,f=S,p=w;break}if(O===p){N=!0,p=S,f=w;break}O=O.sibling}if(!N)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function G(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case D:return o.displayName||"Context";case I:return(o._context.displayName||"Context")+".Consumer";case k:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return l=o.displayName||null,l!==null?l:G(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return G(o(l))}catch{}}return null}var ne=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},fe=[],Ie=-1;function j(o){return{current:o}}function ae(o){0>Ie||(o.current=fe[Ie],fe[Ie]=null,Ie--)}function me(o,l){Ie++,fe[Ie]=o.current,o.current=l}var ge=j(null),Te=j(null),Re=j(null),ke=j(null);function At(o,l){switch(me(Re,l),me(Te,o),me(ge,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?i_(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=i_(l),o=a_(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ae(ge),me(ge,o)}function oe(){ae(ge),ae(Te),ae(Re)}function Le(o){o.memoizedState!==null&&me(ke,o);var l=ge.current,f=a_(l,o.type);l!==f&&(me(Te,o),me(ge,f))}function $e(o){Te.current===o&&(ae(ge),ae(Te)),ke.current===o&&(ae(ke),ou._currentValue=ce)}var de,mt;function Ge(o){if(de===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",mt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+o+mt}var Lt=!1;function Ft(o,l){if(!o||Lt)return"";Lt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ee=ie}Reflect.construct(o,[],ue)}else{try{ue.call()}catch(ie){ee=ie}o.call(ue.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ue=o())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),N=S[0],O=S[1];if(N&&O){var L=N.split(`
`),Q=O.split(`
`);for(w=p=0;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;for(;w<Q.length&&!Q[w].includes("DetermineComponentFrameRoot");)w++;if(p===L.length||w===Q.length)for(p=L.length-1,w=Q.length-1;1<=p&&0<=w&&L[p]!==Q[w];)w--;for(;1<=p&&0<=w;p--,w--)if(L[p]!==Q[w]){if(p!==1||w!==1)do if(p--,w--,0>w||L[p]!==Q[w]){var se=`
`+L[p].replace(" at new "," at ");return o.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",o.displayName)),se}while(1<=p&&0<=w);break}}}finally{Lt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Ge(f):""}function cr(o,l){switch(o.tag){case 26:case 27:case 5:return Ge(o.type);case 16:return Ge("Lazy");case 13:return o.child!==l&&l!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ft(o.type,!1);case 11:return Ft(o.type.render,!1);case 1:return Ft(o.type,!0);case 31:return Ge("Activity");default:return""}}function za(o){try{var l="",f=null;do l+=cr(o,f),f=o,o=o.return;while(o);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var vl=Object.prototype.hasOwnProperty,bl=e.unstable_scheduleCallback,xl=e.unstable_cancelCallback,Mm=e.unstable_shouldYield,Lm=e.unstable_requestPaint,Cn=e.unstable_now,jm=e.unstable_getCurrentPriorityLevel,Cc=e.unstable_ImmediatePriority,Nc=e.unstable_UserBlockingPriority,jo=e.unstable_NormalPriority,Um=e.unstable_LowPriority,Dc=e.unstable_IdlePriority,Bm=e.log,qm=e.unstable_setDisableYieldValue,Zr=null,_t=null;function ei(o){if(typeof Bm=="function"&&qm(o),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Zr,o)}catch{}}var Nn=Math.clz32?Math.clz32:F,V=Math.log,Z=Math.LN2;function F(o){return o>>>=0,o===0?32:31-(V(o)/Z|0)|0}var X=256,he=262144,ve=4194304;function Me(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function De(o,l,f){var p=o.pendingLanes;if(p===0)return 0;var w=0,S=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var O=p&134217727;return O!==0?(p=O&~S,p!==0?w=Me(p):(N&=O,N!==0?w=Me(N):f||(f=O&~o,f!==0&&(w=Me(f))))):(O=p&~S,O!==0?w=Me(O):N!==0?w=Me(N):f||(f=p&~o,f!==0&&(w=Me(f)))),w===0?0:l!==0&&l!==w&&(l&S)===0&&(S=w&-w,f=l&-l,S>=f||S===32&&(f&4194048)!==0)?l:w}function Ue(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function bt(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jt(){var o=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),o}function ti(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Dn(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function SU(o,l,f,p,w,S){var N=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var O=o.entanglements,L=o.expirationTimes,Q=o.hiddenUpdates;for(f=N&~f;0<f;){var se=31-Nn(f),ue=1<<se;O[se]=0,L[se]=-1;var ee=Q[se];if(ee!==null)for(Q[se]=null,se=0;se<ee.length;se++){var ie=ee[se];ie!==null&&(ie.lane&=-536870913)}f&=~ue}p!==0&&qw(o,p,0),S!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=S&~(N&~l))}function qw(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-Nn(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|f&261930}function $w(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var p=31-Nn(f),w=1<<p;w&l|o[p]&l&&(o[p]|=l),f&=~w}}function Gw(o,l){var f=l&-l;return f=(f&42)!==0?1:$m(f),(f&(o.suspendedLanes|l))!==0?0:f}function $m(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Gm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function zw(){var o=te.p;return o!==0?o:(o=window.event,o===void 0?32:N_(o.type))}function Hw(o,l){var f=te.p;try{return te.p=o,l()}finally{te.p=f}}var ea=Math.random().toString(36).slice(2),fn="__reactFiber$"+ea,Ln="__reactProps$"+ea,Uo="__reactContainer$"+ea,zm="__reactEvents$"+ea,EU="__reactListeners$"+ea,AU="__reactHandles$"+ea,Fw="__reactResources$"+ea,wl="__reactMarker$"+ea;function Hm(o){delete o[fn],delete o[Ln],delete o[zm],delete o[EU],delete o[AU]}function Bo(o){var l=o[fn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Uo]||f[fn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=f_(o);o!==null;){if(f=o[fn])return f;o=f_(o)}return l}o=f,f=o.parentNode}return null}function qo(o){if(o=o[fn]||o[Uo]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Sl(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function $o(o){var l=o[Fw];return l||(l=o[Fw]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function en(o){o[wl]=!0}var Vw=new Set,Ww={};function Ha(o,l){Go(o,l),Go(o+"Capture",l)}function Go(o,l){for(Ww[o]=l,o=0;o<l.length;o++)Vw.add(l[o])}var _U=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yw={},Kw={};function TU(o){return vl.call(Kw,o)?!0:vl.call(Yw,o)?!1:_U.test(o)?Kw[o]=!0:(Yw[o]=!0,!1)}function Ic(o,l,f){if(TU(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function Pc(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function fi(o,l,f,p){if(p===null)o.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+p)}}function dr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Jw(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function CU(o,l,f){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,S=p.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(N){f=""+N,S.call(this,N)}}),Object.defineProperty(o,l,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(N){f=""+N},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Fm(o){if(!o._valueTracker){var l=Jw(o)?"checked":"value";o._valueTracker=CU(o,l,""+o[l])}}function Xw(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return o&&(p=Jw(o)?o.checked?"true":"false":o.value),o=p,o!==f?(l.setValue(o),!0):!1}function kc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var NU=/[\n"\\]/g;function fr(o){return o.replace(NU,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Vm(o,l,f,p,w,S,N,O){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),l!=null?N==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+dr(l)):o.value!==""+dr(l)&&(o.value=""+dr(l)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),l!=null?Wm(o,N,dr(l)):f!=null?Wm(o,N,dr(f)):p!=null&&o.removeAttribute("value"),w==null&&S!=null&&(o.defaultChecked=!!S),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+dr(O):o.removeAttribute("name")}function Qw(o,l,f,p,w,S,N,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),l!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){Fm(o);return}f=f!=null?""+dr(f):"",l=l!=null?""+dr(l):f,O||l===o.value||(o.value=l),o.defaultValue=l}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=O?o.checked:!!p,o.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),Fm(o)}function Wm(o,l,f){l==="number"&&kc(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function zo(o,l,f,p){if(o=o.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=l.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&p&&(o[f].defaultSelected=!0)}else{for(f=""+dr(f),l=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,p&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function Zw(o,l,f){if(l!=null&&(l=""+dr(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+dr(f):""}function eS(o,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(ne(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=dr(l),o.defaultValue=f,p=o.textContent,p===f&&p!==""&&p!==null&&(o.value=p),Fm(o)}function Ho(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var DU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tS(o,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,f):typeof f!="number"||f===0||DU.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function nS(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var w in l)p=l[w],l.hasOwnProperty(w)&&f[w]!==p&&tS(o,w,p)}else for(var S in l)l.hasOwnProperty(S)&&tS(o,S,l[S])}function Ym(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(o){return PU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function hi(){}var Km=null;function Jm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Fo=null,Vo=null;function rS(o){var l=qo(o);if(l&&(o=l.stateNode)){var f=o[Ln]||null;e:switch(o=l.stateNode,l.type){case"input":if(Vm(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+fr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==o&&p.form===o.form){var w=p[Ln]||null;if(!w)throw Error(r(90));Vm(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===o.form&&Xw(p)}break e;case"textarea":Zw(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&zo(o,!!f.multiple,l,!1)}}}var Xm=!1;function iS(o,l,f){if(Xm)return o(l,f);Xm=!0;try{var p=o(l);return p}finally{if(Xm=!1,(Fo!==null||Vo!==null)&&(xd(),Fo&&(l=Fo,o=Vo,Vo=Fo=null,rS(l),o)))for(l=0;l<o.length;l++)rS(o[l])}}function El(o,l){var f=o.stateNode;if(f===null)return null;var p=f[Ln]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=!1;if(mi)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Qm=!1}var ta=null,Zm=null,Rc=null;function aS(){if(Rc)return Rc;var o,l=Zm,f=l.length,p,w="value"in ta?ta.value:ta.textContent,S=w.length;for(o=0;o<f&&l[o]===w[o];o++);var N=f-o;for(p=1;p<=N&&l[f-p]===w[S-p];p++);return Rc=w.slice(o,1<p?1-p:void 0)}function Mc(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Lc(){return!0}function oS(){return!1}function jn(o){function l(f,p,w,S,N){this._reactName=f,this._targetInst=w,this.type=p,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(f=o[O],this[O]=f?f(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Lc:oS,this.isPropagationStopped=oS,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),l}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=jn(Fa),_l=m({},Fa,{view:0,detail:0}),kU=jn(_l),ep,tp,Tl,Uc=m({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Tl&&(Tl&&o.type==="mousemove"?(ep=o.screenX-Tl.screenX,tp=o.screenY-Tl.screenY):tp=ep=0,Tl=o),ep)},movementY:function(o){return"movementY"in o?o.movementY:tp}}),sS=jn(Uc),OU=m({},Uc,{dataTransfer:0}),RU=jn(OU),MU=m({},_l,{relatedTarget:0}),np=jn(MU),LU=m({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),jU=jn(LU),UU=m({},Fa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),BU=jn(UU),qU=m({},Fa,{data:0}),lS=jn(qU),$U={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HU(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=zU[o])?!!l[o]:!1}function rp(){return HU}var FU=m({},_l,{key:function(o){if(o.key){var l=$U[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Mc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?GU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rp,charCode:function(o){return o.type==="keypress"?Mc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Mc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),VU=jn(FU),WU=m({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uS=jn(WU),YU=m({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rp}),KU=jn(YU),JU=m({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),XU=jn(JU),QU=m({},Uc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ZU=jn(QU),eB=m({},Fa,{newState:0,oldState:0}),tB=jn(eB),nB=[9,13,27,32],ip=mi&&"CompositionEvent"in window,Cl=null;mi&&"documentMode"in document&&(Cl=document.documentMode);var rB=mi&&"TextEvent"in window&&!Cl,cS=mi&&(!ip||Cl&&8<Cl&&11>=Cl),dS=" ",fS=!1;function hS(o,l){switch(o){case"keyup":return nB.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Wo=!1;function iB(o,l){switch(o){case"compositionend":return mS(l);case"keypress":return l.which!==32?null:(fS=!0,dS);case"textInput":return o=l.data,o===dS&&fS?null:o;default:return null}}function aB(o,l){if(Wo)return o==="compositionend"||!ip&&hS(o,l)?(o=aS(),Rc=Zm=ta=null,Wo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return cS&&l.locale!=="ko"?null:l.data;default:return null}}var oB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!oB[o.type]:l==="textarea"}function gS(o,l,f,p){Fo?Vo?Vo.push(p):Vo=[p]:Fo=p,l=Cd(l,"onChange"),0<l.length&&(f=new jc("onChange","change",null,f,p),o.push({event:f,listeners:l}))}var Nl=null,Dl=null;function sB(o){QA(o,0)}function Bc(o){var l=Sl(o);if(Xw(l))return o}function yS(o,l){if(o==="change")return l}var vS=!1;if(mi){var ap;if(mi){var op="oninput"in document;if(!op){var bS=document.createElement("div");bS.setAttribute("oninput","return;"),op=typeof bS.oninput=="function"}ap=op}else ap=!1;vS=ap&&(!document.documentMode||9<document.documentMode)}function xS(){Nl&&(Nl.detachEvent("onpropertychange",wS),Dl=Nl=null)}function wS(o){if(o.propertyName==="value"&&Bc(Dl)){var l=[];gS(l,Dl,o,Jm(o)),iS(sB,l)}}function lB(o,l,f){o==="focusin"?(xS(),Nl=l,Dl=f,Nl.attachEvent("onpropertychange",wS)):o==="focusout"&&xS()}function uB(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bc(Dl)}function cB(o,l){if(o==="click")return Bc(l)}function dB(o,l){if(o==="input"||o==="change")return Bc(l)}function fB(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Wn=typeof Object.is=="function"?Object.is:fB;function Il(o,l){if(Wn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var w=f[p];if(!vl.call(l,w)||!Wn(o[w],l[w]))return!1}return!0}function SS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ES(o,l){var f=SS(o);o=0;for(var p;f;){if(f.nodeType===3){if(p=o+f.textContent.length,o<=l&&p>=l)return{node:f,offset:l-o};o=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=SS(f)}}function AS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?AS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function _S(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=kc(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=kc(o.document)}return l}function sp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var hB=mi&&"documentMode"in document&&11>=document.documentMode,Yo=null,lp=null,Pl=null,up=!1;function TS(o,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;up||Yo==null||Yo!==kc(p)||(p=Yo,"selectionStart"in p&&sp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Pl&&Il(Pl,p)||(Pl=p,p=Cd(lp,"onSelect"),0<p.length&&(l=new jc("onSelect","select",null,l,f),o.push({event:l,listeners:p}),l.target=Yo)))}function Va(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Ko={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},cp={},CS={};mi&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Wa(o){if(cp[o])return cp[o];if(!Ko[o])return o;var l=Ko[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in CS)return cp[o]=l[f];return o}var NS=Wa("animationend"),DS=Wa("animationiteration"),IS=Wa("animationstart"),mB=Wa("transitionrun"),pB=Wa("transitionstart"),gB=Wa("transitioncancel"),PS=Wa("transitionend"),kS=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function Lr(o,l){kS.set(o,l),Ha(l,[o])}var qc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},hr=[],Jo=0,fp=0;function $c(){for(var o=Jo,l=fp=Jo=0;l<o;){var f=hr[l];hr[l++]=null;var p=hr[l];hr[l++]=null;var w=hr[l];hr[l++]=null;var S=hr[l];if(hr[l++]=null,p!==null&&w!==null){var N=p.pending;N===null?w.next=w:(w.next=N.next,N.next=w),p.pending=w}S!==0&&OS(f,w,S)}}function Gc(o,l,f,p){hr[Jo++]=o,hr[Jo++]=l,hr[Jo++]=f,hr[Jo++]=p,fp|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function hp(o,l,f,p){return Gc(o,l,f,p),zc(o)}function Ya(o,l){return Gc(o,null,null,l),zc(o)}function OS(o,l,f){o.lanes|=f;var p=o.alternate;p!==null&&(p.lanes|=f);for(var w=!1,S=o.return;S!==null;)S.childLanes|=f,p=S.alternate,p!==null&&(p.childLanes|=f),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(w=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,w&&l!==null&&(w=31-Nn(f),o=S.hiddenUpdates,p=o[w],p===null?o[w]=[l]:p.push(l),l.lane=f|536870912),S):null}function zc(o){if(50<Zl)throw Zl=0,Sg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Xo={};function yB(o,l,f,p){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(o,l,f,p){return new yB(o,l,f,p)}function mp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function pi(o,l){var f=o.alternate;return f===null?(f=Yn(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function RS(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Hc(o,l,f,p,w,S){var N=0;if(p=o,typeof o=="function")mp(o)&&(N=1);else if(typeof o=="string")N=Sq(o,f,ge.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Yn(31,f,l,w),o.elementType=B,o.lanes=S,o;case E:return Ka(f.children,w,S,l);case _:N=8,w|=24;break;case C:return o=Yn(12,f,l,w|2),o.elementType=C,o.lanes=S,o;case P:return o=Yn(13,f,l,w),o.elementType=P,o.lanes=S,o;case R:return o=Yn(19,f,l,w),o.elementType=R,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:N=10;break e;case I:N=9;break e;case k:N=11;break e;case M:N=14;break e;case z:N=16,p=null;break e}N=29,f=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=Yn(N,f,l,w),l.elementType=o,l.type=p,l.lanes=S,l}function Ka(o,l,f,p){return o=Yn(7,o,p,l),o.lanes=f,o}function pp(o,l,f){return o=Yn(6,o,null,l),o.lanes=f,o}function MS(o){var l=Yn(18,null,null,0);return l.stateNode=o,l}function gp(o,l,f){return l=Yn(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var LS=new WeakMap;function mr(o,l){if(typeof o=="object"&&o!==null){var f=LS.get(o);return f!==void 0?f:(l={value:o,source:l,stack:za(l)},LS.set(o,l),l)}return{value:o,source:l,stack:za(l)}}var Qo=[],Zo=0,Fc=null,kl=0,pr=[],gr=0,na=null,ni=1,ri="";function gi(o,l){Qo[Zo++]=kl,Qo[Zo++]=Fc,Fc=o,kl=l}function jS(o,l,f){pr[gr++]=ni,pr[gr++]=ri,pr[gr++]=na,na=o;var p=ni;o=ri;var w=32-Nn(p)-1;p&=~(1<<w),f+=1;var S=32-Nn(l)+w;if(30<S){var N=w-w%5;S=(p&(1<<N)-1).toString(32),p>>=N,w-=N,ni=1<<32-Nn(l)+w|f<<w|p,ri=S+o}else ni=1<<S|f<<w|p,ri=o}function yp(o){o.return!==null&&(gi(o,1),jS(o,1,0))}function vp(o){for(;o===Fc;)Fc=Qo[--Zo],Qo[Zo]=null,kl=Qo[--Zo],Qo[Zo]=null;for(;o===na;)na=pr[--gr],pr[gr]=null,ri=pr[--gr],pr[gr]=null,ni=pr[--gr],pr[gr]=null}function US(o,l){pr[gr++]=ni,pr[gr++]=ri,pr[gr++]=na,ni=l.id,ri=l.overflow,na=o}var hn=null,pt=null,We=!1,ra=null,yr=!1,bp=Error(r(519));function ia(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(mr(l,o)),bp}function BS(o){var l=o.stateNode,f=o.type,p=o.memoizedProps;switch(l[fn]=o,l[Ln]=p,f){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(f=0;f<tu.length;f++)He(tu[f],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":He("invalid",l),Qw(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":He("invalid",l);break;case"textarea":He("invalid",l),eS(l,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||n_(l.textContent,f)?(p.popover!=null&&(He("beforetoggle",l),He("toggle",l)),p.onScroll!=null&&He("scroll",l),p.onScrollEnd!=null&&He("scrollend",l),p.onClick!=null&&(l.onclick=hi),l=!0):l=!1,l||ia(o,!0)}function qS(o){for(hn=o.return;hn;)switch(hn.tag){case 5:case 31:case 13:yr=!1;return;case 27:case 3:yr=!0;return;default:hn=hn.return}}function es(o){if(o!==hn)return!1;if(!We)return qS(o),We=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||jg(o.type,o.memoizedProps)),f=!f),f&&pt&&ia(o),qS(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));pt=d_(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));pt=d_(o)}else l===27?(l=pt,va(o.type)?(o=Gg,Gg=null,pt=o):pt=l):pt=hn?br(o.stateNode.nextSibling):null;return!0}function Ja(){pt=hn=null,We=!1}function xp(){var o=ra;return o!==null&&($n===null?$n=o:$n.push.apply($n,o),ra=null),o}function Ol(o){ra===null?ra=[o]:ra.push(o)}var wp=j(null),Xa=null,yi=null;function aa(o,l,f){me(wp,l._currentValue),l._currentValue=f}function vi(o){o._currentValue=wp.current,ae(wp)}function Sp(o,l,f){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===f)break;o=o.return}}function Ep(o,l,f,p){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var S=w.dependencies;if(S!==null){var N=w.child;S=S.firstContext;e:for(;S!==null;){var O=S;S=w;for(var L=0;L<l.length;L++)if(O.context===l[L]){S.lanes|=f,O=S.alternate,O!==null&&(O.lanes|=f),Sp(S.return,f,o),p||(N=null);break e}S=O.next}}else if(w.tag===18){if(N=w.return,N===null)throw Error(r(341));N.lanes|=f,S=N.alternate,S!==null&&(S.lanes|=f),Sp(N,f,o),N=null}else N=w.child;if(N!==null)N.return=w;else for(N=w;N!==null;){if(N===o){N=null;break}if(w=N.sibling,w!==null){w.return=N.return,N=w;break}N=N.return}w=N}}function ts(o,l,f,p){o=null;for(var w=l,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var N=w.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var O=w.type;Wn(w.pendingProps.value,N.value)||(o!==null?o.push(O):o=[O])}}else if(w===ke.current){if(N=w.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(ou):o=[ou])}w=w.return}o!==null&&Ep(l,o,f,p),l.flags|=262144}function Vc(o){for(o=o.firstContext;o!==null;){if(!Wn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Qa(o){Xa=o,yi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function mn(o){return $S(Xa,o)}function Wc(o,l){return Xa===null&&Qa(o),$S(o,l)}function $S(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},yi===null){if(o===null)throw Error(r(308));yi=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else yi=yi.next=l;return f}var vB=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},bB=e.unstable_scheduleCallback,xB=e.unstable_NormalPriority,Ut={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new vB,data:new Map,refCount:0}}function Rl(o){o.refCount--,o.refCount===0&&bB(xB,function(){o.controller.abort()})}var Ml=null,_p=0,ns=0,rs=null;function wB(o,l){if(Ml===null){var f=Ml=[];_p=0,ns=Ng(),rs={status:"pending",value:void 0,then:function(p){f.push(p)}}}return _p++,l.then(GS,GS),l}function GS(){if(--_p===0&&Ml!==null){rs!==null&&(rs.status="fulfilled");var o=Ml;Ml=null,ns=0,rs=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function SB(o,l){var f=[],p={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var w=0;w<f.length;w++)(0,f[w])(l)},function(w){for(p.status="rejected",p.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),p}var zS=U.S;U.S=function(o,l){TA=Cn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&wB(o,l),zS!==null&&zS(o,l)};var Za=j(null);function Tp(){var o=Za.current;return o!==null?o:ct.pooledCache}function Yc(o,l){l===null?me(Za,Za.current):me(Za,l.pool)}function HS(){var o=Tp();return o===null?null:{parent:Ut._currentValue,pool:o}}var is=Error(r(460)),Cp=Error(r(474)),Kc=Error(r(542)),Jc={then:function(){}};function FS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function VS(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(hi,hi),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,YS(o),o;default:if(typeof l.status=="string")l.then(hi,hi);else{if(o=ct,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=p}},function(p){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,YS(o),o}throw to=l,is}}function eo(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(to=f,is):f}}var to=null;function WS(){if(to===null)throw Error(r(459));var o=to;return to=null,o}function YS(o){if(o===is||o===Kc)throw Error(r(483))}var as=null,Ll=0;function Xc(o){var l=Ll;return Ll+=1,as===null&&(as=[]),VS(as,o,l)}function jl(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Qc(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function KS(o){function l(H,q){if(o){var J=H.deletions;J===null?(H.deletions=[q],H.flags|=16):J.push(q)}}function f(H,q){if(!o)return null;for(;q!==null;)l(H,q),q=q.sibling;return null}function p(H){for(var q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function w(H,q){return H=pi(H,q),H.index=0,H.sibling=null,H}function S(H,q,J){return H.index=J,o?(J=H.alternate,J!==null?(J=J.index,J<q?(H.flags|=67108866,q):J):(H.flags|=67108866,q)):(H.flags|=1048576,q)}function N(H){return o&&H.alternate===null&&(H.flags|=67108866),H}function O(H,q,J,le){return q===null||q.tag!==6?(q=pp(J,H.mode,le),q.return=H,q):(q=w(q,J),q.return=H,q)}function L(H,q,J,le){var Ne=J.type;return Ne===E?se(H,q,J.props.children,le,J.key):q!==null&&(q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&eo(Ne)===q.type)?(q=w(q,J.props),jl(q,J),q.return=H,q):(q=Hc(J.type,J.key,J.props,null,H.mode,le),jl(q,J),q.return=H,q)}function Q(H,q,J,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=gp(J,H.mode,le),q.return=H,q):(q=w(q,J.children||[]),q.return=H,q)}function se(H,q,J,le,Ne){return q===null||q.tag!==7?(q=Ka(J,H.mode,le,Ne),q.return=H,q):(q=w(q,J),q.return=H,q)}function ue(H,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=pp(""+q,H.mode,J),q.return=H,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return J=Hc(q.type,q.key,q.props,null,H.mode,J),jl(J,q),J.return=H,J;case A:return q=gp(q,H.mode,J),q.return=H,q;case z:return q=eo(q),ue(H,q,J)}if(ne(q)||Y(q))return q=Ka(q,H.mode,J,null),q.return=H,q;if(typeof q.then=="function")return ue(H,Xc(q),J);if(q.$$typeof===D)return ue(H,Wc(H,q),J);Qc(H,q)}return null}function ee(H,q,J,le){var Ne=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ne!==null?null:O(H,q,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Ne?L(H,q,J,le):null;case A:return J.key===Ne?Q(H,q,J,le):null;case z:return J=eo(J),ee(H,q,J,le)}if(ne(J)||Y(J))return Ne!==null?null:se(H,q,J,le,null);if(typeof J.then=="function")return ee(H,q,Xc(J),le);if(J.$$typeof===D)return ee(H,q,Wc(H,J),le);Qc(H,J)}return null}function ie(H,q,J,le,Ne){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return H=H.get(J)||null,O(q,H,""+le,Ne);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return H=H.get(le.key===null?J:le.key)||null,L(q,H,le,Ne);case A:return H=H.get(le.key===null?J:le.key)||null,Q(q,H,le,Ne);case z:return le=eo(le),ie(H,q,J,le,Ne)}if(ne(le)||Y(le))return H=H.get(J)||null,se(q,H,le,Ne,null);if(typeof le.then=="function")return ie(H,q,J,Xc(le),Ne);if(le.$$typeof===D)return ie(H,q,J,Wc(q,le),Ne);Qc(q,le)}return null}function xe(H,q,J,le){for(var Ne=null,Ke=null,Se=q,qe=q=0,Ve=null;Se!==null&&qe<J.length;qe++){Se.index>qe?(Ve=Se,Se=null):Ve=Se.sibling;var Je=ee(H,Se,J[qe],le);if(Je===null){Se===null&&(Se=Ve);break}o&&Se&&Je.alternate===null&&l(H,Se),q=S(Je,q,qe),Ke===null?Ne=Je:Ke.sibling=Je,Ke=Je,Se=Ve}if(qe===J.length)return f(H,Se),We&&gi(H,qe),Ne;if(Se===null){for(;qe<J.length;qe++)Se=ue(H,J[qe],le),Se!==null&&(q=S(Se,q,qe),Ke===null?Ne=Se:Ke.sibling=Se,Ke=Se);return We&&gi(H,qe),Ne}for(Se=p(Se);qe<J.length;qe++)Ve=ie(Se,H,qe,J[qe],le),Ve!==null&&(o&&Ve.alternate!==null&&Se.delete(Ve.key===null?qe:Ve.key),q=S(Ve,q,qe),Ke===null?Ne=Ve:Ke.sibling=Ve,Ke=Ve);return o&&Se.forEach(function(Ea){return l(H,Ea)}),We&&gi(H,qe),Ne}function Pe(H,q,J,le){if(J==null)throw Error(r(151));for(var Ne=null,Ke=null,Se=q,qe=q=0,Ve=null,Je=J.next();Se!==null&&!Je.done;qe++,Je=J.next()){Se.index>qe?(Ve=Se,Se=null):Ve=Se.sibling;var Ea=ee(H,Se,Je.value,le);if(Ea===null){Se===null&&(Se=Ve);break}o&&Se&&Ea.alternate===null&&l(H,Se),q=S(Ea,q,qe),Ke===null?Ne=Ea:Ke.sibling=Ea,Ke=Ea,Se=Ve}if(Je.done)return f(H,Se),We&&gi(H,qe),Ne;if(Se===null){for(;!Je.done;qe++,Je=J.next())Je=ue(H,Je.value,le),Je!==null&&(q=S(Je,q,qe),Ke===null?Ne=Je:Ke.sibling=Je,Ke=Je);return We&&gi(H,qe),Ne}for(Se=p(Se);!Je.done;qe++,Je=J.next())Je=ie(Se,H,qe,Je.value,le),Je!==null&&(o&&Je.alternate!==null&&Se.delete(Je.key===null?qe:Je.key),q=S(Je,q,qe),Ke===null?Ne=Je:Ke.sibling=Je,Ke=Je);return o&&Se.forEach(function(Oq){return l(H,Oq)}),We&&gi(H,qe),Ne}function lt(H,q,J,le){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var Ne=J.key;q!==null;){if(q.key===Ne){if(Ne=J.type,Ne===E){if(q.tag===7){f(H,q.sibling),le=w(q,J.props.children),le.return=H,H=le;break e}}else if(q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===z&&eo(Ne)===q.type){f(H,q.sibling),le=w(q,J.props),jl(le,J),le.return=H,H=le;break e}f(H,q);break}else l(H,q);q=q.sibling}J.type===E?(le=Ka(J.props.children,H.mode,le,J.key),le.return=H,H=le):(le=Hc(J.type,J.key,J.props,null,H.mode,le),jl(le,J),le.return=H,H=le)}return N(H);case A:e:{for(Ne=J.key;q!==null;){if(q.key===Ne)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){f(H,q.sibling),le=w(q,J.children||[]),le.return=H,H=le;break e}else{f(H,q);break}else l(H,q);q=q.sibling}le=gp(J,H.mode,le),le.return=H,H=le}return N(H);case z:return J=eo(J),lt(H,q,J,le)}if(ne(J))return xe(H,q,J,le);if(Y(J)){if(Ne=Y(J),typeof Ne!="function")throw Error(r(150));return J=Ne.call(J),Pe(H,q,J,le)}if(typeof J.then=="function")return lt(H,q,Xc(J),le);if(J.$$typeof===D)return lt(H,q,Wc(H,J),le);Qc(H,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(f(H,q.sibling),le=w(q,J),le.return=H,H=le):(f(H,q),le=pp(J,H.mode,le),le.return=H,H=le),N(H)):f(H,q)}return function(H,q,J,le){try{Ll=0;var Ne=lt(H,q,J,le);return as=null,Ne}catch(Se){if(Se===is||Se===Kc)throw Se;var Ke=Yn(29,Se,null,H.mode);return Ke.lanes=le,Ke.return=H,Ke}finally{}}}var no=KS(!0),JS=KS(!1),oa=!1;function Np(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function sa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function la(o,l,f){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ze&2)!==0){var w=p.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),p.pending=l,l=zc(o),OS(o,null,f),l}return Gc(o,p,l,f),zc(o)}function Ul(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,$w(o,f)}}function Ip(o,l){var f=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var w=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?w=S=N:S=S.next=N,f=f.next}while(f!==null);S===null?w=S=l:S=S.next=l}else w=S=l;f={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var Pp=!1;function Bl(){if(Pp){var o=rs;if(o!==null)throw o}}function ql(o,l,f,p){Pp=!1;var w=o.updateQueue;oa=!1;var S=w.firstBaseUpdate,N=w.lastBaseUpdate,O=w.shared.pending;if(O!==null){w.shared.pending=null;var L=O,Q=L.next;L.next=null,N===null?S=Q:N.next=Q,N=L;var se=o.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==N&&(O===null?se.firstBaseUpdate=Q:O.next=Q,se.lastBaseUpdate=L))}if(S!==null){var ue=w.baseState;N=0,se=Q=L=null,O=S;do{var ee=O.lane&-536870913,ie=ee!==O.lane;if(ie?(Fe&ee)===ee:(p&ee)===ee){ee!==0&&ee===ns&&(Pp=!0),se!==null&&(se=se.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var xe=o,Pe=O;ee=l;var lt=f;switch(Pe.tag){case 1:if(xe=Pe.payload,typeof xe=="function"){ue=xe.call(lt,ue,ee);break e}ue=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Pe.payload,ee=typeof xe=="function"?xe.call(lt,ue,ee):xe,ee==null)break e;ue=m({},ue,ee);break e;case 2:oa=!0}}ee=O.callback,ee!==null&&(o.flags|=64,ie&&(o.flags|=8192),ie=w.callbacks,ie===null?w.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(Q=se=ie,L=ue):se=se.next=ie,N|=ee;if(O=O.next,O===null){if(O=w.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,w.lastBaseUpdate=ie,w.shared.pending=null}}while(!0);se===null&&(L=ue),w.baseState=L,w.firstBaseUpdate=Q,w.lastBaseUpdate=se,S===null&&(w.shared.lanes=0),ha|=N,o.lanes=N,o.memoizedState=ue}}function XS(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function QS(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)XS(f[o],l)}var os=j(null),Zc=j(0);function ZS(o,l){o=Ci,me(Zc,o),me(os,l),Ci=o|l.baseLanes}function kp(){me(Zc,Ci),me(os,os.current)}function Op(){Ci=Zc.current,ae(os),ae(Zc)}var Kn=j(null),vr=null;function ua(o){var l=o.alternate;me(kt,kt.current&1),me(Kn,o),vr===null&&(l===null||os.current!==null||l.memoizedState!==null)&&(vr=o)}function Rp(o){me(kt,kt.current),me(Kn,o),vr===null&&(vr=o)}function eE(o){o.tag===22?(me(kt,kt.current),me(Kn,o),vr===null&&(vr=o)):ca()}function ca(){me(kt,kt.current),me(Kn,Kn.current)}function Jn(o){ae(Kn),vr===o&&(vr=null),ae(kt)}var kt=j(0);function ed(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||qg(f)||$g(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var bi=0,Be=null,ot=null,Bt=null,td=!1,ss=!1,ro=!1,nd=0,$l=0,ls=null,EB=0;function Dt(){throw Error(r(321))}function Mp(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Wn(o[f],l[f]))return!1;return!0}function Lp(o,l,f,p,w,S){return bi=S,Be=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=o===null||o.memoizedState===null?jE:Xp,ro=!1,S=f(p,w),ro=!1,ss&&(S=nE(l,f,p,w)),tE(o),S}function tE(o){U.H=Hl;var l=ot!==null&&ot.next!==null;if(bi=0,Bt=ot=Be=null,td=!1,$l=0,ls=null,l)throw Error(r(300));o===null||qt||(o=o.dependencies,o!==null&&Vc(o)&&(qt=!0))}function nE(o,l,f,p){Be=o;var w=0;do{if(ss&&(ls=null),$l=0,ss=!1,25<=w)throw Error(r(301));if(w+=1,Bt=ot=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=UE,S=l(f,p)}while(ss);return S}function AB(){var o=U.H,l=o.useState()[0];return l=typeof l.then=="function"?Gl(l):l,o=o.useState()[0],(ot!==null?ot.memoizedState:null)!==o&&(Be.flags|=1024),l}function jp(){var o=nd!==0;return nd=0,o}function Up(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function Bp(o){if(td){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}td=!1}bi=0,Bt=ot=Be=null,ss=!1,$l=nd=0,ls=null}function In(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Be.memoizedState=Bt=o:Bt=Bt.next=o,Bt}function Ot(){if(ot===null){var o=Be.alternate;o=o!==null?o.memoizedState:null}else o=ot.next;var l=Bt===null?Be.memoizedState:Bt.next;if(l!==null)Bt=l,ot=o;else{if(o===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ot=o,o={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Bt===null?Be.memoizedState=Bt=o:Bt=Bt.next=o}return Bt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(o){var l=$l;return $l+=1,ls===null&&(ls=[]),o=VS(ls,o,l),l=Be,(Bt===null?l.memoizedState:Bt.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?jE:Xp),o}function id(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Gl(o);if(o.$$typeof===D)return mn(o)}throw Error(r(438,String(o)))}function qp(o){var l=null,f=Be.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=Be.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=rd(),Be.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),p=0;p<o;p++)f[p]=$;return l.index++,f}function xi(o,l){return typeof l=="function"?l(o):l}function ad(o){var l=Ot();return $p(l,ot,o)}function $p(o,l,f){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var w=o.baseQueue,S=p.pending;if(S!==null){if(w!==null){var N=w.next;w.next=S.next,S.next=N}l.baseQueue=w=S,p.pending=null}if(S=o.baseState,w===null)o.memoizedState=S;else{l=w.next;var O=N=null,L=null,Q=l,se=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(Fe&ue)===ue:(bi&ue)===ue){var ee=Q.revertLane;if(ee===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===ns&&(se=!0);else if((bi&ee)===ee){Q=Q.next,ee===ns&&(se=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(O=L=ue,N=S):L=L.next=ue,Be.lanes|=ee,ha|=ee;ue=Q.action,ro&&f(S,ue),S=Q.hasEagerState?Q.eagerState:f(S,ue)}else ee={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(O=L=ee,N=S):L=L.next=ee,Be.lanes|=ue,ha|=ue;Q=Q.next}while(Q!==null&&Q!==l);if(L===null?N=S:L.next=O,!Wn(S,o.memoizedState)&&(qt=!0,se&&(f=rs,f!==null)))throw f;o.memoizedState=S,o.baseState=N,o.baseQueue=L,p.lastRenderedState=S}return w===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function Gp(o){var l=Ot(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var p=f.dispatch,w=f.pending,S=l.memoizedState;if(w!==null){f.pending=null;var N=w=w.next;do S=o(S,N.action),N=N.next;while(N!==w);Wn(S,l.memoizedState)||(qt=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,p]}function rE(o,l,f){var p=Be,w=Ot(),S=We;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=l();var N=!Wn((ot||w).memoizedState,f);if(N&&(w.memoizedState=f,qt=!0),w=w.queue,Fp(oE.bind(null,p,w,o),[o]),w.getSnapshot!==l||N||Bt!==null&&Bt.memoizedState.tag&1){if(p.flags|=2048,us(9,{destroy:void 0},aE.bind(null,p,w,f,l),null),ct===null)throw Error(r(349));S||(bi&127)!==0||iE(p,l,f)}return f}function iE(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Be.updateQueue,l===null?(l=rd(),Be.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function aE(o,l,f,p){l.value=f,l.getSnapshot=p,sE(l)&&lE(o)}function oE(o,l,f){return f(function(){sE(l)&&lE(o)})}function sE(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Wn(o,f)}catch{return!0}}function lE(o){var l=Ya(o,2);l!==null&&Gn(l,o,2)}function zp(o){var l=In();if(typeof o=="function"){var f=o;if(o=f(),ro){ei(!0);try{f()}finally{ei(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:o},l}function uE(o,l,f,p){return o.baseState=f,$p(o,ot,typeof p=="function"?p:xi)}function _B(o,l,f,p,w){if(ld(o))throw Error(r(485));if(o=l.action,o!==null){var S={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){S.listeners.push(N)}};U.T!==null?f(!0):S.isTransition=!1,p(S),f=l.pending,f===null?(S.next=l.pending=S,cE(l,S)):(S.next=f.next,l.pending=f.next=S)}}function cE(o,l){var f=l.action,p=l.payload,w=o.state;if(l.isTransition){var S=U.T,N={};U.T=N;try{var O=f(w,p),L=U.S;L!==null&&L(N,O),dE(o,l,O)}catch(Q){Hp(o,l,Q)}finally{S!==null&&N.types!==null&&(S.types=N.types),U.T=S}}else try{S=f(w,p),dE(o,l,S)}catch(Q){Hp(o,l,Q)}}function dE(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){fE(o,l,p)},function(p){return Hp(o,l,p)}):fE(o,l,f)}function fE(o,l,f){l.status="fulfilled",l.value=f,hE(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,cE(o,f)))}function Hp(o,l,f){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,hE(l),l=l.next;while(l!==p)}o.action=null}function hE(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function mE(o,l){return l}function pE(o,l){if(We){var f=ct.formState;if(f!==null){e:{var p=Be;if(We){if(pt){t:{for(var w=pt,S=yr;w.nodeType!==8;){if(!S){w=null;break t}if(w=br(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){pt=br(w.nextSibling),p=w.data==="F!";break e}}ia(p)}p=!1}p&&(l=f[0])}}return f=In(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mE,lastRenderedState:l},f.queue=p,f=RE.bind(null,Be,p),p.dispatch=f,p=zp(!1),S=Jp.bind(null,Be,!1,p.queue),p=In(),w={state:l,dispatch:null,action:o,pending:null},p.queue=w,f=_B.bind(null,Be,w,S,f),w.dispatch=f,p.memoizedState=o,[l,f,!1]}function gE(o){var l=Ot();return yE(l,ot,o)}function yE(o,l,f){if(l=$p(o,l,mE)[0],o=ad(xi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Gl(l)}catch(N){throw N===is?Kc:N}else p=l;l=Ot();var w=l.queue,S=w.dispatch;return f!==l.memoizedState&&(Be.flags|=2048,us(9,{destroy:void 0},TB.bind(null,w,f),null)),[p,S,o]}function TB(o,l){o.action=l}function vE(o){var l=Ot(),f=ot;if(f!==null)return yE(l,f,o);Ot(),l=l.memoizedState,f=Ot();var p=f.queue.dispatch;return f.memoizedState=o,[l,p,!1]}function us(o,l,f,p){return o={tag:o,create:f,deps:p,inst:l,next:null},l=Be.updateQueue,l===null&&(l=rd(),Be.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(p=f.next,f.next=o,o.next=p,l.lastEffect=o),o}function bE(){return Ot().memoizedState}function od(o,l,f,p){var w=In();Be.flags|=o,w.memoizedState=us(1|l,{destroy:void 0},f,p===void 0?null:p)}function sd(o,l,f,p){var w=Ot();p=p===void 0?null:p;var S=w.memoizedState.inst;ot!==null&&p!==null&&Mp(p,ot.memoizedState.deps)?w.memoizedState=us(l,S,f,p):(Be.flags|=o,w.memoizedState=us(1|l,S,f,p))}function xE(o,l){od(8390656,8,o,l)}function Fp(o,l){sd(2048,8,o,l)}function CB(o){Be.flags|=4;var l=Be.updateQueue;if(l===null)l=rd(),Be.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function wE(o){var l=Ot().memoizedState;return CB({ref:l,nextImpl:o}),function(){if((Ze&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function SE(o,l){return sd(4,2,o,l)}function EE(o,l){return sd(4,4,o,l)}function AE(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function _E(o,l,f){f=f!=null?f.concat([o]):null,sd(4,4,AE.bind(null,l,o),f)}function Vp(){}function TE(o,l){var f=Ot();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&Mp(l,p[1])?p[0]:(f.memoizedState=[o,l],o)}function CE(o,l){var f=Ot();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&Mp(l,p[1]))return p[0];if(p=o(),ro){ei(!0);try{o()}finally{ei(!1)}}return f.memoizedState=[p,l],p}function Wp(o,l,f){return f===void 0||(bi&1073741824)!==0&&(Fe&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=NA(),Be.lanes|=o,ha|=o,f)}function NE(o,l,f,p){return Wn(f,l)?f:os.current!==null?(o=Wp(o,f,p),Wn(o,l)||(qt=!0),o):(bi&42)===0||(bi&1073741824)!==0&&(Fe&261930)===0?(qt=!0,o.memoizedState=f):(o=NA(),Be.lanes|=o,ha|=o,l)}function DE(o,l,f,p,w){var S=te.p;te.p=S!==0&&8>S?S:8;var N=U.T,O={};U.T=O,Jp(o,!1,l,f);try{var L=w(),Q=U.S;if(Q!==null&&Q(O,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var se=SB(L,p);zl(o,l,se,Zn(o))}else zl(o,l,p,Zn(o))}catch(ue){zl(o,l,{then:function(){},status:"rejected",reason:ue},Zn())}finally{te.p=S,N!==null&&O.types!==null&&(N.types=O.types),U.T=N}}function NB(){}function Yp(o,l,f,p){if(o.tag!==5)throw Error(r(476));var w=IE(o).queue;DE(o,w,l,ce,f===null?NB:function(){return PE(o),f(p)})}function IE(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ce},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function PE(o){var l=IE(o);l.next===null&&(l=o.alternate.memoizedState),zl(o,l.next.queue,{},Zn())}function Kp(){return mn(ou)}function kE(){return Ot().memoizedState}function OE(){return Ot().memoizedState}function DB(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Zn();o=sa(f);var p=la(l,o,f);p!==null&&(Gn(p,l,f),Ul(p,l,f)),l={cache:Ap()},o.payload=l;return}l=l.return}}function IB(o,l,f){var p=Zn();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ld(o)?ME(l,f):(f=hp(o,l,f,p),f!==null&&(Gn(f,o,p),LE(f,l,p)))}function RE(o,l,f){var p=Zn();zl(o,l,f,p)}function zl(o,l,f,p){var w={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(ld(o))ME(l,w);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,O=S(N,f);if(w.hasEagerState=!0,w.eagerState=O,Wn(O,N))return Gc(o,l,w,0),ct===null&&$c(),!1}catch{}finally{}if(f=hp(o,l,w,p),f!==null)return Gn(f,o,p),LE(f,l,p),!0}return!1}function Jp(o,l,f,p){if(p={lane:2,revertLane:Ng(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ld(o)){if(l)throw Error(r(479))}else l=hp(o,f,p,2),l!==null&&Gn(l,o,2)}function ld(o){var l=o.alternate;return o===Be||l!==null&&l===Be}function ME(o,l){ss=td=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function LE(o,l,f){if((f&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,f|=p,l.lanes=f,$w(o,f)}}var Hl={readContext:mn,use:id,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Hl.useEffectEvent=Dt;var jE={readContext:mn,use:id,useCallback:function(o,l){return In().memoizedState=[o,l===void 0?null:l],o},useContext:mn,useEffect:xE,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,od(4194308,4,AE.bind(null,l,o),f)},useLayoutEffect:function(o,l){return od(4194308,4,o,l)},useInsertionEffect:function(o,l){od(4,2,o,l)},useMemo:function(o,l){var f=In();l=l===void 0?null:l;var p=o();if(ro){ei(!0);try{o()}finally{ei(!1)}}return f.memoizedState=[p,l],p},useReducer:function(o,l,f){var p=In();if(f!==void 0){var w=f(l);if(ro){ei(!0);try{f(l)}finally{ei(!1)}}}else w=l;return p.memoizedState=p.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},p.queue=o,o=o.dispatch=IB.bind(null,Be,o),[p.memoizedState,o]},useRef:function(o){var l=In();return o={current:o},l.memoizedState=o},useState:function(o){o=zp(o);var l=o.queue,f=RE.bind(null,Be,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:Vp,useDeferredValue:function(o,l){var f=In();return Wp(f,o,l)},useTransition:function(){var o=zp(!1);return o=DE.bind(null,Be,o.queue,!0,!1),In().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var p=Be,w=In();if(We){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),ct===null)throw Error(r(349));(Fe&127)!==0||iE(p,l,f)}w.memoizedState=f;var S={value:f,getSnapshot:l};return w.queue=S,xE(oE.bind(null,p,S,o),[o]),p.flags|=2048,us(9,{destroy:void 0},aE.bind(null,p,S,f,l),null),f},useId:function(){var o=In(),l=ct.identifierPrefix;if(We){var f=ri,p=ni;f=(p&~(1<<32-Nn(p)-1)).toString(32)+f,l="_"+l+"R_"+f,f=nd++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=EB++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:Kp,useFormState:pE,useActionState:pE,useOptimistic:function(o){var l=In();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Jp.bind(null,Be,!0,f),f.dispatch=l,[o,l]},useMemoCache:qp,useCacheRefresh:function(){return In().memoizedState=DB.bind(null,Be)},useEffectEvent:function(o){var l=In(),f={impl:o};return l.memoizedState=f,function(){if((Ze&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Xp={readContext:mn,use:id,useCallback:TE,useContext:mn,useEffect:Fp,useImperativeHandle:_E,useInsertionEffect:SE,useLayoutEffect:EE,useMemo:CE,useReducer:ad,useRef:bE,useState:function(){return ad(xi)},useDebugValue:Vp,useDeferredValue:function(o,l){var f=Ot();return NE(f,ot.memoizedState,o,l)},useTransition:function(){var o=ad(xi)[0],l=Ot().memoizedState;return[typeof o=="boolean"?o:Gl(o),l]},useSyncExternalStore:rE,useId:kE,useHostTransitionStatus:Kp,useFormState:gE,useActionState:gE,useOptimistic:function(o,l){var f=Ot();return uE(f,ot,o,l)},useMemoCache:qp,useCacheRefresh:OE};Xp.useEffectEvent=wE;var UE={readContext:mn,use:id,useCallback:TE,useContext:mn,useEffect:Fp,useImperativeHandle:_E,useInsertionEffect:SE,useLayoutEffect:EE,useMemo:CE,useReducer:Gp,useRef:bE,useState:function(){return Gp(xi)},useDebugValue:Vp,useDeferredValue:function(o,l){var f=Ot();return ot===null?Wp(f,o,l):NE(f,ot.memoizedState,o,l)},useTransition:function(){var o=Gp(xi)[0],l=Ot().memoizedState;return[typeof o=="boolean"?o:Gl(o),l]},useSyncExternalStore:rE,useId:kE,useHostTransitionStatus:Kp,useFormState:vE,useActionState:vE,useOptimistic:function(o,l){var f=Ot();return ot!==null?uE(f,ot,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:qp,useCacheRefresh:OE};UE.useEffectEvent=wE;function Qp(o,l,f,p){l=o.memoizedState,f=f(p,l),f=f==null?l:m({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Zp={enqueueSetState:function(o,l,f){o=o._reactInternals;var p=Zn(),w=sa(p);w.payload=l,f!=null&&(w.callback=f),l=la(o,w,p),l!==null&&(Gn(l,o,p),Ul(l,o,p))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var p=Zn(),w=sa(p);w.tag=1,w.payload=l,f!=null&&(w.callback=f),l=la(o,w,p),l!==null&&(Gn(l,o,p),Ul(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Zn(),p=sa(f);p.tag=2,l!=null&&(p.callback=l),l=la(o,p,f),l!==null&&(Gn(l,o,f),Ul(l,o,f))}};function BE(o,l,f,p,w,S,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,S,N):l.prototype&&l.prototype.isPureReactComponent?!Il(f,p)||!Il(w,S):!0}function qE(o,l,f,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==o&&Zp.enqueueReplaceState(l,l.state,null)}function io(o,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(o=o.defaultProps){f===l&&(f=m({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}function $E(o){qc(o)}function GE(o){console.error(o)}function zE(o){qc(o)}function ud(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function HE(o,l,f){try{var p=o.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function eg(o,l,f){return f=sa(f),f.tag=3,f.payload={element:null},f.callback=function(){ud(o,l)},f}function FE(o){return o=sa(o),o.tag=3,o}function VE(o,l,f,p){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var S=p.value;o.payload=function(){return w(S)},o.callback=function(){HE(l,f,p)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){HE(l,f,p),typeof w!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function PB(o,l,f,p,w){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&ts(l,f,w,!0),f=Kn.current,f!==null){switch(f.tag){case 31:case 13:return vr===null?wd():f.alternate===null&&It===0&&(It=3),f.flags&=-257,f.flags|=65536,f.lanes=w,p===Jc?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),_g(o,p,w)),!1;case 22:return f.flags|=65536,p===Jc?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),_g(o,p,w)),!1}throw Error(r(435,f.tag))}return _g(o,p,w),wd(),!1}if(We)return l=Kn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,p!==bp&&(o=Error(r(422),{cause:p}),Ol(mr(o,f)))):(p!==bp&&(l=Error(r(423),{cause:p}),Ol(mr(l,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,p=mr(p,f),w=eg(o.stateNode,p,w),Ip(o,w),It!==4&&(It=2)),!1;var S=Error(r(520),{cause:p});if(S=mr(S,f),Ql===null?Ql=[S]:Ql.push(S),It!==4&&(It=2),l===null)return!0;p=mr(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=eg(f.stateNode,p,o),Ip(f,o),!1;case 1:if(l=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ma===null||!ma.has(S))))return f.flags|=65536,w&=-w,f.lanes|=w,w=FE(w),VE(w,o,f,p),Ip(f,w),!1}f=f.return}while(f!==null);return!1}var tg=Error(r(461)),qt=!1;function pn(o,l,f,p){l.child=o===null?JS(l,null,f,p):no(l,o.child,f,p)}function WE(o,l,f,p,w){f=f.render;var S=l.ref;if("ref"in p){var N={};for(var O in p)O!=="ref"&&(N[O]=p[O])}else N=p;return Qa(l),p=Lp(o,l,f,N,S,w),O=jp(),o!==null&&!qt?(Up(o,l,w),wi(o,l,w)):(We&&O&&yp(l),l.flags|=1,pn(o,l,p,w),l.child)}function YE(o,l,f,p,w){if(o===null){var S=f.type;return typeof S=="function"&&!mp(S)&&S.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=S,KE(o,l,S,p,w)):(o=Hc(f.type,null,p,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(S=o.child,!ug(o,w)){var N=S.memoizedProps;if(f=f.compare,f=f!==null?f:Il,f(N,p)&&o.ref===l.ref)return wi(o,l,w)}return l.flags|=1,o=pi(S,p),o.ref=l.ref,o.return=l,l.child=o}function KE(o,l,f,p,w){if(o!==null){var S=o.memoizedProps;if(Il(S,p)&&o.ref===l.ref)if(qt=!1,l.pendingProps=p=S,ug(o,w))(o.flags&131072)!==0&&(qt=!0);else return l.lanes=o.lanes,wi(o,l,w)}return ng(o,l,f,p,w)}function JE(o,l,f,p){var w=p.children,S=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|f:f,o!==null){for(p=l.child=o.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~S}else p=0,l.child=null;return XE(o,l,S,f,p)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Yc(l,S!==null?S.cachePool:null),S!==null?ZS(l,S):kp(),eE(l);else return p=l.lanes=536870912,XE(o,l,S!==null?S.baseLanes|f:f,f,p)}else S!==null?(Yc(l,S.cachePool),ZS(l,S),ca(),l.memoizedState=null):(o!==null&&Yc(l,null),kp(),ca());return pn(o,l,w,f),l.child}function Fl(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function XE(o,l,f,p,w){var S=Tp();return S=S===null?null:{parent:Ut._currentValue,pool:S},l.memoizedState={baseLanes:f,cachePool:S},o!==null&&Yc(l,null),kp(),eE(l),o!==null&&ts(o,l,p,!0),l.childLanes=w,null}function cd(o,l){return l=fd({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function QE(o,l,f){return no(l,o.child,null,f),o=cd(l,l.pendingProps),o.flags|=2,Jn(l),l.memoizedState=null,o}function kB(o,l,f){var p=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(We){if(p.mode==="hidden")return o=cd(l,p),l.lanes=536870912,Fl(null,o);if(Rp(l),(o=pt)?(o=c_(o,yr),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:na!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},f=MS(o),f.return=l,l.child=f,hn=l,pt=null)):o=null,o===null)throw ia(l);return l.lanes=536870912,null}return cd(l,p)}var S=o.memoizedState;if(S!==null){var N=S.dehydrated;if(Rp(l),w)if(l.flags&256)l.flags&=-257,l=QE(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(qt||ts(o,l,f,!1),w=(f&o.childLanes)!==0,qt||w){if(p=ct,p!==null&&(N=Gw(p,f),N!==0&&N!==S.retryLane))throw S.retryLane=N,Ya(o,N),Gn(p,o,N),tg;wd(),l=QE(o,l,f)}else o=S.treeContext,pt=br(N.nextSibling),hn=l,We=!0,ra=null,yr=!1,o!==null&&US(l,o),l=cd(l,p),l.flags|=4096;return l}return o=pi(o.child,{mode:p.mode,children:p.children}),o.ref=l.ref,l.child=o,o.return=l,o}function dd(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function ng(o,l,f,p,w){return Qa(l),f=Lp(o,l,f,p,void 0,w),p=jp(),o!==null&&!qt?(Up(o,l,w),wi(o,l,w)):(We&&p&&yp(l),l.flags|=1,pn(o,l,f,w),l.child)}function ZE(o,l,f,p,w,S){return Qa(l),l.updateQueue=null,f=nE(l,p,f,w),tE(o),p=jp(),o!==null&&!qt?(Up(o,l,S),wi(o,l,S)):(We&&p&&yp(l),l.flags|=1,pn(o,l,f,S),l.child)}function eA(o,l,f,p,w){if(Qa(l),l.stateNode===null){var S=Xo,N=f.contextType;typeof N=="object"&&N!==null&&(S=mn(N)),S=new f(p,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Zp,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=p,S.state=l.memoizedState,S.refs={},Np(l),N=f.contextType,S.context=typeof N=="object"&&N!==null?mn(N):Xo,S.state=l.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(Qp(l,f,N,p),S.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(N=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),N!==S.state&&Zp.enqueueReplaceState(S,S.state,null),ql(l,p,S,w),Bl(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){S=l.stateNode;var O=l.memoizedProps,L=io(f,O);S.props=L;var Q=S.context,se=f.contextType;N=Xo,typeof se=="object"&&se!==null&&(N=mn(se));var ue=f.getDerivedStateFromProps;se=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||Q!==N)&&qE(l,S,p,N),oa=!1;var ee=l.memoizedState;S.state=ee,ql(l,p,S,w),Bl(),Q=l.memoizedState,O||ee!==Q||oa?(typeof ue=="function"&&(Qp(l,f,ue,p),Q=l.memoizedState),(L=oa||BE(l,f,L,p,ee,Q,N))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Q),S.props=p,S.state=Q,S.context=N,p=L):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{S=l.stateNode,Dp(o,l),N=l.memoizedProps,se=io(f,N),S.props=se,ue=l.pendingProps,ee=S.context,Q=f.contextType,L=Xo,typeof Q=="object"&&Q!==null&&(L=mn(Q)),O=f.getDerivedStateFromProps,(Q=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(N!==ue||ee!==L)&&qE(l,S,p,L),oa=!1,ee=l.memoizedState,S.state=ee,ql(l,p,S,w),Bl();var ie=l.memoizedState;N!==ue||ee!==ie||oa||o!==null&&o.dependencies!==null&&Vc(o.dependencies)?(typeof O=="function"&&(Qp(l,f,O,p),ie=l.memoizedState),(se=oa||BE(l,f,se,p,ee,ie,L)||o!==null&&o.dependencies!==null&&Vc(o.dependencies))?(Q||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,ie,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,ie,L)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ie),S.props=p,S.state=ie,S.context=L,p=se):(typeof S.componentDidUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ee===o.memoizedState||(l.flags|=1024),p=!1)}return S=p,dd(o,l),p=(l.flags&128)!==0,S||p?(S=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,o!==null&&p?(l.child=no(l,o.child,null,w),l.child=no(l,null,f,w)):pn(o,l,f,w),l.memoizedState=S.state,o=l.child):o=wi(o,l,w),o}function tA(o,l,f,p){return Ja(),l.flags|=256,pn(o,l,f,p),l.child}var rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(o){return{baseLanes:o,cachePool:HS()}}function ag(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Qn),o}function nA(o,l,f){var p=l.pendingProps,w=!1,S=(l.flags&128)!==0,N;if((N=S)||(N=o!==null&&o.memoizedState===null?!1:(kt.current&2)!==0),N&&(w=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,o===null){if(We){if(w?ua(l):ca(),(o=pt)?(o=c_(o,yr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:na!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},f=MS(o),f.return=l,l.child=f,hn=l,pt=null)):o=null,o===null)throw ia(l);return $g(o)?l.lanes=32:l.lanes=536870912,null}var O=p.children;return p=p.fallback,w?(ca(),w=l.mode,O=fd({mode:"hidden",children:O},w),p=Ka(p,w,f,null),O.return=l,p.return=l,O.sibling=p,l.child=O,p=l.child,p.memoizedState=ig(f),p.childLanes=ag(o,N,f),l.memoizedState=rg,Fl(null,p)):(ua(l),og(l,O))}var L=o.memoizedState;if(L!==null&&(O=L.dehydrated,O!==null)){if(S)l.flags&256?(ua(l),l.flags&=-257,l=sg(o,l,f)):l.memoizedState!==null?(ca(),l.child=o.child,l.flags|=128,l=null):(ca(),O=p.fallback,w=l.mode,p=fd({mode:"visible",children:p.children},w),O=Ka(O,w,f,null),O.flags|=2,p.return=l,O.return=l,p.sibling=O,l.child=p,no(l,o.child,null,f),p=l.child,p.memoizedState=ig(f),p.childLanes=ag(o,N,f),l.memoizedState=rg,l=Fl(null,p));else if(ua(l),$g(O)){if(N=O.nextSibling&&O.nextSibling.dataset,N)var Q=N.dgst;N=Q,p=Error(r(419)),p.stack="",p.digest=N,Ol({value:p,source:null,stack:null}),l=sg(o,l,f)}else if(qt||ts(o,l,f,!1),N=(f&o.childLanes)!==0,qt||N){if(N=ct,N!==null&&(p=Gw(N,f),p!==0&&p!==L.retryLane))throw L.retryLane=p,Ya(o,p),Gn(N,o,p),tg;qg(O)||wd(),l=sg(o,l,f)}else qg(O)?(l.flags|=192,l.child=o.child,l=null):(o=L.treeContext,pt=br(O.nextSibling),hn=l,We=!0,ra=null,yr=!1,o!==null&&US(l,o),l=og(l,p.children),l.flags|=4096);return l}return w?(ca(),O=p.fallback,w=l.mode,L=o.child,Q=L.sibling,p=pi(L,{mode:"hidden",children:p.children}),p.subtreeFlags=L.subtreeFlags&65011712,Q!==null?O=pi(Q,O):(O=Ka(O,w,f,null),O.flags|=2),O.return=l,p.return=l,p.sibling=O,l.child=p,Fl(null,p),p=l.child,O=o.child.memoizedState,O===null?O=ig(f):(w=O.cachePool,w!==null?(L=Ut._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=HS(),O={baseLanes:O.baseLanes|f,cachePool:w}),p.memoizedState=O,p.childLanes=ag(o,N,f),l.memoizedState=rg,Fl(o.child,p)):(ua(l),f=o.child,o=f.sibling,f=pi(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,o!==null&&(N=l.deletions,N===null?(l.deletions=[o],l.flags|=16):N.push(o)),l.child=f,l.memoizedState=null,f)}function og(o,l){return l=fd({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function fd(o,l){return o=Yn(22,o,null,l),o.lanes=0,o}function sg(o,l,f){return no(l,o.child,null,f),o=og(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function rA(o,l,f){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Sp(o.return,l,f)}function lg(o,l,f,p,w,S){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:w,treeForkCount:S}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=f,N.tailMode=w,N.treeForkCount=S)}function iA(o,l,f){var p=l.pendingProps,w=p.revealOrder,S=p.tail;p=p.children;var N=kt.current,O=(N&2)!==0;if(O?(N=N&1|2,l.flags|=128):N&=1,me(kt,N),pn(o,l,p,f),p=We?kl:0,!O&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&rA(o,f,l);else if(o.tag===19)rA(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(f=l.child,w=null;f!==null;)o=f.alternate,o!==null&&ed(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),lg(l,!1,w,f,S,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&ed(o)===null){l.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}lg(l,!0,f,null,S,p);break;case"together":lg(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function wi(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),ha|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(ts(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=pi(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=pi(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function ug(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Vc(o)))}function OB(o,l,f){switch(l.tag){case 3:At(l,l.stateNode.containerInfo),aa(l,Ut,o.memoizedState.cache),Ja();break;case 27:case 5:Le(l);break;case 4:At(l,l.stateNode.containerInfo);break;case 10:aa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Rp(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(ua(l),l.flags|=128,null):(f&l.child.childLanes)!==0?nA(o,l,f):(ua(l),o=wi(o,l,f),o!==null?o.sibling:null);ua(l);break;case 19:var w=(o.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(ts(o,l,f,!1),p=(f&l.childLanes)!==0),w){if(p)return iA(o,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),me(kt,kt.current),p)break;return null;case 22:return l.lanes=0,JE(o,l,f,l.pendingProps);case 24:aa(l,Ut,o.memoizedState.cache)}return wi(o,l,f)}function aA(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)qt=!0;else{if(!ug(o,f)&&(l.flags&128)===0)return qt=!1,OB(o,l,f);qt=(o.flags&131072)!==0}else qt=!1,We&&(l.flags&1048576)!==0&&jS(l,kl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(o=eo(l.elementType),l.type=o,typeof o=="function")mp(o)?(p=io(o,p),l.tag=1,l=eA(null,l,o,p,f)):(l.tag=0,l=ng(null,l,o,p,f));else{if(o!=null){var w=o.$$typeof;if(w===k){l.tag=11,l=WE(null,l,o,p,f);break e}else if(w===M){l.tag=14,l=YE(null,l,o,p,f);break e}}throw l=G(o)||o,Error(r(306,l,""))}}return l;case 0:return ng(o,l,l.type,l.pendingProps,f);case 1:return p=l.type,w=io(p,l.pendingProps),eA(o,l,p,w,f);case 3:e:{if(At(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var S=l.memoizedState;w=S.element,Dp(o,l),ql(l,p,null,f);var N=l.memoizedState;if(p=N.cache,aa(l,Ut,p),p!==S.cache&&Ep(l,[Ut],f,!0),Bl(),p=N.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=tA(o,l,p,f);break e}else if(p!==w){w=mr(Error(r(424)),l),Ol(w),l=tA(o,l,p,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(pt=br(o.firstChild),hn=l,We=!0,ra=null,yr=!0,f=JS(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ja(),p===w){l=wi(o,l,f);break e}pn(o,l,p,f)}l=l.child}return l;case 26:return dd(o,l),o===null?(f=g_(l.type,null,l.pendingProps,null))?l.memoizedState=f:We||(f=l.type,o=l.pendingProps,p=Nd(Re.current).createElement(f),p[fn]=l,p[Ln]=o,gn(p,f,o),en(p),l.stateNode=p):l.memoizedState=g_(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Le(l),o===null&&We&&(p=l.stateNode=h_(l.type,l.pendingProps,Re.current),hn=l,yr=!0,w=pt,va(l.type)?(Gg=w,pt=br(p.firstChild)):pt=w),pn(o,l,l.pendingProps.children,f),dd(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&We&&((w=p=pt)&&(p=uq(p,l.type,l.pendingProps,yr),p!==null?(l.stateNode=p,hn=l,pt=br(p.firstChild),yr=!1,w=!0):w=!1),w||ia(l)),Le(l),w=l.type,S=l.pendingProps,N=o!==null?o.memoizedProps:null,p=S.children,jg(w,S)?p=null:N!==null&&jg(w,N)&&(l.flags|=32),l.memoizedState!==null&&(w=Lp(o,l,AB,null,null,f),ou._currentValue=w),dd(o,l),pn(o,l,p,f),l.child;case 6:return o===null&&We&&((o=f=pt)&&(f=cq(f,l.pendingProps,yr),f!==null?(l.stateNode=f,hn=l,pt=null,o=!0):o=!1),o||ia(l)),null;case 13:return nA(o,l,f);case 4:return At(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=no(l,null,p,f):pn(o,l,p,f),l.child;case 11:return WE(o,l,l.type,l.pendingProps,f);case 7:return pn(o,l,l.pendingProps,f),l.child;case 8:return pn(o,l,l.pendingProps.children,f),l.child;case 12:return pn(o,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,aa(l,l.type,p.value),pn(o,l,p.children,f),l.child;case 9:return w=l.type._context,p=l.pendingProps.children,Qa(l),w=mn(w),p=p(w),l.flags|=1,pn(o,l,p,f),l.child;case 14:return YE(o,l,l.type,l.pendingProps,f);case 15:return KE(o,l,l.type,l.pendingProps,f);case 19:return iA(o,l,f);case 31:return kB(o,l,f);case 22:return JE(o,l,f,l.pendingProps);case 24:return Qa(l),p=mn(Ut),o===null?(w=Tp(),w===null&&(w=ct,S=Ap(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=f),w=S),l.memoizedState={parent:p,cache:w},Np(l),aa(l,Ut,w)):((o.lanes&f)!==0&&(Dp(o,l),ql(l,null,null,f),Bl()),w=o.memoizedState,S=l.memoizedState,w.parent!==p?(w={parent:p,cache:p},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),aa(l,Ut,p)):(p=S.cache,aa(l,Ut,p),p!==w.cache&&Ep(l,[Ut],f,!0))),pn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Si(o){o.flags|=4}function cg(o,l,f,p,w){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(kA())o.flags|=8192;else throw to=Jc,Cp}else o.flags&=-16777217}function oA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!w_(l))if(kA())o.flags|=8192;else throw to=Jc,Cp}function hd(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?jt():536870912,o.lanes|=l,hs|=l)}function Vl(o,l){if(!We)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,p=0;if(l)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=p,o.childLanes=f,l}function RB(o,l,f){var p=l.pendingProps;switch(vp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(l),null;case 1:return gt(l),null;case 3:return f=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),vi(Ut),oe(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(es(l)?Si(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xp())),gt(l),null;case 26:var w=l.type,S=l.memoizedState;return o===null?(Si(l),S!==null?(gt(l),oA(l,S)):(gt(l),cg(l,w,null,p,f))):S?S!==o.memoizedState?(Si(l),gt(l),oA(l,S)):(gt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==p&&Si(l),gt(l),cg(l,w,o,p,f)),null;case 27:if($e(l),f=Re.current,w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Si(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return gt(l),null}o=ge.current,es(l)?BS(l):(o=h_(w,p,f),l.stateNode=o,Si(l))}return gt(l),null;case 5:if($e(l),w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&Si(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return gt(l),null}if(S=ge.current,es(l))BS(l);else{var N=Nd(Re.current);switch(S){case 1:S=N.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=N.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=N.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=N.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=N.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?S.multiple=!0:p.size&&(S.size=p.size);break;default:S=typeof p.is=="string"?N.createElement(w,{is:p.is}):N.createElement(w)}}S[fn]=l,S[Ln]=p;e:for(N=l.child;N!==null;){if(N.tag===5||N.tag===6)S.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===l)break e;for(;N.sibling===null;){if(N.return===null||N.return===l)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}l.stateNode=S;e:switch(gn(S,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Si(l)}}return gt(l),cg(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&Si(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=Re.current,es(l)){if(o=l.stateNode,f=l.memoizedProps,p=null,w=hn,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}o[fn]=l,o=!!(o.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||n_(o.nodeValue,f)),o||ia(l,!0)}else o=Nd(o).createTextNode(p),o[fn]=l,l.stateNode=o}return gt(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(p=es(l),f!==null){if(o===null){if(!p)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[fn]=l}else Ja(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),o=!1}else f=xp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(Jn(l),l):(Jn(l),null);if((l.flags&128)!==0)throw Error(r(558))}return gt(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=es(l),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[fn]=l}else Ja(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),w=!1}else w=xp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Jn(l),l):(Jn(l),null)}return Jn(l),(l.flags&128)!==0?(l.lanes=f,l):(f=p!==null,o=o!==null&&o.memoizedState!==null,f&&(p=l.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==w&&(p.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),hd(l,l.updateQueue),gt(l),null);case 4:return oe(),o===null&&kg(l.stateNode.containerInfo),gt(l),null;case 10:return vi(l.type),gt(l),null;case 19:if(ae(kt),p=l.memoizedState,p===null)return gt(l),null;if(w=(l.flags&128)!==0,S=p.rendering,S===null)if(w)Vl(p,!1);else{if(It!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(S=ed(o),S!==null){for(l.flags|=128,Vl(p,!1),o=S.updateQueue,l.updateQueue=o,hd(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)RS(f,o),f=f.sibling;return me(kt,kt.current&1|2),We&&gi(l,p.treeForkCount),l.child}o=o.sibling}p.tail!==null&&Cn()>vd&&(l.flags|=128,w=!0,Vl(p,!1),l.lanes=4194304)}else{if(!w)if(o=ed(S),o!==null){if(l.flags|=128,w=!0,o=o.updateQueue,l.updateQueue=o,hd(l,o),Vl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!S.alternate&&!We)return gt(l),null}else 2*Cn()-p.renderingStartTime>vd&&f!==536870912&&(l.flags|=128,w=!0,Vl(p,!1),l.lanes=4194304);p.isBackwards?(S.sibling=l.child,l.child=S):(o=p.last,o!==null?o.sibling=S:l.child=S,p.last=S)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Cn(),o.sibling=null,f=kt.current,me(kt,w?f&1|2:f&1),We&&gi(l,p.treeForkCount),o):(gt(l),null);case 22:case 23:return Jn(l),Op(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(gt(l),l.subtreeFlags&6&&(l.flags|=8192)):gt(l),f=l.updateQueue,f!==null&&hd(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),o!==null&&ae(Za),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),vi(Ut),gt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function MB(o,l){switch(vp(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return vi(Ut),oe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(Jn(l),l.alternate===null)throw Error(r(340));Ja()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Jn(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ja()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ae(kt),null;case 4:return oe(),null;case 10:return vi(l.type),null;case 22:case 23:return Jn(l),Op(),o!==null&&ae(Za),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return vi(Ut),null;case 25:return null;default:return null}}function sA(o,l){switch(vp(l),l.tag){case 3:vi(Ut),oe();break;case 26:case 27:case 5:$e(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&Jn(l);break;case 13:Jn(l);break;case 19:ae(kt);break;case 10:vi(l.type);break;case 22:case 23:Jn(l),Op(),o!==null&&ae(Za);break;case 24:vi(Ut)}}function Wl(o,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var w=p.next;f=w;do{if((f.tag&o)===o){p=void 0;var S=f.create,N=f.inst;p=S(),N.destroy=p}f=f.next}while(f!==w)}}catch(O){rt(l,l.return,O)}}function da(o,l,f){try{var p=l.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var S=w.next;p=S;do{if((p.tag&o)===o){var N=p.inst,O=N.destroy;if(O!==void 0){N.destroy=void 0,w=l;var L=f,Q=O;try{Q()}catch(se){rt(w,L,se)}}}p=p.next}while(p!==S)}}catch(se){rt(l,l.return,se)}}function lA(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{QS(l,f)}catch(p){rt(o,o.return,p)}}}function uA(o,l,f){f.props=io(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(p){rt(o,l,p)}}function Yl(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof f=="function"?o.refCleanup=f(p):f.current=p}}catch(w){rt(o,l,w)}}function ii(o,l){var f=o.ref,p=o.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(w){rt(o,l,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){rt(o,l,w)}else f.current=null}function cA(o){var l=o.type,f=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(w){rt(o,o.return,w)}}function dg(o,l,f){try{var p=o.stateNode;rq(p,o.type,f,l),p[Ln]=l}catch(w){rt(o,o.return,w)}}function dA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&va(o.type)||o.tag===4}function fg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||dA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&va(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hg(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=hi));else if(p!==4&&(p===27&&va(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(hg(o,l,f),o=o.sibling;o!==null;)hg(o,l,f),o=o.sibling}function md(o,l,f){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(p!==4&&(p===27&&va(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(md(o,l,f),o=o.sibling;o!==null;)md(o,l,f),o=o.sibling}function fA(o){var l=o.stateNode,f=o.memoizedProps;try{for(var p=o.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);gn(l,p,f),l[fn]=o,l[Ln]=f}catch(S){rt(o,o.return,S)}}var Ei=!1,$t=!1,mg=!1,hA=typeof WeakSet=="function"?WeakSet:Set,tn=null;function LB(o,l){if(o=o.containerInfo,Mg=Md,o=_S(o),sp(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var w=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var N=0,O=-1,L=-1,Q=0,se=0,ue=o,ee=null;t:for(;;){for(var ie;ue!==f||w!==0&&ue.nodeType!==3||(O=N+w),ue!==S||p!==0&&ue.nodeType!==3||(L=N+p),ue.nodeType===3&&(N+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ee=ue,ue=ie;for(;;){if(ue===o)break t;if(ee===f&&++Q===w&&(O=N),ee===S&&++se===p&&(L=N),(ie=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ie}f=O===-1||L===-1?null:{start:O,end:L}}else f=null}f=f||{start:0,end:0}}else f=null;for(Lg={focusedElem:o,selectionRange:f},Md=!1,tn=l;tn!==null;)if(l=tn,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,tn=o;else for(;tn!==null;){switch(l=tn,S=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)w=o[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,f=l,w=S.memoizedProps,S=S.memoizedState,p=f.stateNode;try{var xe=io(f.type,w);o=p.getSnapshotBeforeUpdate(xe,S),p.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){rt(f,f.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Bg(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Bg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,tn=o;break}tn=l.return}}function mA(o,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:_i(o,f),p&4&&Wl(5,f);break;case 1:if(_i(o,f),p&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(N){rt(f,f.return,N)}else{var w=io(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(w,l,o.__reactInternalSnapshotBeforeUpdate)}catch(N){rt(f,f.return,N)}}p&64&&lA(f),p&512&&Yl(f,f.return);break;case 3:if(_i(o,f),p&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{QS(o,l)}catch(N){rt(f,f.return,N)}}break;case 27:l===null&&p&4&&fA(f);case 26:case 5:_i(o,f),l===null&&p&4&&cA(f),p&512&&Yl(f,f.return);break;case 12:_i(o,f);break;case 31:_i(o,f),p&4&&yA(o,f);break;case 13:_i(o,f),p&4&&vA(o,f),p&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=FB.bind(null,f),dq(o,f))));break;case 22:if(p=f.memoizedState!==null||Ei,!p){l=l!==null&&l.memoizedState!==null||$t,w=Ei;var S=$t;Ei=p,($t=l)&&!S?Ti(o,f,(f.subtreeFlags&8772)!==0):_i(o,f),Ei=w,$t=S}break;case 30:break;default:_i(o,f)}}function pA(o){var l=o.alternate;l!==null&&(o.alternate=null,pA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Hm(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xt=null,Un=!1;function Ai(o,l,f){for(f=f.child;f!==null;)gA(o,l,f),f=f.sibling}function gA(o,l,f){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Zr,f)}catch{}switch(f.tag){case 26:$t||ii(f,l),Ai(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:$t||ii(f,l);var p=xt,w=Un;va(f.type)&&(xt=f.stateNode,Un=!1),Ai(o,l,f),ru(f.stateNode),xt=p,Un=w;break;case 5:$t||ii(f,l);case 6:if(p=xt,w=Un,xt=null,Ai(o,l,f),xt=p,Un=w,xt!==null)if(Un)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(f.stateNode)}catch(S){rt(f,l,S)}else try{xt.removeChild(f.stateNode)}catch(S){rt(f,l,S)}break;case 18:xt!==null&&(Un?(o=xt,l_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),ws(o)):l_(xt,f.stateNode));break;case 4:p=xt,w=Un,xt=f.stateNode.containerInfo,Un=!0,Ai(o,l,f),xt=p,Un=w;break;case 0:case 11:case 14:case 15:da(2,f,l),$t||da(4,f,l),Ai(o,l,f);break;case 1:$t||(ii(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&uA(f,l,p)),Ai(o,l,f);break;case 21:Ai(o,l,f);break;case 22:$t=(p=$t)||f.memoizedState!==null,Ai(o,l,f),$t=p;break;default:Ai(o,l,f)}}function yA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ws(o)}catch(f){rt(l,l.return,f)}}}function vA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ws(o)}catch(f){rt(l,l.return,f)}}function jB(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new hA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new hA),l;default:throw Error(r(435,o.tag))}}function pd(o,l){var f=jB(o);l.forEach(function(p){if(!f.has(p)){f.add(p);var w=VB.bind(null,o,p);p.then(w,w)}})}function Bn(o,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var w=f[p],S=o,N=l,O=N;e:for(;O!==null;){switch(O.tag){case 27:if(va(O.type)){xt=O.stateNode,Un=!1;break e}break;case 5:xt=O.stateNode,Un=!1;break e;case 3:case 4:xt=O.stateNode.containerInfo,Un=!0;break e}O=O.return}if(xt===null)throw Error(r(160));gA(S,N,w),xt=null,Un=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)bA(l,o),l=l.sibling}var jr=null;function bA(o,l){var f=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Bn(l,o),qn(o),p&4&&(da(3,o,o.return),Wl(3,o),da(5,o,o.return));break;case 1:Bn(l,o),qn(o),p&512&&($t||f===null||ii(f,f.return)),p&64&&Ei&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var w=jr;if(Bn(l,o),qn(o),p&512&&($t||f===null||ii(f,f.return)),p&4){var S=f!==null?f.memoizedState:null;if(p=o.memoizedState,f===null)if(p===null)if(o.stateNode===null){e:{p=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":S=w.getElementsByTagName("title")[0],(!S||S[wl]||S[fn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(p),w.head.insertBefore(S,w.querySelector("head > title"))),gn(S,p,f),S[fn]=o,en(S),p=S;break e;case"link":var N=b_("link","href",w).get(p+(f.href||""));if(N){for(var O=0;O<N.length;O++)if(S=N[O],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(O,1);break t}}S=w.createElement(p),gn(S,p,f),w.head.appendChild(S);break;case"meta":if(N=b_("meta","content",w).get(p+(f.content||""))){for(O=0;O<N.length;O++)if(S=N[O],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(O,1);break t}}S=w.createElement(p),gn(S,p,f),w.head.appendChild(S);break;default:throw Error(r(468,p))}S[fn]=o,en(S),p=S}o.stateNode=p}else x_(w,o.type,o.stateNode);else o.stateNode=v_(w,p,o.memoizedProps);else S!==p?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,p===null?x_(w,o.type,o.stateNode):v_(w,p,o.memoizedProps)):p===null&&o.stateNode!==null&&dg(o,o.memoizedProps,f.memoizedProps)}break;case 27:Bn(l,o),qn(o),p&512&&($t||f===null||ii(f,f.return)),f!==null&&p&4&&dg(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Bn(l,o),qn(o),p&512&&($t||f===null||ii(f,f.return)),o.flags&32){w=o.stateNode;try{Ho(w,"")}catch(xe){rt(o,o.return,xe)}}p&4&&o.stateNode!=null&&(w=o.memoizedProps,dg(o,w,f!==null?f.memoizedProps:w)),p&1024&&(mg=!0);break;case 6:if(Bn(l,o),qn(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,f=o.stateNode;try{f.nodeValue=p}catch(xe){rt(o,o.return,xe)}}break;case 3:if(Pd=null,w=jr,jr=Dd(l.containerInfo),Bn(l,o),jr=w,qn(o),p&4&&f!==null&&f.memoizedState.isDehydrated)try{ws(l.containerInfo)}catch(xe){rt(o,o.return,xe)}mg&&(mg=!1,xA(o));break;case 4:p=jr,jr=Dd(o.stateNode.containerInfo),Bn(l,o),qn(o),jr=p;break;case 12:Bn(l,o),qn(o);break;case 31:Bn(l,o),qn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,pd(o,p)));break;case 13:Bn(l,o),qn(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(yd=Cn()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,pd(o,p)));break;case 22:w=o.memoizedState!==null;var L=f!==null&&f.memoizedState!==null,Q=Ei,se=$t;if(Ei=Q||w,$t=se||L,Bn(l,o),$t=se,Ei=Q,qn(o),p&8192)e:for(l=o.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(f===null||L||Ei||$t||ao(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){L=f=l;try{if(S=L.stateNode,w)N=S.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{O=L.stateNode;var ue=L.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(xe){rt(L,L.return,xe)}}}else if(l.tag===6){if(f===null){L=l;try{L.stateNode.nodeValue=w?"":L.memoizedProps}catch(xe){rt(L,L.return,xe)}}}else if(l.tag===18){if(f===null){L=l;try{var ie=L.stateNode;w?u_(ie,!0):u_(L.stateNode,!1)}catch(xe){rt(L,L.return,xe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,pd(o,f))));break;case 19:Bn(l,o),qn(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,pd(o,p)));break;case 30:break;case 21:break;default:Bn(l,o),qn(o)}}function qn(o){var l=o.flags;if(l&2){try{for(var f,p=o.return;p!==null;){if(dA(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,S=fg(o);md(o,S,w);break;case 5:var N=f.stateNode;f.flags&32&&(Ho(N,""),f.flags&=-33);var O=fg(o);md(o,O,N);break;case 3:case 4:var L=f.stateNode.containerInfo,Q=fg(o);hg(o,Q,L);break;default:throw Error(r(161))}}catch(se){rt(o,o.return,se)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function xA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;xA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function _i(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)mA(o,l.alternate,l),l=l.sibling}function ao(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:da(4,l,l.return),ao(l);break;case 1:ii(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&uA(l,l.return,f),ao(l);break;case 27:ru(l.stateNode);case 26:case 5:ii(l,l.return),ao(l);break;case 22:l.memoizedState===null&&ao(l);break;case 30:ao(l);break;default:ao(l)}o=o.sibling}}function Ti(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,w=o,S=l,N=S.flags;switch(S.tag){case 0:case 11:case 15:Ti(w,S,f),Wl(4,S);break;case 1:if(Ti(w,S,f),p=S,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Q){rt(p,p.return,Q)}if(p=S,w=p.updateQueue,w!==null){var O=p.stateNode;try{var L=w.shared.hiddenCallbacks;if(L!==null)for(w.shared.hiddenCallbacks=null,w=0;w<L.length;w++)XS(L[w],O)}catch(Q){rt(p,p.return,Q)}}f&&N&64&&lA(S),Yl(S,S.return);break;case 27:fA(S);case 26:case 5:Ti(w,S,f),f&&p===null&&N&4&&cA(S),Yl(S,S.return);break;case 12:Ti(w,S,f);break;case 31:Ti(w,S,f),f&&N&4&&yA(w,S);break;case 13:Ti(w,S,f),f&&N&4&&vA(w,S);break;case 22:S.memoizedState===null&&Ti(w,S,f),Yl(S,S.return);break;case 30:break;default:Ti(w,S,f)}l=l.sibling}}function pg(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Rl(f))}function gg(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Rl(o))}function Ur(o,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)wA(o,l,f,p),l=l.sibling}function wA(o,l,f,p){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Ur(o,l,f,p),w&2048&&Wl(9,l);break;case 1:Ur(o,l,f,p);break;case 3:Ur(o,l,f,p),w&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Rl(o)));break;case 12:if(w&2048){Ur(o,l,f,p),o=l.stateNode;try{var S=l.memoizedProps,N=S.id,O=S.onPostCommit;typeof O=="function"&&O(N,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(L){rt(l,l.return,L)}}else Ur(o,l,f,p);break;case 31:Ur(o,l,f,p);break;case 13:Ur(o,l,f,p);break;case 23:break;case 22:S=l.stateNode,N=l.alternate,l.memoizedState!==null?S._visibility&2?Ur(o,l,f,p):Kl(o,l):S._visibility&2?Ur(o,l,f,p):(S._visibility|=2,cs(o,l,f,p,(l.subtreeFlags&10256)!==0||!1)),w&2048&&pg(N,l);break;case 24:Ur(o,l,f,p),w&2048&&gg(l.alternate,l);break;default:Ur(o,l,f,p)}}function cs(o,l,f,p,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=o,N=l,O=f,L=p,Q=N.flags;switch(N.tag){case 0:case 11:case 15:cs(S,N,O,L,w),Wl(8,N);break;case 23:break;case 22:var se=N.stateNode;N.memoizedState!==null?se._visibility&2?cs(S,N,O,L,w):Kl(S,N):(se._visibility|=2,cs(S,N,O,L,w)),w&&Q&2048&&pg(N.alternate,N);break;case 24:cs(S,N,O,L,w),w&&Q&2048&&gg(N.alternate,N);break;default:cs(S,N,O,L,w)}l=l.sibling}}function Kl(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,p=l,w=p.flags;switch(p.tag){case 22:Kl(f,p),w&2048&&pg(p.alternate,p);break;case 24:Kl(f,p),w&2048&&gg(p.alternate,p);break;default:Kl(f,p)}l=l.sibling}}var Jl=8192;function ds(o,l,f){if(o.subtreeFlags&Jl)for(o=o.child;o!==null;)SA(o,l,f),o=o.sibling}function SA(o,l,f){switch(o.tag){case 26:ds(o,l,f),o.flags&Jl&&o.memoizedState!==null&&Eq(f,jr,o.memoizedState,o.memoizedProps);break;case 5:ds(o,l,f);break;case 3:case 4:var p=jr;jr=Dd(o.stateNode.containerInfo),ds(o,l,f),jr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=Jl,Jl=16777216,ds(o,l,f),Jl=p):ds(o,l,f));break;default:ds(o,l,f)}}function EA(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Xl(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];tn=p,_A(p,o)}EA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)AA(o),o=o.sibling}function AA(o){switch(o.tag){case 0:case 11:case 15:Xl(o),o.flags&2048&&da(9,o,o.return);break;case 3:Xl(o);break;case 12:Xl(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,gd(o)):Xl(o);break;default:Xl(o)}}function gd(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];tn=p,_A(p,o)}EA(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:da(8,l,l.return),gd(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,gd(l));break;default:gd(l)}o=o.sibling}}function _A(o,l){for(;tn!==null;){var f=tn;switch(f.tag){case 0:case 11:case 15:da(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Rl(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,tn=p;else e:for(f=o;tn!==null;){p=tn;var w=p.sibling,S=p.return;if(pA(p),p===f){tn=null;break e}if(w!==null){w.return=S,tn=w;break e}tn=S}}}var UB={getCacheForType:function(o){var l=mn(Ut),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return mn(Ut).controller.signal}},BB=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,ze=null,Fe=0,nt=0,Xn=null,fa=!1,fs=!1,yg=!1,Ci=0,It=0,ha=0,oo=0,vg=0,Qn=0,hs=0,Ql=null,$n=null,bg=!1,yd=0,TA=0,vd=1/0,bd=null,ma=null,Vt=0,pa=null,ms=null,Ni=0,xg=0,wg=null,CA=null,Zl=0,Sg=null;function Zn(){return(Ze&2)!==0&&Fe!==0?Fe&-Fe:U.T!==null?Ng():zw()}function NA(){if(Qn===0)if((Fe&536870912)===0||We){var o=he;he<<=1,(he&3932160)===0&&(he=262144),Qn=o}else Qn=536870912;return o=Kn.current,o!==null&&(o.flags|=32),Qn}function Gn(o,l,f){(o===ct&&(nt===2||nt===9)||o.cancelPendingCommit!==null)&&(ps(o,0),ga(o,Fe,Qn,!1)),Dn(o,f),((Ze&2)===0||o!==ct)&&(o===ct&&((Ze&2)===0&&(oo|=f),It===4&&ga(o,Fe,Qn,!1)),ai(o))}function DA(o,l,f){if((Ze&6)!==0)throw Error(r(327));var p=!f&&(l&127)===0&&(l&o.expiredLanes)===0||Ue(o,l),w=p?GB(o,l):Ag(o,l,!0),S=p;do{if(w===0){fs&&!p&&ga(o,l,0,!1);break}else{if(f=o.current.alternate,S&&!qB(f)){w=Ag(o,l,!1),S=!1;continue}if(w===2){if(S=l,o.errorRecoveryDisabledLanes&S)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var O=o;w=Ql;var L=O.current.memoizedState.isDehydrated;if(L&&(ps(O,N).flags|=256),N=Ag(O,N,!1),N!==2){if(yg&&!L){O.errorRecoveryDisabledLanes|=S,oo|=S,w=4;break e}S=$n,$n=w,S!==null&&($n===null?$n=S:$n.push.apply($n,S))}w=N}if(S=!1,w!==2)continue}}if(w===1){ps(o,0),ga(o,l,0,!0);break}e:{switch(p=o,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ga(p,l,Qn,!fa);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=yd+300-Cn(),10<w)){if(ga(p,l,Qn,!fa),De(p,0,!0)!==0)break e;Ni=l,p.timeoutHandle=o_(IA.bind(null,p,f,$n,bd,bg,l,Qn,oo,hs,fa,S,"Throttled",-0,0),w);break e}IA(p,f,$n,bd,bg,l,Qn,oo,hs,fa,S,null,-0,0)}}break}while(!0);ai(o)}function IA(o,l,f,p,w,S,N,O,L,Q,se,ue,ee,ie){if(o.timeoutHandle=-1,ue=l.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},SA(l,S,ue);var xe=(S&62914560)===S?yd-Cn():(S&4194048)===S?TA-Cn():0;if(xe=Aq(ue,xe),xe!==null){Ni=S,o.cancelPendingCommit=xe(UA.bind(null,o,l,S,f,p,w,N,O,L,se,ue,null,ee,ie)),ga(o,S,N,!Q);return}}UA(o,l,S,f,p,w,N,O,L)}function qB(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var w=f[p],S=w.getSnapshot;w=w.value;try{if(!Wn(S(),w))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ga(o,l,f,p){l&=~vg,l&=~oo,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var w=l;0<w;){var S=31-Nn(w),N=1<<S;p[S]=-1,w&=~N}f!==0&&qw(o,f,l)}function xd(){return(Ze&6)===0?(eu(0),!1):!0}function Eg(){if(ze!==null){if(nt===0)var o=ze.return;else o=ze,yi=Xa=null,Bp(o),as=null,Ll=0,o=ze;for(;o!==null;)sA(o.alternate,o),o=o.return;ze=null}}function ps(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,oq(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Ni=0,Eg(),ct=o,ze=f=pi(o.current,null),Fe=l,nt=0,Xn=null,fa=!1,fs=Ue(o,l),yg=!1,hs=Qn=vg=oo=ha=It=0,$n=Ql=null,bg=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var w=31-Nn(p),S=1<<w;l|=o[w],p&=~S}return Ci=l,$c(),f}function PA(o,l){Be=null,U.H=Hl,l===is||l===Kc?(l=WS(),nt=3):l===Cp?(l=WS(),nt=4):nt=l===tg?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Xn=l,ze===null&&(It=1,ud(o,mr(l,o.current)))}function kA(){var o=Kn.current;return o===null?!0:(Fe&4194048)===Fe?vr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?o===vr:!1}function OA(){var o=U.H;return U.H=Hl,o===null?Hl:o}function RA(){var o=U.A;return U.A=UB,o}function wd(){It=4,fa||(Fe&4194048)!==Fe&&Kn.current!==null||(fs=!0),(ha&134217727)===0&&(oo&134217727)===0||ct===null||ga(ct,Fe,Qn,!1)}function Ag(o,l,f){var p=Ze;Ze|=2;var w=OA(),S=RA();(ct!==o||Fe!==l)&&(bd=null,ps(o,l)),l=!1;var N=It;e:do try{if(nt!==0&&ze!==null){var O=ze,L=Xn;switch(nt){case 8:Eg(),N=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(l=!0);var Q=nt;if(nt=0,Xn=null,gs(o,O,L,Q),f&&fs){N=0;break e}break;default:Q=nt,nt=0,Xn=null,gs(o,O,L,Q)}}$B(),N=It;break}catch(se){PA(o,se)}while(!0);return l&&o.shellSuspendCounter++,yi=Xa=null,Ze=p,U.H=w,U.A=S,ze===null&&(ct=null,Fe=0,$c()),N}function $B(){for(;ze!==null;)MA(ze)}function GB(o,l){var f=Ze;Ze|=2;var p=OA(),w=RA();ct!==o||Fe!==l?(bd=null,vd=Cn()+500,ps(o,l)):fs=Ue(o,l);e:do try{if(nt!==0&&ze!==null){l=ze;var S=Xn;t:switch(nt){case 1:nt=0,Xn=null,gs(o,l,S,1);break;case 2:case 9:if(FS(S)){nt=0,Xn=null,LA(l);break}l=function(){nt!==2&&nt!==9||ct!==o||(nt=7),ai(o)},S.then(l,l);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:FS(S)?(nt=0,Xn=null,LA(l)):(nt=0,Xn=null,gs(o,l,S,7));break;case 5:var N=null;switch(ze.tag){case 26:N=ze.memoizedState;case 5:case 27:var O=ze;if(N?w_(N):O.stateNode.complete){nt=0,Xn=null;var L=O.sibling;if(L!==null)ze=L;else{var Q=O.return;Q!==null?(ze=Q,Sd(Q)):ze=null}break t}}nt=0,Xn=null,gs(o,l,S,5);break;case 6:nt=0,Xn=null,gs(o,l,S,6);break;case 8:Eg(),It=6;break e;default:throw Error(r(462))}}zB();break}catch(se){PA(o,se)}while(!0);return yi=Xa=null,U.H=p,U.A=w,Ze=f,ze!==null?0:(ct=null,Fe=0,$c(),It)}function zB(){for(;ze!==null&&!Mm();)MA(ze)}function MA(o){var l=aA(o.alternate,o,Ci);o.memoizedProps=o.pendingProps,l===null?Sd(o):ze=l}function LA(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=ZE(f,l,l.pendingProps,l.type,void 0,Fe);break;case 11:l=ZE(f,l,l.pendingProps,l.type.render,l.ref,Fe);break;case 5:Bp(l);default:sA(f,l),l=ze=RS(l,Ci),l=aA(f,l,Ci)}o.memoizedProps=o.pendingProps,l===null?Sd(o):ze=l}function gs(o,l,f,p){yi=Xa=null,Bp(l),as=null,Ll=0;var w=l.return;try{if(PB(o,w,l,f,Fe)){It=1,ud(o,mr(f,o.current)),ze=null;return}}catch(S){if(w!==null)throw ze=w,S;It=1,ud(o,mr(f,o.current)),ze=null;return}l.flags&32768?(We||p===1?o=!0:fs||(Fe&536870912)!==0?o=!1:(fa=o=!0,(p===2||p===9||p===3||p===6)&&(p=Kn.current,p!==null&&p.tag===13&&(p.flags|=16384))),jA(l,o)):Sd(l)}function Sd(o){var l=o;do{if((l.flags&32768)!==0){jA(l,fa);return}o=l.return;var f=RB(l.alternate,l,Ci);if(f!==null){ze=f;return}if(l=l.sibling,l!==null){ze=l;return}ze=l=o}while(l!==null);It===0&&(It=5)}function jA(o,l){do{var f=MB(o.alternate,o);if(f!==null){f.flags&=32767,ze=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){ze=o;return}ze=o=f}while(o!==null);It=6,ze=null}function UA(o,l,f,p,w,S,N,O,L){o.cancelPendingCommit=null;do Ed();while(Vt!==0);if((Ze&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=fp,SU(o,f,S,N,O,L),o===ct&&(ze=ct=null,Fe=0),ms=l,pa=o,Ni=f,xg=S,wg=w,CA=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,WB(jo,function(){return zA(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=U.T,U.T=null,w=te.p,te.p=2,N=Ze,Ze|=4;try{LB(o,l,f)}finally{Ze=N,te.p=w,U.T=p}}Vt=1,BA(),qA(),$A()}}function BA(){if(Vt===1){Vt=0;var o=pa,l=ms,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=U.T,U.T=null;var p=te.p;te.p=2;var w=Ze;Ze|=4;try{bA(l,o);var S=Lg,N=_S(o.containerInfo),O=S.focusedElem,L=S.selectionRange;if(N!==O&&O&&O.ownerDocument&&AS(O.ownerDocument.documentElement,O)){if(L!==null&&sp(O)){var Q=L.start,se=L.end;if(se===void 0&&(se=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(se,O.value.length);else{var ue=O.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),xe=O.textContent.length,Pe=Math.min(L.start,xe),lt=L.end===void 0?Pe:Math.min(L.end,xe);!ie.extend&&Pe>lt&&(N=lt,lt=Pe,Pe=N);var H=ES(O,Pe),q=ES(O,lt);if(H&&q&&(ie.rangeCount!==1||ie.anchorNode!==H.node||ie.anchorOffset!==H.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var J=ue.createRange();J.setStart(H.node,H.offset),ie.removeAllRanges(),Pe>lt?(ie.addRange(J),ie.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),ie.addRange(J))}}}}for(ue=[],ie=O;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var le=ue[O];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Md=!!Mg,Lg=Mg=null}finally{Ze=w,te.p=p,U.T=f}}o.current=l,Vt=2}}function qA(){if(Vt===2){Vt=0;var o=pa,l=ms,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=U.T,U.T=null;var p=te.p;te.p=2;var w=Ze;Ze|=4;try{mA(o,l.alternate,l)}finally{Ze=w,te.p=p,U.T=f}}Vt=3}}function $A(){if(Vt===4||Vt===3){Vt=0,Lm();var o=pa,l=ms,f=Ni,p=CA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Vt=5:(Vt=0,ms=pa=null,GA(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(ma=null),Gm(f),l=l.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Zr,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=U.T,w=te.p,te.p=2,U.T=null;try{for(var S=o.onRecoverableError,N=0;N<p.length;N++){var O=p[N];S(O.value,{componentStack:O.stack})}}finally{U.T=l,te.p=w}}(Ni&3)!==0&&Ed(),ai(o),w=o.pendingLanes,(f&261930)!==0&&(w&42)!==0?o===Sg?Zl++:(Zl=0,Sg=o):Zl=0,eu(0)}}function GA(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Rl(l)))}function Ed(){return BA(),qA(),$A(),zA()}function zA(){if(Vt!==5)return!1;var o=pa,l=xg;xg=0;var f=Gm(Ni),p=U.T,w=te.p;try{te.p=32>f?32:f,U.T=null,f=wg,wg=null;var S=pa,N=Ni;if(Vt=0,ms=pa=null,Ni=0,(Ze&6)!==0)throw Error(r(331));var O=Ze;if(Ze|=4,AA(S.current),wA(S,S.current,N,f),Ze=O,eu(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Zr,S)}catch{}return!0}finally{te.p=w,U.T=p,GA(o,l)}}function HA(o,l,f){l=mr(f,l),l=eg(o.stateNode,l,2),o=la(o,l,2),o!==null&&(Dn(o,2),ai(o))}function rt(o,l,f){if(o.tag===3)HA(o,o,f);else for(;l!==null;){if(l.tag===3){HA(l,o,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ma===null||!ma.has(p))){o=mr(f,o),f=FE(2),p=la(l,f,2),p!==null&&(VE(f,p,l,o),Dn(p,2),ai(p));break}}l=l.return}}function _g(o,l,f){var p=o.pingCache;if(p===null){p=o.pingCache=new BB;var w=new Set;p.set(l,w)}else w=p.get(l),w===void 0&&(w=new Set,p.set(l,w));w.has(f)||(yg=!0,w.add(f),o=HB.bind(null,o,l,f),l.then(o,o))}function HB(o,l,f){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,ct===o&&(Fe&f)===f&&(It===4||It===3&&(Fe&62914560)===Fe&&300>Cn()-yd?(Ze&2)===0&&ps(o,0):vg|=f,hs===Fe&&(hs=0)),ai(o)}function FA(o,l){l===0&&(l=jt()),o=Ya(o,l),o!==null&&(Dn(o,l),ai(o))}function FB(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),FA(o,f)}function VB(o,l){var f=0;switch(o.tag){case 31:case 13:var p=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),FA(o,f)}function WB(o,l){return bl(o,l)}var Ad=null,ys=null,Tg=!1,_d=!1,Cg=!1,ya=0;function ai(o){o!==ys&&o.next===null&&(ys===null?Ad=ys=o:ys=ys.next=o),_d=!0,Tg||(Tg=!0,KB())}function eu(o,l){if(!Cg&&_d){Cg=!0;do for(var f=!1,p=Ad;p!==null;){if(o!==0){var w=p.pendingLanes;if(w===0)var S=0;else{var N=p.suspendedLanes,O=p.pingedLanes;S=(1<<31-Nn(42|o)+1)-1,S&=w&~(N&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,KA(p,S))}else S=Fe,S=De(p,p===ct?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(S&3)===0||Ue(p,S)||(f=!0,KA(p,S));p=p.next}while(f);Cg=!1}}function YB(){VA()}function VA(){_d=Tg=!1;var o=0;ya!==0&&aq()&&(o=ya);for(var l=Cn(),f=null,p=Ad;p!==null;){var w=p.next,S=WA(p,l);S===0?(p.next=null,f===null?Ad=w:f.next=w,w===null&&(ys=f)):(f=p,(o!==0||(S&3)!==0)&&(_d=!0)),p=w}Vt!==0&&Vt!==5||eu(o),ya!==0&&(ya=0)}function WA(o,l){for(var f=o.suspendedLanes,p=o.pingedLanes,w=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var N=31-Nn(S),O=1<<N,L=w[N];L===-1?((O&f)===0||(O&p)!==0)&&(w[N]=bt(O,l)):L<=l&&(o.expiredLanes|=O),S&=~O}if(l=ct,f=Fe,f=De(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,f===0||o===l&&(nt===2||nt===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&xl(p),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ue(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(p!==null&&xl(p),Gm(f)){case 2:case 8:f=Nc;break;case 32:f=jo;break;case 268435456:f=Dc;break;default:f=jo}return p=YA.bind(null,o),f=bl(f,p),o.callbackPriority=l,o.callbackNode=f,l}return p!==null&&p!==null&&xl(p),o.callbackPriority=2,o.callbackNode=null,2}function YA(o,l){if(Vt!==0&&Vt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Ed()&&o.callbackNode!==f)return null;var p=Fe;return p=De(o,o===ct?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(DA(o,p,l),WA(o,Cn()),o.callbackNode!=null&&o.callbackNode===f?YA.bind(null,o):null)}function KA(o,l){if(Ed())return null;DA(o,l,!0)}function KB(){sq(function(){(Ze&6)!==0?bl(Cc,YB):VA()})}function Ng(){if(ya===0){var o=ns;o===0&&(o=X,X<<=1,(X&261888)===0&&(X=256)),ya=o}return ya}function JA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Oc(""+o)}function XA(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function JB(o,l,f,p,w){if(l==="submit"&&f&&f.stateNode===w){var S=JA((w[Ln]||null).action),N=p.submitter;N&&(l=(l=N[Ln]||null)?JA(l.formAction):N.getAttribute("formAction"),l!==null&&(S=l,N=null));var O=new jc("action","action",null,p,w);o.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ya!==0){var L=N?XA(w,N):new FormData(w);Yp(f,{pending:!0,data:L,method:w.method,action:S},null,L)}}else typeof S=="function"&&(O.preventDefault(),L=N?XA(w,N):new FormData(w),Yp(f,{pending:!0,data:L,method:w.method,action:S},S,L))},currentTarget:w}]})}}for(var Dg=0;Dg<dp.length;Dg++){var Ig=dp[Dg],XB=Ig.toLowerCase(),QB=Ig[0].toUpperCase()+Ig.slice(1);Lr(XB,"on"+QB)}Lr(NS,"onAnimationEnd"),Lr(DS,"onAnimationIteration"),Lr(IS,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(mB,"onTransitionRun"),Lr(pB,"onTransitionStart"),Lr(gB,"onTransitionCancel"),Lr(PS,"onTransitionEnd"),Go("onMouseEnter",["mouseout","mouseover"]),Go("onMouseLeave",["mouseout","mouseover"]),Go("onPointerEnter",["pointerout","pointerover"]),Go("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function QA(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var p=o[f],w=p.event;p=p.listeners;e:{var S=void 0;if(l)for(var N=p.length-1;0<=N;N--){var O=p[N],L=O.instance,Q=O.currentTarget;if(O=O.listener,L!==S&&w.isPropagationStopped())break e;S=O,w.currentTarget=Q;try{S(w)}catch(se){qc(se)}w.currentTarget=null,S=L}else for(N=0;N<p.length;N++){if(O=p[N],L=O.instance,Q=O.currentTarget,O=O.listener,L!==S&&w.isPropagationStopped())break e;S=O,w.currentTarget=Q;try{S(w)}catch(se){qc(se)}w.currentTarget=null,S=L}}}}function He(o,l){var f=l[zm];f===void 0&&(f=l[zm]=new Set);var p=o+"__bubble";f.has(p)||(ZA(l,o,2,!1),f.add(p))}function Pg(o,l,f){var p=0;l&&(p|=4),ZA(f,o,p,l)}var Td="_reactListening"+Math.random().toString(36).slice(2);function kg(o){if(!o[Td]){o[Td]=!0,Vw.forEach(function(f){f!=="selectionchange"&&(ZB.has(f)||Pg(f,!1,o),Pg(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Td]||(l[Td]=!0,Pg("selectionchange",!1,l))}}function ZA(o,l,f,p){switch(N_(l)){case 2:var w=Cq;break;case 8:w=Nq;break;default:w=Wg}f=w.bind(null,l,f,o),w=void 0,!Qm||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),p?w!==void 0?o.addEventListener(l,f,{capture:!0,passive:w}):o.addEventListener(l,f,!0):w!==void 0?o.addEventListener(l,f,{passive:w}):o.addEventListener(l,f,!1)}function Og(o,l,f,p,w){var S=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var O=p.stateNode.containerInfo;if(O===w)break;if(N===4)for(N=p.return;N!==null;){var L=N.tag;if((L===3||L===4)&&N.stateNode.containerInfo===w)return;N=N.return}for(;O!==null;){if(N=Bo(O),N===null)return;if(L=N.tag,L===5||L===6||L===26||L===27){p=S=N;continue e}O=O.parentNode}}p=p.return}iS(function(){var Q=S,se=Jm(f),ue=[];e:{var ee=kS.get(o);if(ee!==void 0){var ie=jc,xe=o;switch(o){case"keypress":if(Mc(f)===0)break e;case"keydown":case"keyup":ie=VU;break;case"focusin":xe="focus",ie=np;break;case"focusout":xe="blur",ie=np;break;case"beforeblur":case"afterblur":ie=np;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=sS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=RU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=KU;break;case NS:case DS:case IS:ie=jU;break;case PS:ie=XU;break;case"scroll":case"scrollend":ie=kU;break;case"wheel":ie=ZU;break;case"copy":case"cut":case"paste":ie=BU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=uS;break;case"toggle":case"beforetoggle":ie=tB}var Pe=(l&4)!==0,lt=!Pe&&(o==="scroll"||o==="scrollend"),H=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var q=Q,J;q!==null;){var le=q;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||H===null||(le=El(q,H),le!=null&&Pe.push(nu(q,le,J))),lt)break;q=q.return}0<Pe.length&&(ee=new ie(ee,xe,null,f,se),ue.push({event:ee,listeners:Pe}))}}if((l&7)===0){e:{if(ee=o==="mouseover"||o==="pointerover",ie=o==="mouseout"||o==="pointerout",ee&&f!==Km&&(xe=f.relatedTarget||f.fromElement)&&(Bo(xe)||xe[Uo]))break e;if((ie||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(xe=f.relatedTarget||f.toElement,ie=Q,xe=xe?Bo(xe):null,xe!==null&&(lt=a(xe),Pe=xe.tag,xe!==lt||Pe!==5&&Pe!==27&&Pe!==6)&&(xe=null)):(ie=null,xe=Q),ie!==xe)){if(Pe=sS,le="onMouseLeave",H="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=uS,le="onPointerLeave",H="onPointerEnter",q="pointer"),lt=ie==null?ee:Sl(ie),J=xe==null?ee:Sl(xe),ee=new Pe(le,q+"leave",ie,f,se),ee.target=lt,ee.relatedTarget=J,le=null,Bo(se)===Q&&(Pe=new Pe(H,q+"enter",xe,f,se),Pe.target=J,Pe.relatedTarget=lt,le=Pe),lt=le,ie&&xe)t:{for(Pe=eq,H=ie,q=xe,J=0,le=H;le;le=Pe(le))J++;le=0;for(var Ne=q;Ne;Ne=Pe(Ne))le++;for(;0<J-le;)H=Pe(H),J--;for(;0<le-J;)q=Pe(q),le--;for(;J--;){if(H===q||q!==null&&H===q.alternate){Pe=H;break t}H=Pe(H),q=Pe(q)}Pe=null}else Pe=null;ie!==null&&e_(ue,ee,ie,Pe,!1),xe!==null&&lt!==null&&e_(ue,lt,xe,Pe,!0)}}e:{if(ee=Q?Sl(Q):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var Ke=yS;else if(pS(ee))if(vS)Ke=dB;else{Ke=uB;var Se=lB}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&Ym(Q.elementType)&&(Ke=yS):Ke=cB;if(Ke&&(Ke=Ke(o,Q))){gS(ue,Ke,f,se);break e}Se&&Se(o,ee,Q),o==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&Wm(ee,"number",ee.value)}switch(Se=Q?Sl(Q):window,o){case"focusin":(pS(Se)||Se.contentEditable==="true")&&(Yo=Se,lp=Q,Pl=null);break;case"focusout":Pl=lp=Yo=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,TS(ue,f,se);break;case"selectionchange":if(hB)break;case"keydown":case"keyup":TS(ue,f,se)}var qe;if(ip)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Wo?hS(o,f)&&(Ve="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ve="onCompositionStart");Ve&&(cS&&f.locale!=="ko"&&(Wo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Wo&&(qe=aS()):(ta=se,Zm="value"in ta?ta.value:ta.textContent,Wo=!0)),Se=Cd(Q,Ve),0<Se.length&&(Ve=new lS(Ve,o,null,f,se),ue.push({event:Ve,listeners:Se}),qe?Ve.data=qe:(qe=mS(f),qe!==null&&(Ve.data=qe)))),(qe=rB?iB(o,f):aB(o,f))&&(Ve=Cd(Q,"onBeforeInput"),0<Ve.length&&(Se=new lS("onBeforeInput","beforeinput",null,f,se),ue.push({event:Se,listeners:Ve}),Se.data=qe)),JB(ue,o,Q,f,se)}QA(ue,l)})}function nu(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Cd(o,l){for(var f=l+"Capture",p=[];o!==null;){var w=o,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=El(o,f),w!=null&&p.unshift(nu(o,w,S)),w=El(o,l),w!=null&&p.push(nu(o,w,S))),o.tag===3)return p;o=o.return}return[]}function eq(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function e_(o,l,f,p,w){for(var S=l._reactName,N=[];f!==null&&f!==p;){var O=f,L=O.alternate,Q=O.stateNode;if(O=O.tag,L!==null&&L===p)break;O!==5&&O!==26&&O!==27||Q===null||(L=Q,w?(Q=El(f,S),Q!=null&&N.unshift(nu(f,Q,L))):w||(Q=El(f,S),Q!=null&&N.push(nu(f,Q,L)))),f=f.return}N.length!==0&&o.push({event:l,listeners:N})}var tq=/\r\n?/g,nq=/\u0000|\uFFFD/g;function t_(o){return(typeof o=="string"?o:""+o).replace(tq,`
`).replace(nq,"")}function n_(o,l){return l=t_(l),t_(o)===l}function st(o,l,f,p,w,S){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Ho(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Ho(o,""+p);break;case"className":Pc(o,"class",p);break;case"tabIndex":Pc(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Pc(o,f,p);break;case"style":nS(o,p,S);break;case"data":if(l!=="object"){Pc(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Oc(""+p),o.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(l!=="input"&&st(o,l,"name",w.name,w,null),st(o,l,"formEncType",w.formEncType,w,null),st(o,l,"formMethod",w.formMethod,w,null),st(o,l,"formTarget",w.formTarget,w,null)):(st(o,l,"encType",w.encType,w,null),st(o,l,"method",w.method,w,null),st(o,l,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(f);break}p=Oc(""+p),o.setAttribute(f,p);break;case"onClick":p!=null&&(o.onclick=hi);break;case"onScroll":p!=null&&He("scroll",o);break;case"onScrollEnd":p!=null&&He("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}f=Oc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""+p):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":p===!0?o.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(f,p):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(f,p):o.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(f):o.setAttribute(f,p);break;case"popover":He("beforetoggle",o),He("toggle",o),Ic(o,"popover",p);break;case"xlinkActuate":fi(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":fi(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":fi(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":fi(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":fi(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":fi(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":fi(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":fi(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":fi(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ic(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=IU.get(f)||f,Ic(o,f,p))}}function Rg(o,l,f,p,w,S){switch(f){case"style":nS(o,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof p=="string"?Ho(o,p):(typeof p=="number"||typeof p=="bigint")&&Ho(o,""+p);break;case"onScroll":p!=null&&He("scroll",o);break;case"onScrollEnd":p!=null&&He("scrollend",o);break;case"onClick":p!=null&&(o.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ww.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),l=f.slice(2,w?f.length-7:void 0),S=o[Ln]||null,S=S!=null?S[f]:null,typeof S=="function"&&o.removeEventListener(l,S,w),typeof p=="function")){typeof S!="function"&&S!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,p,w);break e}f in o?o[f]=p:p===!0?o.setAttribute(f,""):Ic(o,f,p)}}}function gn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",o),He("load",o);var p=!1,w=!1,S;for(S in f)if(f.hasOwnProperty(S)){var N=f[S];if(N!=null)switch(S){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:st(o,l,S,N,f,null)}}w&&st(o,l,"srcSet",f.srcSet,f,null),p&&st(o,l,"src",f.src,f,null);return;case"input":He("invalid",o);var O=S=N=w=null,L=null,Q=null;for(p in f)if(f.hasOwnProperty(p)){var se=f[p];if(se!=null)switch(p){case"name":w=se;break;case"type":N=se;break;case"checked":L=se;break;case"defaultChecked":Q=se;break;case"value":S=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:st(o,l,p,se,f,null)}}Qw(o,S,O,L,Q,N,w,!1);return;case"select":He("invalid",o),p=N=S=null;for(w in f)if(f.hasOwnProperty(w)&&(O=f[w],O!=null))switch(w){case"value":S=O;break;case"defaultValue":N=O;break;case"multiple":p=O;default:st(o,l,w,O,f,null)}l=S,f=N,o.multiple=!!p,l!=null?zo(o,!!p,l,!1):f!=null&&zo(o,!!p,f,!0);return;case"textarea":He("invalid",o),S=w=p=null;for(N in f)if(f.hasOwnProperty(N)&&(O=f[N],O!=null))switch(N){case"value":p=O;break;case"defaultValue":w=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:st(o,l,N,O,f,null)}eS(o,p,w,S);return;case"option":for(L in f)if(f.hasOwnProperty(L)&&(p=f[L],p!=null))switch(L){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:st(o,l,L,p,f,null)}return;case"dialog":He("beforetoggle",o),He("toggle",o),He("cancel",o),He("close",o);break;case"iframe":case"object":He("load",o);break;case"video":case"audio":for(p=0;p<tu.length;p++)He(tu[p],o);break;case"image":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"embed":case"source":case"link":He("error",o),He("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(p=f[Q],p!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:st(o,l,Q,p,f,null)}return;default:if(Ym(l)){for(se in f)f.hasOwnProperty(se)&&(p=f[se],p!==void 0&&Rg(o,l,se,p,f,void 0));return}}for(O in f)f.hasOwnProperty(O)&&(p=f[O],p!=null&&st(o,l,O,p,f,null))}function rq(o,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,N=null,O=null,L=null,Q=null,se=null;for(ie in f){var ue=f[ie];if(f.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":L=ue;default:p.hasOwnProperty(ie)||st(o,l,ie,null,p,ue)}}for(var ee in p){var ie=p[ee];if(ue=f[ee],p.hasOwnProperty(ee)&&(ie!=null||ue!=null))switch(ee){case"type":S=ie;break;case"name":w=ie;break;case"checked":Q=ie;break;case"defaultChecked":se=ie;break;case"value":N=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:ie!==ue&&st(o,l,ee,ie,p,ue)}}Vm(o,N,O,L,Q,se,S,w);return;case"select":ie=N=O=ee=null;for(S in f)if(L=f[S],f.hasOwnProperty(S)&&L!=null)switch(S){case"value":break;case"multiple":ie=L;default:p.hasOwnProperty(S)||st(o,l,S,null,p,L)}for(w in p)if(S=p[w],L=f[w],p.hasOwnProperty(w)&&(S!=null||L!=null))switch(w){case"value":ee=S;break;case"defaultValue":O=S;break;case"multiple":N=S;default:S!==L&&st(o,l,w,S,p,L)}l=O,f=N,p=ie,ee!=null?zo(o,!!f,ee,!1):!!p!=!!f&&(l!=null?zo(o,!!f,l,!0):zo(o,!!f,f?[]:"",!1));return;case"textarea":ie=ee=null;for(O in f)if(w=f[O],f.hasOwnProperty(O)&&w!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:st(o,l,O,null,p,w)}for(N in p)if(w=p[N],S=f[N],p.hasOwnProperty(N)&&(w!=null||S!=null))switch(N){case"value":ee=w;break;case"defaultValue":ie=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&st(o,l,N,w,p,S)}Zw(o,ee,ie);return;case"option":for(var xe in f)if(ee=f[xe],f.hasOwnProperty(xe)&&ee!=null&&!p.hasOwnProperty(xe))switch(xe){case"selected":o.selected=!1;break;default:st(o,l,xe,null,p,ee)}for(L in p)if(ee=p[L],ie=f[L],p.hasOwnProperty(L)&&ee!==ie&&(ee!=null||ie!=null))switch(L){case"selected":o.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:st(o,l,L,ee,p,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in f)ee=f[Pe],f.hasOwnProperty(Pe)&&ee!=null&&!p.hasOwnProperty(Pe)&&st(o,l,Pe,null,p,ee);for(Q in p)if(ee=p[Q],ie=f[Q],p.hasOwnProperty(Q)&&ee!==ie&&(ee!=null||ie!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:st(o,l,Q,ee,p,ie)}return;default:if(Ym(l)){for(var lt in f)ee=f[lt],f.hasOwnProperty(lt)&&ee!==void 0&&!p.hasOwnProperty(lt)&&Rg(o,l,lt,void 0,p,ee);for(se in p)ee=p[se],ie=f[se],!p.hasOwnProperty(se)||ee===ie||ee===void 0&&ie===void 0||Rg(o,l,se,ee,p,ie);return}}for(var H in f)ee=f[H],f.hasOwnProperty(H)&&ee!=null&&!p.hasOwnProperty(H)&&st(o,l,H,null,p,ee);for(ue in p)ee=p[ue],ie=f[ue],!p.hasOwnProperty(ue)||ee===ie||ee==null&&ie==null||st(o,l,ue,ee,p,ie)}function r_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iq(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var w=f[p],S=w.transferSize,N=w.initiatorType,O=w.duration;if(S&&O&&r_(N)){for(N=0,O=w.responseEnd,p+=1;p<f.length;p++){var L=f[p],Q=L.startTime;if(Q>O)break;var se=L.transferSize,ue=L.initiatorType;se&&r_(ue)&&(L=L.responseEnd,N+=se*(L<O?1:(O-Q)/(L-Q)))}if(--p,l+=8*(S+N)/(w.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Mg=null,Lg=null;function Nd(o){return o.nodeType===9?o:o.ownerDocument}function i_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function jg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ug=null;function aq(){var o=window.event;return o&&o.type==="popstate"?o===Ug?!1:(Ug=o,!0):(Ug=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,oq=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,sq=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(o){return s_.resolve(null).then(o).catch(lq)}:o_;function lq(o){setTimeout(function(){throw o})}function va(o){return o==="head"}function l_(o,l){var f=l,p=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(p===0){o.removeChild(w),ws(l);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")ru(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,ru(f);for(var S=f.firstChild;S;){var N=S.nextSibling,O=S.nodeName;S[wl]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||f.removeChild(S),S=N}}else f==="body"&&ru(o.ownerDocument.body);f=w}while(f);ws(l)}function u_(o,l){var f=o;o=0;do{var p=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=p}while(f)}function Bg(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Bg(f),Hm(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function uq(o,l,f,p){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[wl])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=br(o.nextSibling),o===null)break}return null}function cq(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=br(o.nextSibling),o===null))return null;return o}function c_(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=br(o.nextSibling),o===null))return null;return o}function qg(o){return o.data==="$?"||o.data==="$~"}function $g(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function dq(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function br(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var Gg=null;function d_(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return br(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function f_(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function h_(o,l,f){switch(l=Nd(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function ru(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Hm(o)}var xr=new Map,m_=new Set;function Dd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Di=te.d;te.d={f:fq,r:hq,D:mq,C:pq,L:gq,m:yq,X:bq,S:vq,M:xq};function fq(){var o=Di.f(),l=xd();return o||l}function hq(o){var l=qo(o);l!==null&&l.tag===5&&l.type==="form"?PE(l):Di.r(o)}var vs=typeof document>"u"?null:document;function p_(o,l,f){var p=vs;if(p&&typeof l=="string"&&l){var w=fr(l);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),m_.has(w)||(m_.add(w),o={rel:o,crossOrigin:f,href:l},p.querySelector(w)===null&&(l=p.createElement("link"),gn(l,"link",o),en(l),p.head.appendChild(l)))}}function mq(o){Di.D(o),p_("dns-prefetch",o,null)}function pq(o,l){Di.C(o,l),p_("preconnect",o,l)}function gq(o,l,f){Di.L(o,l,f);var p=vs;if(p&&o&&l){var w='link[rel="preload"][as="'+fr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+fr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+fr(f.imageSizes)+'"]')):w+='[href="'+fr(o)+'"]';var S=w;switch(l){case"style":S=bs(o);break;case"script":S=xs(o)}xr.has(S)||(o=m({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),xr.set(S,o),p.querySelector(w)!==null||l==="style"&&p.querySelector(iu(S))||l==="script"&&p.querySelector(au(S))||(l=p.createElement("link"),gn(l,"link",o),en(l),p.head.appendChild(l)))}}function yq(o,l){Di.m(o,l);var f=vs;if(f&&o){var p=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+fr(p)+'"][href="'+fr(o)+'"]',S=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=xs(o)}if(!xr.has(S)&&(o=m({rel:"modulepreload",href:o},l),xr.set(S,o),f.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(au(S)))return}p=f.createElement("link"),gn(p,"link",o),en(p),f.head.appendChild(p)}}}function vq(o,l,f){Di.S(o,l,f);var p=vs;if(p&&o){var w=$o(p).hoistableStyles,S=bs(o);l=l||"default";var N=w.get(S);if(!N){var O={loading:0,preload:null};if(N=p.querySelector(iu(S)))O.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":l},f),(f=xr.get(S))&&zg(o,f);var L=N=p.createElement("link");en(L),gn(L,"link",o),L._p=new Promise(function(Q,se){L.onload=Q,L.onerror=se}),L.addEventListener("load",function(){O.loading|=1}),L.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Id(N,l,p)}N={type:"stylesheet",instance:N,count:1,state:O},w.set(S,N)}}}function bq(o,l){Di.X(o,l);var f=vs;if(f&&o){var p=$o(f).hoistableScripts,w=xs(o),S=p.get(w);S||(S=f.querySelector(au(w)),S||(o=m({src:o,async:!0},l),(l=xr.get(w))&&Hg(o,l),S=f.createElement("script"),en(S),gn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(w,S))}}function xq(o,l){Di.M(o,l);var f=vs;if(f&&o){var p=$o(f).hoistableScripts,w=xs(o),S=p.get(w);S||(S=f.querySelector(au(w)),S||(o=m({src:o,async:!0,type:"module"},l),(l=xr.get(w))&&Hg(o,l),S=f.createElement("script"),en(S),gn(S,"link",o),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(w,S))}}function g_(o,l,f,p){var w=(w=Re.current)?Dd(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=bs(f.href),f=$o(w).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=bs(f.href);var S=$o(w).hoistableStyles,N=S.get(o);if(N||(w=w.ownerDocument||w,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,N),(S=w.querySelector(iu(o)))&&!S._p&&(N.instance=S,N.state.loading=5),xr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},xr.set(o,f),S||wq(w,o,f,N.state))),l&&p===null)throw Error(r(528,""));return N}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xs(f),f=$o(w).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function bs(o){return'href="'+fr(o)+'"'}function iu(o){return'link[rel="stylesheet"]['+o+"]"}function y_(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function wq(o,l,f,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),gn(l,"link",f),en(l),o.head.appendChild(l))}function xs(o){return'[src="'+fr(o)+'"]'}function au(o){return"script[async]"+o}function v_(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+fr(f.href)+'"]');if(p)return l.instance=p,en(p),p;var w=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),en(p),gn(p,"style",w),Id(p,f.precedence,o),l.instance=p;case"stylesheet":w=bs(f.href);var S=o.querySelector(iu(w));if(S)return l.state.loading|=4,l.instance=S,en(S),S;p=y_(f),(w=xr.get(w))&&zg(p,w),S=(o.ownerDocument||o).createElement("link"),en(S);var N=S;return N._p=new Promise(function(O,L){N.onload=O,N.onerror=L}),gn(S,"link",p),l.state.loading|=4,Id(S,f.precedence,o),l.instance=S;case"script":return S=xs(f.src),(w=o.querySelector(au(S)))?(l.instance=w,en(w),w):(p=f,(w=xr.get(S))&&(p=m({},f),Hg(p,w)),o=o.ownerDocument||o,w=o.createElement("script"),en(w),gn(w,"link",p),o.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Id(p,f.precedence,o));return l.instance}function Id(o,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,S=w,N=0;N<p.length;N++){var O=p[N];if(O.dataset.precedence===l)S=O;else if(S!==w)break}S?S.parentNode.insertBefore(o,S.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function zg(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Hg(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Pd=null;function b_(o,l,f){if(Pd===null){var p=new Map,w=Pd=new Map;w.set(f,p)}else w=Pd,p=w.get(f),p||(p=new Map,w.set(f,p));if(p.has(o))return p;for(p.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var S=f[w];if(!(S[wl]||S[fn]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var N=S.getAttribute(l)||"";N=o+N;var O=p.get(N);O?O.push(S):p.set(N,[S])}}return p}function x_(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function Sq(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function w_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Eq(o,l,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=bs(p.href),S=l.querySelector(iu(w));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=kd.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=S,en(S);return}S=l.ownerDocument||l,p=y_(p),(w=xr.get(w))&&zg(p,w),S=S.createElement("link"),en(S);var N=S;N._p=new Promise(function(O,L){N.onload=O,N.onerror=L}),gn(S,"link",p),f.instance=S}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=kd.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var Fg=0;function Aq(o,l){return o.stylesheets&&o.count===0&&Rd(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var p=setTimeout(function(){if(o.stylesheets&&Rd(o,o.stylesheets),o.unsuspend){var S=o.unsuspend;o.unsuspend=null,S()}},6e4+l);0<o.imgBytes&&Fg===0&&(Fg=62500*iq());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Rd(o,o.stylesheets),o.unsuspend)){var S=o.unsuspend;o.unsuspend=null,S()}},(o.imgBytes>Fg?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Od=null;function Rd(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Od=new Map,l.forEach(_q,o),Od=null,kd.call(o))}function _q(o,l){if(!(l.state.loading&4)){var f=Od.get(o);if(f)var p=f.get(null);else{f=new Map,Od.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var N=w[S];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),p=N)}p&&f.set(null,p)}w=l.instance,N=w.getAttribute("data-precedence"),S=f.get(N)||p,S===p&&f.set(null,w),f.set(N,w),this.count++,p=kd.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),S?S.parentNode.insertBefore(w,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),l.state.loading|=4}}var ou={$$typeof:D,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Tq(o,l,f,p,w,S,N,O,L){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function S_(o,l,f,p,w,S,N,O,L,Q,se,ue){return o=new Tq(o,l,f,N,L,Q,se,ue,O),l=1,S===!0&&(l|=24),S=Yn(3,null,null,l),o.current=S,S.stateNode=o,l=Ap(),l.refCount++,o.pooledCache=l,l.refCount++,S.memoizedState={element:p,isDehydrated:f,cache:l},Np(S),o}function E_(o){return o?(o=Xo,o):Xo}function A_(o,l,f,p,w,S){w=E_(w),p.context===null?p.context=w:p.pendingContext=w,p=sa(l),p.payload={element:f},S=S===void 0?null:S,S!==null&&(p.callback=S),f=la(o,p,l),f!==null&&(Gn(f,o,l),Ul(f,o,l))}function __(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Vg(o,l){__(o,l),(o=o.alternate)&&__(o,l)}function T_(o){if(o.tag===13||o.tag===31){var l=Ya(o,67108864);l!==null&&Gn(l,o,67108864),Vg(o,67108864)}}function C_(o){if(o.tag===13||o.tag===31){var l=Zn();l=$m(l);var f=Ya(o,l);f!==null&&Gn(f,o,l),Vg(o,l)}}var Md=!0;function Cq(o,l,f,p){var w=U.T;U.T=null;var S=te.p;try{te.p=2,Wg(o,l,f,p)}finally{te.p=S,U.T=w}}function Nq(o,l,f,p){var w=U.T;U.T=null;var S=te.p;try{te.p=8,Wg(o,l,f,p)}finally{te.p=S,U.T=w}}function Wg(o,l,f,p){if(Md){var w=Yg(p);if(w===null)Og(o,l,p,Ld,f),D_(o,p);else if(Iq(w,o,l,f,p))p.stopPropagation();else if(D_(o,p),l&4&&-1<Dq.indexOf(o)){for(;w!==null;){var S=qo(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var N=Me(S.pendingLanes);if(N!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;N;){var L=1<<31-Nn(N);O.entanglements[1]|=L,N&=~L}ai(S),(Ze&6)===0&&(vd=Cn()+500,eu(0))}}break;case 31:case 13:O=Ya(S,2),O!==null&&Gn(O,S,2),xd(),Vg(S,2)}if(S=Yg(p),S===null&&Og(o,l,p,Ld,f),S===w)break;w=S}w!==null&&p.stopPropagation()}else Og(o,l,p,null,f)}}function Yg(o){return o=Jm(o),Kg(o)}var Ld=null;function Kg(o){if(Ld=null,o=Bo(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===31){if(o=u(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Ld=o,null}function N_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jm()){case Cc:return 2;case Nc:return 8;case jo:case Um:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var Jg=!1,ba=null,xa=null,wa=null,su=new Map,lu=new Map,Sa=[],Dq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(o,l){switch(o){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":su.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(l.pointerId)}}function uu(o,l,f,p,w,S){return o===null||o.nativeEvent!==S?(o={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:S,targetContainers:[w]},l!==null&&(l=qo(l),l!==null&&T_(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function Iq(o,l,f,p,w){switch(l){case"focusin":return ba=uu(ba,o,l,f,p,w),!0;case"dragenter":return xa=uu(xa,o,l,f,p,w),!0;case"mouseover":return wa=uu(wa,o,l,f,p,w),!0;case"pointerover":var S=w.pointerId;return su.set(S,uu(su.get(S)||null,o,l,f,p,w)),!0;case"gotpointercapture":return S=w.pointerId,lu.set(S,uu(lu.get(S)||null,o,l,f,p,w)),!0}return!1}function I_(o){var l=Bo(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Hw(o.priority,function(){C_(f)});return}}else if(l===31){if(l=u(f),l!==null){o.blockedOn=l,Hw(o.priority,function(){C_(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jd(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Yg(o.nativeEvent);if(f===null){f=o.nativeEvent;var p=new f.constructor(f.type,f);Km=p,f.target.dispatchEvent(p),Km=null}else return l=qo(f),l!==null&&T_(l),o.blockedOn=f,!1;l.shift()}return!0}function P_(o,l,f){jd(o)&&f.delete(l)}function Pq(){Jg=!1,ba!==null&&jd(ba)&&(ba=null),xa!==null&&jd(xa)&&(xa=null),wa!==null&&jd(wa)&&(wa=null),su.forEach(P_),lu.forEach(P_)}function Ud(o,l){o.blockedOn===l&&(o.blockedOn=null,Jg||(Jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pq)))}var Bd=null;function k_(o){Bd!==o&&(Bd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Bd===o&&(Bd=null);for(var l=0;l<o.length;l+=3){var f=o[l],p=o[l+1],w=o[l+2];if(typeof p!="function"){if(Kg(p||f)===null)continue;break}var S=qo(f);S!==null&&(o.splice(l,3),l-=3,Yp(S,{pending:!0,data:w,method:f.method,action:p},p,w))}}))}function ws(o){function l(L){return Ud(L,o)}ba!==null&&Ud(ba,o),xa!==null&&Ud(xa,o),wa!==null&&Ud(wa,o),su.forEach(l),lu.forEach(l);for(var f=0;f<Sa.length;f++){var p=Sa[f];p.blockedOn===o&&(p.blockedOn=null)}for(;0<Sa.length&&(f=Sa[0],f.blockedOn===null);)I_(f),f.blockedOn===null&&Sa.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var w=f[p],S=f[p+1],N=w[Ln]||null;if(typeof S=="function")N||k_(f);else if(N){var O=null;if(S&&S.hasAttribute("formAction")){if(w=S,N=S[Ln]||null)O=N.formAction;else if(Kg(w)!==null)continue}else O=N.action;typeof O=="function"?f[p+1]=O:(f.splice(p,3),p-=3),k_(f)}}}function O_(){function o(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(N){return w=N})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function Xg(o){this._internalRoot=o}qd.prototype.render=Xg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=Zn();A_(f,p,o,l,null,null)},qd.prototype.unmount=Xg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;A_(o.current,2,null,o,null,null),xd(),l[Uo]=null}};function qd(o){this._internalRoot=o}qd.prototype.unstable_scheduleHydration=function(o){if(o){var l=zw();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Sa.length&&l!==0&&l<Sa[f].priority;f++);Sa.splice(f,0,o),f===0&&I_(o)}};var R_=t.version;if(R_!=="19.2.0")throw Error(r(527,R_,"19.2.0"));te.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var kq={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Zr=$d.inject(kq),_t=$d}catch{}}return du.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,p="",w=$E,S=GE,N=zE;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),l=S_(o,1,!1,null,null,f,p,null,w,S,N,O_),o[Uo]=l.current,kg(o),new Xg(l)},du.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var p=!1,w="",S=$E,N=GE,O=zE,L=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(O=f.onRecoverableError),f.formState!==void 0&&(L=f.formState)),l=S_(o,1,!0,l,f??null,p,w,L,S,N,O,O_),l.context=E_(null),f=l.current,p=Zn(),p=$m(p),w=sa(p),w.callback=null,la(f,w,p),f=p,l.current.lanes=f,Dn(l,f),ai(l),o[Uo]=l.current,kg(o),new qd(l)},du.version="19.2.0",du}var H_;function zq(){if(H_)return ey.exports;H_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ey.exports=Gq(),ey.exports}var Hq=zq();const Fq=Or(Hq);let Vq,Wq;function Yq(){return{geminiUrl:Vq,vertexUrl:Wq}}function Kq(e,t,n,r){var i,a;if(!e?.baseUrl){const s=Yq();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}class Vi{}function ye(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(e,t,n){for(let a=0;a<t.length-1;a++){const s=t[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];v(h,t.slice(a+1),n[d])}else for(const d of c)v(d,t.slice(a+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];v(c[0],t.slice(a+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function y(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(u=>y(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Jq(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&a.length>u)for(let c=u;c<a.length;c++){const d=a[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}n0(e,i,a,0,s)}}function n0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const s=a.slice(0,-2),u=e;if(s in u&&Array.isArray(u[s]))for(const c of u[s])n0(c,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,h]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(d):m.push(g);v(s,m,h)}for(const d of u)delete s[d]}}else{const s=e;a in s&&n0(s[a],t,n,r+1,i)}}function Cb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Xq(e){const t={},n=y(e,["operationName"]);n!=null&&v(t,["operationName"],n);const r=y(e,["resourceName"]);return r!=null&&v(t,["_url","resourceName"],r),t}function Qq(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response","generateVideoResponse"]);return s!=null&&v(t,["response"],e3(s)),t}function Zq(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response"]);return s!=null&&v(t,["response"],t3(s)),t}function e3(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>n3(s))),v(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function t3(e){const t={},n=y(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>r3(s))),v(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function n3(e){const t={},n=y(e,["video"]);return n!=null&&v(t,["video"],u3(n)),t}function r3(e){const t={},n=y(e,["_self"]);return n!=null&&v(t,["video"],c3(n)),t}function i3(e){const t={},n=y(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function a3(e){const t={},n=y(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function o3(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response"]);return s!=null&&v(t,["response"],s3(s)),t}function s3(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&v(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function GP(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response"]);return s!=null&&v(t,["response"],l3(s)),t}function l3(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&v(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function u3(e){const t={},n=y(e,["uri"]);n!=null&&v(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],Cb(r));const i=y(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function c3(e){const t={},n=y(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],Cb(r));const i=y(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}var F_;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(F_||(F_={}));var V_;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(V_||(V_={}));var W_;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(W_||(W_={}));var Da;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Da||(Da={}));var Y_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Y_||(Y_={}));var K_;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(K_||(K_={}));var J_;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(J_||(J_={}));var X_;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(X_||(X_={}));var Q_;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Q_||(Q_={}));var Z_;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Z_||(Z_={}));var eT;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(eT||(eT={}));var tT;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(tT||(tT={}));var nT;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(nT||(nT={}));var rT;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(rT||(rT={}));var iT;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(iT||(iT={}));var aT;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(aT||(aT={}));var oT;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(oT||(oT={}));var sT;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(sT||(sT={}));var lT;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lT||(lT={}));var If;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(If||(If={}));var uT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uT||(uT={}));var cT;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(cT||(cT={}));var dT;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dT||(dT={}));var r0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(r0||(r0={}));var fT;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fT||(fT={}));var hT;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hT||(hT={}));var mT;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(mT||(mT={}));var pT;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(pT||(pT={}));var gT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(gT||(gT={}));var yT;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yT||(yT={}));var vT;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(vT||(vT={}));var bT;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(bT||(bT={}));var xT;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(xT||(xT={}));var wT;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(wT||(wT={}));var ST;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ST||(ST={}));var ET;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ET||(ET={}));var AT;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(AT||(AT={}));var _T;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_T||(_T={}));var TT;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(TT||(TT={}));var CT;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(CT||(CT={}));var NT;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(NT||(NT={}));var DT;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(DT||(DT={}));var IT;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(IT||(IT={}));var PT;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(PT||(PT={}));var kT;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(kT||(kT={}));var OT;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(OT||(OT={}));var RT;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(RT||(RT={}));var MT;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(MT||(MT={}));var LT;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(LT||(LT={}));var jT;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jT||(jT={}));var UT;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(UT||(UT={}));var BT;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(BT||(BT={}));var qT;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qT||(qT={}));var $T;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})($T||($T={}));var Os;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Os||(Os={}));class i0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class fu{get text(){var t,n,r,i,a,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const g of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[x,A]of Object.entries(g))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(A!==null||A!==void 0)&&m.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,d+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,a,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,x]of Object.entries(m))g!=="inlineData"&&(x!==null||x!==void 0)&&h.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var t,n,r,i,a,s,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,s,u,c,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class GT{}class zT{}class d3{}class f3{}class h3{}class m3{}class HT{}class FT{}class VT{}class p3{}class Pf{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Pf;let i;const a=t;return n?i=Zq(a):i=Qq(a),Object.assign(r,i),r}}class WT{}class YT{}class KT{}class g3{}class y3{}class v3{}class Nb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Nb,a=o3(t);return Object.assign(r,a),r}}class b3{}class x3{}class w3{}class JT{}class S3{get text(){var t,n,r;let i="",a=!1;const s=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&a.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class E3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Db{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Db,a=GP(t);return Object.assign(r,a),r}}function Xe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zP(e,t){const n=Xe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function HP(e){return Array.isArray(e)?e.map(t=>kf(t)):[kf(e)]}function kf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function FP(e){const t=kf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function VP(e){const t=kf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function XT(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function WP(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>XT(t)):[XT(e)]}function a0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function QT(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function ZT(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function _n(e){if(e==null)throw new Error("ContentUnion is required");return a0(e)?e:{role:"user",parts:WP(e)}}function Ib(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=_n(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=_n(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>_n(n)):[_n(t)]}function Nr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(QT(e)||ZT(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_n(e)]}const t=[],n=[],r=a0(e[0]);for(const i of e){const a=a0(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(QT(i)||ZT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:WP(n)}),t}function A3(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Da).includes(n[0].toUpperCase())?n[0].toUpperCase():Da.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Da).includes(r.toUpperCase())?r.toUpperCase():Da.TYPE_UNSPECIFIED})}}function Ls(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&A3(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Da).includes(u.toUpperCase())?u.toUpperCase():Da.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Ls(u);else if(r.includes(s)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(Ls(d))}t[s]=c}else if(i.includes(s)){const c={};for(const[d,h]of Object.entries(u))c[d]=Ls(h);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=u}return t}function Pb(e){return Ls(e)}function kb(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ob(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function el(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ls(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ls(t.response));return e}function tl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function _3(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Wi(e,t){if(typeof t!="string")throw new Error("name must be a string");return _3(e,t,"cachedContents")}function YP(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ja(e){return Cb(e)}function T3(e){return e!=null&&typeof e=="object"&&"name"in e}function C3(e){return e!=null&&typeof e=="object"&&"video"in e}function N3(e){return e!=null&&typeof e=="object"&&"uri"in e}function KP(e){var t;let n;if(T3(e)&&(n=e.name),!(N3(e)&&(n=e.uri,n===void 0))&&!(C3(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function JP(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function XP(e){for(const t of["models","tunedModels","publisherModels"])if(D3(e,t))return e[t];return[]}function D3(e,t){return e!==null&&typeof e=="object"&&t in e}function I3(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function P3(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=I3(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function QP(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function k3(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function ZP(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function nl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ek(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function O3(e){const t={},n=y(e,["responsesFile"]);n!=null&&v(t,["fileName"],n);const r=y(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>h4(s))),v(t,["inlinedResponses"],a)}const i=y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["inlinedEmbedContentResponses"],a)}return t}function R3(e){const t={},n=y(e,["predictionsFormat"]);n!=null&&v(t,["format"],n);const r=y(e,["gcsDestination","outputUriPrefix"]);r!=null&&v(t,["gcsUri"],r);const i=y(e,["bigqueryDestination","outputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function M3(e){const t={},n=y(e,["format"]);n!=null&&v(t,["predictionsFormat"],n);const r=y(e,["gcsUri"]);r!=null&&v(t,["gcsDestination","outputUriPrefix"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&v(t,["bigqueryDestination","outputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function xf(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata","displayName"]);r!=null&&v(t,["displayName"],r);const i=y(e,["metadata","state"]);i!=null&&v(t,["state"],ek(i));const a=y(e,["metadata","createTime"]);a!=null&&v(t,["createTime"],a);const s=y(e,["metadata","endTime"]);s!=null&&v(t,["endTime"],s);const u=y(e,["metadata","updateTime"]);u!=null&&v(t,["updateTime"],u);const c=y(e,["metadata","model"]);c!=null&&v(t,["model"],c);const d=y(e,["metadata","output"]);return d!=null&&v(t,["dest"],O3(ZP(d))),t}function o0(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=y(e,["state"]);i!=null&&v(t,["state"],ek(i));const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["createTime"]);s!=null&&v(t,["createTime"],s);const u=y(e,["startTime"]);u!=null&&v(t,["startTime"],u);const c=y(e,["endTime"]);c!=null&&v(t,["endTime"],c);const d=y(e,["updateTime"]);d!=null&&v(t,["updateTime"],d);const h=y(e,["model"]);h!=null&&v(t,["model"],h);const m=y(e,["inputConfig"]);m!=null&&v(t,["src"],L3(m));const g=y(e,["outputConfig"]);g!=null&&v(t,["dest"],R3(ZP(g)));const x=y(e,["completionStats"]);return x!=null&&v(t,["completionStats"],x),t}function L3(e){const t={},n=y(e,["instancesFormat"]);n!=null&&v(t,["format"],n);const r=y(e,["gcsSource","uris"]);r!=null&&v(t,["gcsUri"],r);const i=y(e,["bigquerySource","inputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function j3(e,t){const n={};if(y(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(t,["fileName"]);r!=null&&v(n,["fileName"],r);const i=y(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>f4(e,s))),v(n,["requests","requests"],a)}return n}function U3(e){const t={},n=y(e,["format"]);n!=null&&v(t,["instancesFormat"],n);const r=y(e,["gcsUri"]);r!=null&&v(t,["gcsSource","uris"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&v(t,["bigquerySource","inputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function B3(e){const t={},n=y(e,["data"]);if(n!=null&&v(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function q3(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],nl(e,r)),n}function $3(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],nl(e,r)),n}function G3(e){const t={},n=y(e,["content"]);n!=null&&v(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],z3(r));const i=y(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const a=y(e,["finishReason"]);a!=null&&v(t,["finishReason"],a);const s=y(e,["avgLogprobs"]);s!=null&&v(t,["avgLogprobs"],s);const u=y(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const c=y(e,["index"]);c!=null&&v(t,["index"],c);const d=y(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const h=y(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),v(t,["safetyRatings"],g)}const m=y(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function z3(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function tk(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>x4(a))),v(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&v(t,["role"],r),t}function H3(e,t){const n={},r=y(e,["displayName"]);if(t!==void 0&&r!=null&&v(t,["batch","displayName"],r),y(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function F3(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=y(e,["dest"]);return t!==void 0&&i!=null&&v(t,["outputConfig"],M3(k3(i))),n}function eC(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["src"]);i!=null&&v(n,["batch","inputConfig"],j3(e,QP(e,i)));const a=y(t,["config"]);return a!=null&&H3(a,n),n}function V3(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["model"],Xe(e,r));const i=y(t,["src"]);i!=null&&v(n,["inputConfig"],U3(QP(e,i)));const a=y(t,["config"]);return a!=null&&F3(a,n),n}function W3(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["batch","displayName"],r),n}function Y3(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["src"]);i!=null&&v(n,["batch","inputConfig"],t4(e,i));const a=y(t,["config"]);return a!=null&&W3(a,n),n}function K3(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],nl(e,r)),n}function J3(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],nl(e,r)),n}function X3(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&v(t,["name"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);return a!=null&&v(t,["error"],a),t}function Q3(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&v(t,["name"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);return a!=null&&v(t,["error"],a),t}function Z3(e,t){const n={},r=y(t,["contents"]);if(r!=null){let a=Ib(e,r);Array.isArray(a)&&(a=a.map(s=>s)),v(n,["requests[]","request","content"],a)}const i=y(t,["config"]);return i!=null&&(v(n,["_self"],e4(i,n)),Jq(n,{"requests[].*":"requests[].request.*"})),n}function e4(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const a=y(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&v(t,["requests[]","outputDimensionality"],a),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function t4(e,t){const n={},r=y(t,["fileName"]);r!=null&&v(n,["file_name"],r);const i=y(t,["inlinedRequests"]);return i!=null&&v(n,["requests"],Z3(e,i)),n}function n4(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function r4(e){const t={},n=y(e,["id"]);n!=null&&v(t,["id"],n);const r=y(e,["args"]);r!=null&&v(t,["args"],r);const i=y(e,["name"]);if(i!=null&&v(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function i4(e){const t={},n=y(e,["mode"]);n!=null&&v(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function a4(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],tk(_n(i)));const a=y(t,["temperature"]);a!=null&&v(r,["temperature"],a);const s=y(t,["topP"]);s!=null&&v(r,["topP"],s);const u=y(t,["topK"]);u!=null&&v(r,["topK"],u);const c=y(t,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=y(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=y(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=y(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const g=y(t,["logprobs"]);g!=null&&v(r,["logprobs"],g);const x=y(t,["presencePenalty"]);x!=null&&v(r,["presencePenalty"],x);const A=y(t,["frequencyPenalty"]);A!=null&&v(r,["frequencyPenalty"],A);const E=y(t,["seed"]);E!=null&&v(r,["seed"],E);const _=y(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const C=y(t,["responseSchema"]);C!=null&&v(r,["responseSchema"],Pb(C));const I=y(t,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=y(t,["safetySettings"]);if(n!==void 0&&D!=null){let Y=D;Array.isArray(Y)&&(Y=Y.map(K=>w4(K))),v(n,["safetySettings"],Y)}const k=y(t,["tools"]);if(n!==void 0&&k!=null){let Y=tl(k);Array.isArray(Y)&&(Y=Y.map(K=>E4(el(K)))),v(n,["tools"],Y)}const P=y(t,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],S4(P)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=y(t,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],Wi(e,R));const M=y(t,["responseModalities"]);M!=null&&v(r,["responseModalities"],M);const z=y(t,["mediaResolution"]);z!=null&&v(r,["mediaResolution"],z);const B=y(t,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],kb(B)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=y(t,["thinkingConfig"]);$!=null&&v(r,["thinkingConfig"],$);const W=y(t,["imageConfig"]);return W!=null&&v(r,["imageConfig"],d4(W)),r}function o4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>G3(d))),v(t,["candidates"],c)}const i=y(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const a=y(e,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const s=y(e,["responseId"]);s!=null&&v(t,["responseId"],s);const u=y(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function s4(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],nl(e,r)),n}function l4(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],nl(e,r)),n}function u4(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function c4(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function d4(e){const t={},n=y(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function f4(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["request","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let u=Nr(i);Array.isArray(u)&&(u=u.map(c=>tk(c))),v(n,["request","contents"],u)}const a=y(t,["metadata"]);a!=null&&v(n,["metadata"],a);const s=y(t,["config"]);return s!=null&&v(n,["request","generationConfig"],a4(e,s,y(n,["request"],{}))),n}function h4(e){const t={},n=y(e,["response"]);n!=null&&v(t,["response"],o4(n));const r=y(e,["error"]);return r!=null&&v(t,["error"],r),t}function m4(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);if(t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),y(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function p4(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);t!==void 0&&i!=null&&v(t,["_query","pageToken"],i);const a=y(e,["filter"]);return t!==void 0&&a!=null&&v(t,["_query","filter"],a),n}function g4(e){const t={},n=y(e,["config"]);return n!=null&&m4(n,t),t}function y4(e){const t={},n=y(e,["config"]);return n!=null&&p4(n,t),t}function v4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>xf(s))),v(t,["batchJobs"],a)}return t}function b4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>o0(s))),v(t,["batchJobs"],a)}return t}function x4(e){const t={},n=y(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&v(t,["fileData"],n4(a));const s=y(e,["functionCall"]);s!=null&&v(t,["functionCall"],r4(s));const u=y(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=y(e,["inlineData"]);c!=null&&v(t,["inlineData"],B3(c));const d=y(e,["text"]);d!=null&&v(t,["text"],d);const h=y(e,["thought"]);h!=null&&v(t,["thought"],h);const m=y(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const g=y(e,["videoMetadata"]);return g!=null&&v(t,["videoMetadata"],g),t}function w4(e){const t={},n=y(e,["category"]);if(n!=null&&v(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function S4(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],i4(n));const r=y(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function E4(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const s=y(e,["codeExecution"]);if(s!=null&&v(t,["codeExecution"],s),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],u4(u));const c=y(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],c4(c));const d=y(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}var ji;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ji||(ji={}));class Ro{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class A4 extends Vi{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Ro(ji.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=eC(this.apiClient,t),r=n._url,i=ye("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=g,m.request=x}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),s=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=V3(this.apiClient,t);return u=ye("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>o0(h))}else{const d=eC(this.apiClient,t);return u=ye("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>xf(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Y3(this.apiClient,t);return a=ye("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>xf(c))}}async get(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=l4(this.apiClient,t);return u=ye("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>o0(h))}else{const d=s4(this.apiClient,t);return u=ye("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>xf(h))}}async cancel(t){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=$3(this.apiClient,t);s=ye("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=q3(this.apiClient,t);s=ye("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=y4(t);return u=ye("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=b4(h),g=new JT;return Object.assign(g,m),g})}else{const d=g4(t);return u=ye("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=v4(h),g=new JT;return Object.assign(g,m),g})}}async delete(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=J3(this.apiClient,t);return u=ye("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>Q3(h))}else{const d=K3(this.apiClient,t);return u=ye("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>X3(h))}}}function _4(e){const t={},n=y(e,["data"]);if(n!=null&&v(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function tC(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Y4(a))),v(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&v(t,["role"],r),t}function T4(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const a=y(e,["displayName"]);t!==void 0&&a!=null&&v(t,["displayName"],a);const s=y(e,["contents"]);if(t!==void 0&&s!=null){let h=Nr(s);Array.isArray(h)&&(h=h.map(m=>tC(m))),v(t,["contents"],h)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],tC(_n(u)));const c=y(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>J4(m))),v(t,["tools"],h)}const d=y(e,["toolConfig"]);if(t!==void 0&&d!=null&&v(t,["toolConfig"],K4(d)),y(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function C4(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const a=y(e,["displayName"]);t!==void 0&&a!=null&&v(t,["displayName"],a);const s=y(e,["contents"]);if(t!==void 0&&s!=null){let m=Nr(s);Array.isArray(m)&&(m=m.map(g=>g)),v(t,["contents"],m)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],_n(u));const c=y(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>X4(g))),v(t,["tools"],m)}const d=y(e,["toolConfig"]);t!==void 0&&d!=null&&v(t,["toolConfig"],d);const h=y(e,["kmsKeyName"]);return t!==void 0&&h!=null&&v(t,["encryption_spec","kmsKeyName"],h),n}function N4(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["model"],zP(e,r));const i=y(t,["config"]);return i!=null&&T4(i,n),n}function D4(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["model"],zP(e,r));const i=y(t,["config"]);return i!=null&&C4(i,n),n}function I4(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],Wi(e,r)),n}function P4(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],Wi(e,r)),n}function k4(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function O4(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function R4(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function M4(e){const t={},n=y(e,["id"]);n!=null&&v(t,["id"],n);const r=y(e,["args"]);r!=null&&v(t,["args"],r);const i=y(e,["name"]);if(i!=null&&v(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function L4(e){const t={},n=y(e,["mode"]);n!=null&&v(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function j4(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&v(t,["description"],n);const r=y(e,["name"]);r!=null&&v(t,["name"],r);const i=y(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const s=y(e,["response"]);s!=null&&v(t,["response"],s);const u=y(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function U4(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],Wi(e,r)),n}function B4(e,t){const n={},r=y(t,["name"]);return r!=null&&v(n,["_url","name"],Wi(e,r)),n}function q4(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function $4(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function G4(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function z4(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function H4(e){const t={},n=y(e,["config"]);return n!=null&&G4(n,t),t}function F4(e){const t={},n=y(e,["config"]);return n!=null&&z4(n,t),t}function V4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["cachedContents"],a)}return t}function W4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["cachedContents"],a)}return t}function Y4(e){const t={},n=y(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&v(t,["fileData"],R4(a));const s=y(e,["functionCall"]);s!=null&&v(t,["functionCall"],M4(s));const u=y(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=y(e,["inlineData"]);c!=null&&v(t,["inlineData"],_4(c));const d=y(e,["text"]);d!=null&&v(t,["text"],d);const h=y(e,["thought"]);h!=null&&v(t,["thought"],h);const m=y(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const g=y(e,["videoMetadata"]);return g!=null&&v(t,["videoMetadata"],g),t}function K4(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],L4(n));const r=y(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function J4(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const s=y(e,["codeExecution"]);if(s!=null&&v(t,["codeExecution"],s),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],q4(u));const c=y(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],$4(c));const d=y(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function X4(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>j4(g))),v(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(e,["codeExecution"]);s!=null&&v(t,["codeExecution"],s);const u=y(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const c=y(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],c);const d=y(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=y(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function Q4(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function Z4(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function e5(e,t){const n={},r=y(t,["name"]);r!=null&&v(n,["_url","name"],Wi(e,r));const i=y(t,["config"]);return i!=null&&Q4(i,n),n}function t5(e,t){const n={},r=y(t,["name"]);r!=null&&v(n,["_url","name"],Wi(e,r));const i=y(t,["config"]);return i!=null&&Z4(i,n),n}class n5 extends Vi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ro(ji.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=D4(this.apiClient,t);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=N4(this.apiClient,t);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=B4(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=U4(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=P4(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=O4(h),g=new YT;return Object.assign(g,m),g})}else{const d=I4(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=k4(h),g=new YT;return Object.assign(g,m),g})}}async update(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=t5(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=e5(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=F4(t);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=W4(h),g=new KT;return Object.assign(g,m),g})}else{const d=H4(t);return u=ye("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=V4(h),g=new KT;return Object.assign(g,m),g})}}}function nC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(e){return this instanceof yt?(this.v=e,this):new yt(e)}function js(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(x){return function(A){return Promise.resolve(A).then(x,m)}}function u(x,A){r[x]&&(i[x]=function(E){return new Promise(function(_,C){a.push([x,E,_,C])>1||c(x,E)})},A&&(i[x]=A(i[x])))}function c(x,A){try{d(r[x](A))}catch(E){g(a[0][3],E)}}function d(x){x.value instanceof yt?Promise.resolve(x.value.v).then(h,m):g(a[0][2],x)}function h(x){c("next",x)}function m(x){c("throw",x)}function g(x,A){x(A),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Cu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof nC=="function"?nC(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(u,c){s=e[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},s)}}function r5(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:nk(n)}function nk(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function i5(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function rC(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!nk(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class a5{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new o5(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class o5{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),i5(a)}async sendMessage(t){var n;await this.sendPromise;const r=_n(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,u;const c=await i,d=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(m))!==null&&u!==void 0?u:[]);const x=d?[d]:[];this.recordHistory(r,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=_n(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?rC(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return js(this,arguments,function*(){var s,u,c,d;const h=[];try{for(var m=!0,g=Cu(t),x;x=yield yt(g.next()),s=x.done,!s;m=!0){d=x.value,m=!1;const A=d;if(r5(A)){const E=(i=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;E!==void 0&&h.push(E)}yield yield yt(A)}}catch(A){u={error:A}}finally{try{!m&&!s&&(c=g.return)&&(yield yt(c.call(g)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...rC(r)):this.history.push(t),this.history.push(...i)}}class Mh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Mh.prototype)}}function s5(e){const t={},n=y(e,["file"]);return n!=null&&v(t,["file"],n),t}function l5(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function u5(e){const t={},n=y(e,["name"]);return n!=null&&v(t,["_url","file"],KP(n)),t}function c5(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function d5(e){const t={},n=y(e,["name"]);return n!=null&&v(t,["_url","file"],KP(n)),t}function f5(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function h5(e){const t={},n=y(e,["config"]);return n!=null&&f5(n,t),t}function m5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["files"],a)}return t}class p5 extends Vi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ro(ji.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h5(t);return a=ye("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=m5(c),h=new b3;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s5(t);return a=ye("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=l5(c),h=new x3;return Object.assign(h,d),h})}}async get(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=d5(t);return a=ye("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u5(t);return a=ye("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=c5(c),h=new w3;return Object.assign(h,d),h})}}}function wf(e){const t={},n=y(e,["data"]);if(n!=null&&v(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function g5(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>k5(a))),v(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&v(t,["role"],r),t}function y5(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function v5(e){const t={},n=y(e,["id"]);n!=null&&v(t,["id"],n);const r=y(e,["args"]);r!=null&&v(t,["args"],r);const i=y(e,["name"]);if(i!=null&&v(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function b5(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&v(t,["description"],n);const r=y(e,["name"]);r!=null&&v(t,["name"],r);const i=y(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const s=y(e,["response"]);s!=null&&v(t,["response"],s);const u=y(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function x5(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const a=y(e,["candidateCount"]);a!=null&&v(t,["candidateCount"],a);const s=y(e,["enableAffectiveDialog"]);s!=null&&v(t,["enableAffectiveDialog"],s);const u=y(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const c=y(e,["logprobs"]);c!=null&&v(t,["logprobs"],c);const d=y(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const h=y(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=y(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const g=y(e,["responseLogprobs"]);g!=null&&v(t,["responseLogprobs"],g);const x=y(e,["responseMimeType"]);x!=null&&v(t,["responseMimeType"],x);const A=y(e,["responseModalities"]);A!=null&&v(t,["responseModalities"],A);const E=y(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const _=y(e,["routingConfig"]);_!=null&&v(t,["routingConfig"],_);const C=y(e,["seed"]);C!=null&&v(t,["seed"],C);const I=y(e,["speechConfig"]);I!=null&&v(t,["speechConfig"],rk(I));const D=y(e,["stopSequences"]);D!=null&&v(t,["stopSequences"],D);const k=y(e,["temperature"]);k!=null&&v(t,["temperature"],k);const P=y(e,["thinkingConfig"]);P!=null&&v(t,["thinkingConfig"],P);const R=y(e,["topK"]);R!=null&&v(t,["topK"],R);const M=y(e,["topP"]);if(M!=null&&v(t,["topP"],M),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function w5(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function S5(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function E5(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const s=y(e,["topP"]);t!==void 0&&s!=null&&v(t,["setup","generationConfig","topP"],s);const u=y(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const c=y(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=y(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],Ob(m));const g=y(e,["thinkingConfig"]);t!==void 0&&g!=null&&v(t,["setup","generationConfig","thinkingConfig"],g);const x=y(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],x);const A=y(e,["systemInstruction"]);t!==void 0&&A!=null&&v(t,["setup","systemInstruction"],g5(_n(A)));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let R=tl(E);Array.isArray(R)&&(R=R.map(M=>R5(el(M)))),v(t,["setup","tools"],R)}const _=y(e,["sessionResumption"]);t!==void 0&&_!=null&&v(t,["setup","sessionResumption"],O5(_));const C=y(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&v(t,["setup","inputAudioTranscription"],C);const I=y(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&v(t,["setup","outputAudioTranscription"],I);const D=y(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&v(t,["setup","realtimeInputConfig"],D);const k=y(e,["contextWindowCompression"]);t!==void 0&&k!=null&&v(t,["setup","contextWindowCompression"],k);const P=y(e,["proactivity"]);return t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),n}function A5(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],x5(r));const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const s=y(e,["topP"]);t!==void 0&&s!=null&&v(t,["setup","generationConfig","topP"],s);const u=y(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const c=y(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=y(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],rk(Ob(m)));const g=y(e,["thinkingConfig"]);t!==void 0&&g!=null&&v(t,["setup","generationConfig","thinkingConfig"],g);const x=y(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],x);const A=y(e,["systemInstruction"]);t!==void 0&&A!=null&&v(t,["setup","systemInstruction"],_n(A));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let R=tl(E);Array.isArray(R)&&(R=R.map(M=>M5(el(M)))),v(t,["setup","tools"],R)}const _=y(e,["sessionResumption"]);t!==void 0&&_!=null&&v(t,["setup","sessionResumption"],_);const C=y(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&v(t,["setup","inputAudioTranscription"],C);const I=y(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&v(t,["setup","outputAudioTranscription"],I);const D=y(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&v(t,["setup","realtimeInputConfig"],D);const k=y(e,["contextWindowCompression"]);t!==void 0&&k!=null&&v(t,["setup","contextWindowCompression"],k);const P=y(e,["proactivity"]);return t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),n}function _5(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["setup","model"],Xe(e,r));const i=y(t,["config"]);return i!=null&&v(n,["config"],E5(i,n)),n}function T5(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["setup","model"],Xe(e,r));const i=y(t,["config"]);return i!=null&&v(n,["config"],A5(i,n)),n}function C5(e){const t={},n=y(e,["musicGenerationConfig"]);return n!=null&&v(t,["musicGenerationConfig"],n),t}function N5(e){const t={},n=y(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["weightedPrompts"],r)}return t}function D5(e){const t={},n=y(e,["media"]);if(n!=null){let d=HP(n);Array.isArray(d)&&(d=d.map(h=>wf(h))),v(t,["mediaChunks"],d)}const r=y(e,["audio"]);r!=null&&v(t,["audio"],wf(VP(r)));const i=y(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const a=y(e,["video"]);a!=null&&v(t,["video"],wf(FP(a)));const s=y(e,["text"]);s!=null&&v(t,["text"],s);const u=y(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const c=y(e,["activityEnd"]);return c!=null&&v(t,["activityEnd"],c),t}function I5(e){const t={},n=y(e,["media"]);if(n!=null){let d=HP(n);Array.isArray(d)&&(d=d.map(h=>h)),v(t,["mediaChunks"],d)}const r=y(e,["audio"]);r!=null&&v(t,["audio"],VP(r));const i=y(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const a=y(e,["video"]);a!=null&&v(t,["video"],FP(a));const s=y(e,["text"]);s!=null&&v(t,["text"],s);const u=y(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const c=y(e,["activityEnd"]);return c!=null&&v(t,["activityEnd"],c),t}function P5(e){const t={},n=y(e,["setupComplete"]);n!=null&&v(t,["setupComplete"],n);const r=y(e,["serverContent"]);r!=null&&v(t,["serverContent"],r);const i=y(e,["toolCall"]);i!=null&&v(t,["toolCall"],i);const a=y(e,["toolCallCancellation"]);a!=null&&v(t,["toolCallCancellation"],a);const s=y(e,["usageMetadata"]);s!=null&&v(t,["usageMetadata"],L5(s));const u=y(e,["goAway"]);u!=null&&v(t,["goAway"],u);const c=y(e,["sessionResumptionUpdate"]);return c!=null&&v(t,["sessionResumptionUpdate"],c),t}function k5(e){const t={},n=y(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&v(t,["fileData"],y5(a));const s=y(e,["functionCall"]);s!=null&&v(t,["functionCall"],v5(s));const u=y(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=y(e,["inlineData"]);c!=null&&v(t,["inlineData"],wf(c));const d=y(e,["text"]);d!=null&&v(t,["text"],d);const h=y(e,["thought"]);h!=null&&v(t,["thought"],h);const m=y(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const g=y(e,["videoMetadata"]);return g!=null&&v(t,["videoMetadata"],g),t}function O5(e){const t={},n=y(e,["handle"]);if(n!=null&&v(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function rk(e){const t={},n=y(e,["languageCode"]);n!=null&&v(t,["languageCode"],n);const r=y(e,["voiceConfig"]);if(r!=null&&v(t,["voiceConfig"],r),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function R5(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const s=y(e,["codeExecution"]);if(s!=null&&v(t,["codeExecution"],s),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],w5(u));const c=y(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],S5(c));const d=y(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function M5(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>b5(g))),v(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(e,["codeExecution"]);s!=null&&v(t,["codeExecution"],s);const u=y(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const c=y(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],c);const d=y(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=y(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function L5(e){const t={},n=y(e,["promptTokenCount"]);n!=null&&v(t,["promptTokenCount"],n);const r=y(e,["cachedContentTokenCount"]);r!=null&&v(t,["cachedContentTokenCount"],r);const i=y(e,["candidatesTokenCount"]);i!=null&&v(t,["responseTokenCount"],i);const a=y(e,["toolUsePromptTokenCount"]);a!=null&&v(t,["toolUsePromptTokenCount"],a);const s=y(e,["thoughtsTokenCount"]);s!=null&&v(t,["thoughtsTokenCount"],s);const u=y(e,["totalTokenCount"]);u!=null&&v(t,["totalTokenCount"],u);const c=y(e,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(A=>A)),v(t,["promptTokensDetails"],x)}const d=y(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(A=>A)),v(t,["cacheTokensDetails"],x)}const h=y(e,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(A=>A)),v(t,["responseTokensDetails"],x)}const m=y(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(A=>A)),v(t,["toolUsePromptTokensDetails"],x)}const g=y(e,["trafficType"]);return g!=null&&v(t,["trafficType"],g),t}function j5(e){const t={},n=y(e,["data"]);if(n!=null&&v(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function U5(e){const t={},n=y(e,["content"]);n!=null&&v(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],B5(r));const i=y(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const a=y(e,["finishReason"]);a!=null&&v(t,["finishReason"],a);const s=y(e,["avgLogprobs"]);s!=null&&v(t,["avgLogprobs"],s);const u=y(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const c=y(e,["index"]);c!=null&&v(t,["index"],c);const d=y(e,["logprobsResult"]);d!=null&&v(t,["logprobsResult"],d);const h=y(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),v(t,["safetyRatings"],g)}const m=y(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function B5(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function q5(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let a=Nr(i);Array.isArray(a)&&(a=a.map(s=>s)),v(n,["contents"],a)}return n}function $5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(t,["tokensInfo"],i)}return t}function G5(e){const t={},n=y(e,["values"]);n!=null&&v(t,["values"],n);const r=y(e,["statistics"]);return r!=null&&v(t,["statistics"],z5(r)),t}function z5(e){const t={},n=y(e,["truncated"]);n!=null&&v(t,["truncated"],n);const r=y(e,["token_count"]);return r!=null&&v(t,["tokenCount"],r),t}function Lh(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Q$(a))),v(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&v(t,["role"],r),t}function H5(e){const t={},n=y(e,["controlType"]);n!=null&&v(t,["controlType"],n);const r=y(e,["enableControlImageComputation"]);return r!=null&&v(t,["computeControl"],r),t}function F5(e){const t={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function V5(e,t){const n={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&v(t,["systemInstruction"],_n(r));const i=y(e,["tools"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>lk(u))),v(t,["tools"],s)}const a=y(e,["generationConfig"]);return t!==void 0&&a!=null&&v(t,["generationConfig"],j$(a)),n}function W5(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(u=>Lh(u))),v(n,["contents"],s)}const a=y(t,["config"]);return a!=null&&F5(a),n}function Y5(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["contents"],s)}const a=y(t,["config"]);return a!=null&&V5(a,n),n}function K5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);r!=null&&v(t,["totalTokens"],r);const i=y(e,["cachedContentTokenCount"]);return i!=null&&v(t,["cachedContentTokenCount"],i),t}function J5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);return r!=null&&v(t,["totalTokens"],r),t}function X5(e,t){const n={},r=y(t,["model"]);return r!=null&&v(n,["_url","name"],Xe(e,r)),n}function Q5(e,t){const n={},r=y(t,["model"]);return r!=null&&v(n,["_url","name"],Xe(e,r)),n}function Z5(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function e$(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function t$(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const a=y(e,["numberOfImages"]);t!==void 0&&a!=null&&v(t,["parameters","sampleCount"],a);const s=y(e,["aspectRatio"]);t!==void 0&&s!=null&&v(t,["parameters","aspectRatio"],s);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const c=y(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const d=y(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=y(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const g=y(e,["includeRaiReason"]);t!==void 0&&g!=null&&v(t,["parameters","includeRaiReason"],g);const x=y(e,["language"]);t!==void 0&&x!=null&&v(t,["parameters","language"],x);const A=y(e,["outputMimeType"]);t!==void 0&&A!=null&&v(t,["parameters","outputOptions","mimeType"],A);const E=y(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const _=y(e,["addWatermark"]);t!==void 0&&_!=null&&v(t,["parameters","addWatermark"],_);const C=y(e,["labels"]);t!==void 0&&C!=null&&v(t,["labels"],C);const I=y(e,["editMode"]);t!==void 0&&I!=null&&v(t,["parameters","editMode"],I);const D=y(e,["baseSteps"]);return t!==void 0&&D!=null&&v(t,["parameters","editConfig","baseSteps"],D),n}function n$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=y(t,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>i6(c))),v(n,["instances[0]","referenceImages"],u)}const s=y(t,["config"]);return s!=null&&t$(s,n),n}function r$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jh(a))),v(t,["generatedImages"],i)}return t}function i$(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const a=y(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&v(t,["requests[]","outputDimensionality"],a),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function a$(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&v(t,["instances[]","task_type"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&v(t,["instances[]","title"],i);const a=y(e,["outputDimensionality"]);t!==void 0&&a!=null&&v(t,["parameters","outputDimensionality"],a);const s=y(e,["mimeType"]);t!==void 0&&s!=null&&v(t,["instances[]","mimeType"],s);const u=y(e,["autoTruncate"]);return t!==void 0&&u!=null&&v(t,["parameters","autoTruncate"],u),n}function o$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let u=Ib(e,i);Array.isArray(u)&&(u=u.map(c=>c)),v(n,["requests[]","content"],u)}const a=y(t,["config"]);a!=null&&i$(a,n);const s=y(t,["model"]);return s!==void 0&&v(n,["requests[]","model"],Xe(e,s)),n}function s$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let s=Ib(e,i);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["instances[]","content"],s)}const a=y(t,["config"]);return a!=null&&a$(a,n),n}function l$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["embeddings"],a)}const i=y(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function u$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>G5(s))),v(t,["embeddings"],a)}const i=y(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function c$(e){const t={},n=y(e,["endpoint"]);n!=null&&v(t,["name"],n);const r=y(e,["deployedModelId"]);return r!=null&&v(t,["deployedModelId"],r),t}function d$(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function f$(e){const t={},n=y(e,["id"]);n!=null&&v(t,["id"],n);const r=y(e,["args"]);r!=null&&v(t,["args"],r);const i=y(e,["name"]);if(i!=null&&v(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function h$(e){const t={},n=y(e,["mode"]);n!=null&&v(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&v(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function m$(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&v(t,["description"],n);const r=y(e,["name"]);r!=null&&v(t,["name"],r);const i=y(e,["parameters"]);i!=null&&v(t,["parameters"],i);const a=y(e,["parametersJsonSchema"]);a!=null&&v(t,["parametersJsonSchema"],a);const s=y(e,["response"]);s!=null&&v(t,["response"],s);const u=y(e,["responseJsonSchema"]);return u!=null&&v(t,["responseJsonSchema"],u),t}function p$(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Lh(_n(i)));const a=y(t,["temperature"]);a!=null&&v(r,["temperature"],a);const s=y(t,["topP"]);s!=null&&v(r,["topP"],s);const u=y(t,["topK"]);u!=null&&v(r,["topK"],u);const c=y(t,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=y(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=y(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=y(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const g=y(t,["logprobs"]);g!=null&&v(r,["logprobs"],g);const x=y(t,["presencePenalty"]);x!=null&&v(r,["presencePenalty"],x);const A=y(t,["frequencyPenalty"]);A!=null&&v(r,["frequencyPenalty"],A);const E=y(t,["seed"]);E!=null&&v(r,["seed"],E);const _=y(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const C=y(t,["responseSchema"]);C!=null&&v(r,["responseSchema"],Pb(C));const I=y(t,["responseJsonSchema"]);if(I!=null&&v(r,["responseJsonSchema"],I),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=y(t,["safetySettings"]);if(n!==void 0&&D!=null){let Y=D;Array.isArray(Y)&&(Y=Y.map(K=>a6(K))),v(n,["safetySettings"],Y)}const k=y(t,["tools"]);if(n!==void 0&&k!=null){let Y=tl(k);Array.isArray(Y)&&(Y=Y.map(K=>f6(el(K)))),v(n,["tools"],Y)}const P=y(t,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],d6(P)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=y(t,["cachedContent"]);n!==void 0&&R!=null&&v(n,["cachedContent"],Wi(e,R));const M=y(t,["responseModalities"]);M!=null&&v(r,["responseModalities"],M);const z=y(t,["mediaResolution"]);z!=null&&v(r,["mediaResolution"],z);const B=y(t,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],kb(B)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=y(t,["thinkingConfig"]);$!=null&&v(r,["thinkingConfig"],$);const W=y(t,["imageConfig"]);return W!=null&&v(r,["imageConfig"],G$(W)),r}function g$(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],_n(i));const a=y(t,["temperature"]);a!=null&&v(r,["temperature"],a);const s=y(t,["topP"]);s!=null&&v(r,["topP"],s);const u=y(t,["topK"]);u!=null&&v(r,["topK"],u);const c=y(t,["candidateCount"]);c!=null&&v(r,["candidateCount"],c);const d=y(t,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=y(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=y(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const g=y(t,["logprobs"]);g!=null&&v(r,["logprobs"],g);const x=y(t,["presencePenalty"]);x!=null&&v(r,["presencePenalty"],x);const A=y(t,["frequencyPenalty"]);A!=null&&v(r,["frequencyPenalty"],A);const E=y(t,["seed"]);E!=null&&v(r,["seed"],E);const _=y(t,["responseMimeType"]);_!=null&&v(r,["responseMimeType"],_);const C=y(t,["responseSchema"]);C!=null&&v(r,["responseSchema"],Pb(C));const I=y(t,["responseJsonSchema"]);I!=null&&v(r,["responseJsonSchema"],I);const D=y(t,["routingConfig"]);D!=null&&v(r,["routingConfig"],D);const k=y(t,["modelSelectionConfig"]);k!=null&&v(r,["modelConfig"],k);const P=y(t,["safetySettings"]);if(n!==void 0&&P!=null){let U=P;Array.isArray(U)&&(U=U.map(te=>te)),v(n,["safetySettings"],U)}const R=y(t,["tools"]);if(n!==void 0&&R!=null){let U=tl(R);Array.isArray(U)&&(U=U.map(te=>lk(el(te)))),v(n,["tools"],U)}const M=y(t,["toolConfig"]);n!==void 0&&M!=null&&v(n,["toolConfig"],M);const z=y(t,["labels"]);n!==void 0&&z!=null&&v(n,["labels"],z);const B=y(t,["cachedContent"]);n!==void 0&&B!=null&&v(n,["cachedContent"],Wi(e,B));const $=y(t,["responseModalities"]);$!=null&&v(r,["responseModalities"],$);const W=y(t,["mediaResolution"]);W!=null&&v(r,["mediaResolution"],W);const Y=y(t,["speechConfig"]);Y!=null&&v(r,["speechConfig"],sk(kb(Y)));const K=y(t,["audioTimestamp"]);K!=null&&v(r,["audioTimestamp"],K);const G=y(t,["thinkingConfig"]);G!=null&&v(r,["thinkingConfig"],G);const ne=y(t,["imageConfig"]);return ne!=null&&v(r,["imageConfig"],z$(ne)),r}function iC(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(u=>Lh(u))),v(n,["contents"],s)}const a=y(t,["config"]);return a!=null&&v(n,["generationConfig"],p$(e,a,n)),n}function aC(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["contents"]);if(i!=null){let s=Nr(i);Array.isArray(s)&&(s=s.map(u=>u)),v(n,["contents"],s)}const a=y(t,["config"]);return a!=null&&v(n,["generationConfig"],g$(e,a,n)),n}function oC(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>U5(d))),v(t,["candidates"],c)}const i=y(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const a=y(e,["promptFeedback"]);a!=null&&v(t,["promptFeedback"],a);const s=y(e,["responseId"]);s!=null&&v(t,["responseId"],s);const u=y(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function sC(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),v(t,["candidates"],d)}const i=y(e,["createTime"]);i!=null&&v(t,["createTime"],i);const a=y(e,["modelVersion"]);a!=null&&v(t,["modelVersion"],a);const s=y(e,["promptFeedback"]);s!=null&&v(t,["promptFeedback"],s);const u=y(e,["responseId"]);u!=null&&v(t,["responseId"],u);const c=y(e,["usageMetadata"]);return c!=null&&v(t,["usageMetadata"],c),t}function y$(e,t){const n={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=y(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const a=y(e,["guidanceScale"]);if(t!==void 0&&a!=null&&v(t,["parameters","guidanceScale"],a),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&v(t,["parameters","safetySetting"],s);const u=y(e,["personGeneration"]);t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u);const c=y(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&v(t,["parameters","includeSafetyAttributes"],c);const d=y(e,["includeRaiReason"]);t!==void 0&&d!=null&&v(t,["parameters","includeRaiReason"],d);const h=y(e,["language"]);t!==void 0&&h!=null&&v(t,["parameters","language"],h);const m=y(e,["outputMimeType"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","mimeType"],m);const g=y(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&v(t,["parameters","outputOptions","compressionQuality"],g),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(e,["imageSize"]);if(t!==void 0&&x!=null&&v(t,["parameters","sampleImageSize"],x),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function v$(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const a=y(e,["numberOfImages"]);t!==void 0&&a!=null&&v(t,["parameters","sampleCount"],a);const s=y(e,["aspectRatio"]);t!==void 0&&s!=null&&v(t,["parameters","aspectRatio"],s);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const c=y(e,["seed"]);t!==void 0&&c!=null&&v(t,["parameters","seed"],c);const d=y(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&v(t,["parameters","safetySetting"],d);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=y(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const g=y(e,["includeRaiReason"]);t!==void 0&&g!=null&&v(t,["parameters","includeRaiReason"],g);const x=y(e,["language"]);t!==void 0&&x!=null&&v(t,["parameters","language"],x);const A=y(e,["outputMimeType"]);t!==void 0&&A!=null&&v(t,["parameters","outputOptions","mimeType"],A);const E=y(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const _=y(e,["addWatermark"]);t!==void 0&&_!=null&&v(t,["parameters","addWatermark"],_);const C=y(e,["labels"]);t!==void 0&&C!=null&&v(t,["labels"],C);const I=y(e,["imageSize"]);t!==void 0&&I!=null&&v(t,["parameters","sampleImageSize"],I);const D=y(e,["enhancePrompt"]);return t!==void 0&&D!=null&&v(t,["parameters","enhancePrompt"],D),n}function b$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=y(t,["config"]);return a!=null&&y$(a,n),n}function x$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=y(t,["config"]);return a!=null&&v$(a,n),n}function w$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>O$(s))),v(t,["generatedImages"],a)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],ak(i)),t}function S$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>jh(s))),v(t,["generatedImages"],a)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],ok(i)),t}function E$(e,t){const n={},r=y(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(e,["durationSeconds"]);if(t!==void 0&&i!=null&&v(t,["parameters","durationSeconds"],i),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=y(e,["aspectRatio"]);t!==void 0&&a!=null&&v(t,["parameters","aspectRatio"],a);const s=y(e,["resolution"]);t!==void 0&&s!=null&&v(t,["parameters","resolution"],s);const u=y(e,["personGeneration"]);if(t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=y(e,["negativePrompt"]);t!==void 0&&c!=null&&v(t,["parameters","negativePrompt"],c);const d=y(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&v(t,["parameters","enhancePrompt"],d),y(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(e,["lastFrame"]);t!==void 0&&h!=null&&v(t,["instances[0]","lastFrame"],Uh(h));const m=y(e,["referenceImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(x=>_6(x))),v(t,["instances[0]","referenceImages"],g)}if(y(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function A$(e,t){const n={},r=y(e,["numberOfVideos"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=y(e,["outputGcsUri"]);t!==void 0&&i!=null&&v(t,["parameters","storageUri"],i);const a=y(e,["fps"]);t!==void 0&&a!=null&&v(t,["parameters","fps"],a);const s=y(e,["durationSeconds"]);t!==void 0&&s!=null&&v(t,["parameters","durationSeconds"],s);const u=y(e,["seed"]);t!==void 0&&u!=null&&v(t,["parameters","seed"],u);const c=y(e,["aspectRatio"]);t!==void 0&&c!=null&&v(t,["parameters","aspectRatio"],c);const d=y(e,["resolution"]);t!==void 0&&d!=null&&v(t,["parameters","resolution"],d);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=y(e,["pubsubTopic"]);t!==void 0&&m!=null&&v(t,["parameters","pubsubTopic"],m);const g=y(e,["negativePrompt"]);t!==void 0&&g!=null&&v(t,["parameters","negativePrompt"],g);const x=y(e,["enhancePrompt"]);t!==void 0&&x!=null&&v(t,["parameters","enhancePrompt"],x);const A=y(e,["generateAudio"]);t!==void 0&&A!=null&&v(t,["parameters","generateAudio"],A);const E=y(e,["lastFrame"]);t!==void 0&&E!=null&&v(t,["instances[0]","lastFrame"],Jr(E));const _=y(e,["referenceImages"]);if(t!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map(k=>T6(k))),v(t,["instances[0]","referenceImages"],D)}const C=y(e,["mask"]);t!==void 0&&C!=null&&v(t,["instances[0]","mask"],A6(C));const I=y(e,["compressionQuality"]);return t!==void 0&&I!=null&&v(t,["parameters","compressionQuality"],I),n}function _$(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response","generateVideoResponse"]);return s!=null&&v(t,["response"],D$(s)),t}function T$(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response"]);return s!=null&&v(t,["response"],I$(s)),t}function C$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=y(t,["image"]);a!=null&&v(n,["instances[0]","image"],Uh(a));const s=y(t,["video"]);s!=null&&v(n,["instances[0]","video"],uk(s));const u=y(t,["source"]);u!=null&&P$(u,n);const c=y(t,["config"]);return c!=null&&E$(c,n),n}function N$(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const a=y(t,["image"]);a!=null&&v(n,["instances[0]","image"],Jr(a));const s=y(t,["video"]);s!=null&&v(n,["instances[0]","video"],ck(s));const u=y(t,["source"]);u!=null&&k$(u,n);const c=y(t,["config"]);return c!=null&&A$(c,n),n}function D$(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>M$(s))),v(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function I$(e){const t={},n=y(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>L$(s))),v(t,["generatedVideos"],a)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function P$(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Uh(i));const a=y(e,["video"]);return t!==void 0&&a!=null&&v(t,["instances[0]","video"],uk(a)),n}function k$(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Jr(i));const a=y(e,["video"]);return t!==void 0&&a!=null&&v(t,["instances[0]","video"],ck(a)),n}function O$(e){const t={},n=y(e,["_self"]);n!=null&&v(t,["image"],H$(n));const r=y(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=y(e,["_self"]);return i!=null&&v(t,["safetyAttributes"],ak(i)),t}function jh(e){const t={},n=y(e,["_self"]);n!=null&&v(t,["image"],ik(n));const r=y(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=y(e,["_self"]);i!=null&&v(t,["safetyAttributes"],ok(i));const a=y(e,["prompt"]);return a!=null&&v(t,["enhancedPrompt"],a),t}function R$(e){const t={},n=y(e,["_self"]);n!=null&&v(t,["mask"],ik(n));const r=y(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(t,["labels"],i)}return t}function M$(e){const t={},n=y(e,["video"]);return n!=null&&v(t,["video"],S6(n)),t}function L$(e){const t={},n=y(e,["_self"]);return n!=null&&v(t,["video"],E6(n)),t}function j$(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const a=y(e,["candidateCount"]);a!=null&&v(t,["candidateCount"],a);const s=y(e,["enableAffectiveDialog"]);s!=null&&v(t,["enableAffectiveDialog"],s);const u=y(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const c=y(e,["logprobs"]);c!=null&&v(t,["logprobs"],c);const d=y(e,["maxOutputTokens"]);d!=null&&v(t,["maxOutputTokens"],d);const h=y(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=y(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const g=y(e,["responseLogprobs"]);g!=null&&v(t,["responseLogprobs"],g);const x=y(e,["responseMimeType"]);x!=null&&v(t,["responseMimeType"],x);const A=y(e,["responseModalities"]);A!=null&&v(t,["responseModalities"],A);const E=y(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const _=y(e,["routingConfig"]);_!=null&&v(t,["routingConfig"],_);const C=y(e,["seed"]);C!=null&&v(t,["seed"],C);const I=y(e,["speechConfig"]);I!=null&&v(t,["speechConfig"],sk(I));const D=y(e,["stopSequences"]);D!=null&&v(t,["stopSequences"],D);const k=y(e,["temperature"]);k!=null&&v(t,["temperature"],k);const P=y(e,["thinkingConfig"]);P!=null&&v(t,["thinkingConfig"],P);const R=y(e,["topK"]);R!=null&&v(t,["topK"],R);const M=y(e,["topP"]);if(M!=null&&v(t,["topP"],M),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function U$(e,t){const n={},r=y(t,["model"]);return r!=null&&v(n,["_url","name"],Xe(e,r)),n}function B$(e,t){const n={},r=y(t,["model"]);return r!=null&&v(n,["_url","name"],Xe(e,r)),n}function q$(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function $$(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function G$(e){const t={},n=y(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function z$(e){const t={},n=y(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=y(e,["imageSize"]);r!=null&&v(t,["imageSize"],r);const i=y(e,["outputMimeType"]);i!=null&&v(t,["imageOutputOptions","mimeType"],i);const a=y(e,["outputCompressionQuality"]);return a!=null&&v(t,["imageOutputOptions","compressionQuality"],a),t}function H$(e){const t={},n=y(e,["bytesBase64Encoded"]);n!=null&&v(t,["imageBytes"],ja(n));const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function ik(e){const t={},n=y(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],ja(r));const i=y(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function Uh(e){const t={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(e,["imageBytes"]);n!=null&&v(t,["bytesBase64Encoded"],ja(n));const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Jr(e){const t={},n=y(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=y(e,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],ja(r));const i=y(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function F$(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const a=y(t,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const s=y(t,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],JP(e,u)),r}function V$(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const a=y(t,["pageToken"]);n!==void 0&&a!=null&&v(n,["_query","pageToken"],a);const s=y(t,["filter"]);n!==void 0&&s!=null&&v(n,["_query","filter"],s);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],JP(e,u)),r}function W$(e,t){const n={},r=y(t,["config"]);return r!=null&&F$(e,r,n),n}function Y$(e,t){const n={},r=y(t,["config"]);return r!=null&&V$(e,r,n),n}function K$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let a=XP(i);Array.isArray(a)&&(a=a.map(s=>s0(s))),v(t,["models"],a)}return t}function J$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let a=XP(i);Array.isArray(a)&&(a=a.map(s=>l0(s))),v(t,["models"],a)}return t}function X$(e){const t={},n=y(e,["maskMode"]);n!=null&&v(t,["maskMode"],n);const r=y(e,["segmentationClasses"]);r!=null&&v(t,["maskClasses"],r);const i=y(e,["maskDilation"]);return i!=null&&v(t,["dilation"],i),t}function s0(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=y(e,["description"]);i!=null&&v(t,["description"],i);const a=y(e,["version"]);a!=null&&v(t,["version"],a);const s=y(e,["_self"]);s!=null&&v(t,["tunedModelInfo"],h6(s));const u=y(e,["inputTokenLimit"]);u!=null&&v(t,["inputTokenLimit"],u);const c=y(e,["outputTokenLimit"]);c!=null&&v(t,["outputTokenLimit"],c);const d=y(e,["supportedGenerationMethods"]);d!=null&&v(t,["supportedActions"],d);const h=y(e,["temperature"]);h!=null&&v(t,["temperature"],h);const m=y(e,["maxTemperature"]);m!=null&&v(t,["maxTemperature"],m);const g=y(e,["topP"]);g!=null&&v(t,["topP"],g);const x=y(e,["topK"]);x!=null&&v(t,["topK"],x);const A=y(e,["thinking"]);return A!=null&&v(t,["thinking"],A),t}function l0(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=y(e,["description"]);i!=null&&v(t,["description"],i);const a=y(e,["versionId"]);a!=null&&v(t,["version"],a);const s=y(e,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>c$(g))),v(t,["endpoints"],m)}const u=y(e,["labels"]);u!=null&&v(t,["labels"],u);const c=y(e,["_self"]);c!=null&&v(t,["tunedModelInfo"],m6(c));const d=y(e,["defaultCheckpointId"]);d!=null&&v(t,["defaultCheckpointId"],d);const h=y(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>g)),v(t,["checkpoints"],m)}return t}function Q$(e){const t={},n=y(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&v(t,["fileData"],d$(a));const s=y(e,["functionCall"]);s!=null&&v(t,["functionCall"],f$(s));const u=y(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=y(e,["inlineData"]);c!=null&&v(t,["inlineData"],j5(c));const d=y(e,["text"]);d!=null&&v(t,["text"],d);const h=y(e,["thought"]);h!=null&&v(t,["thought"],h);const m=y(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const g=y(e,["videoMetadata"]);return g!=null&&v(t,["videoMetadata"],g),t}function Z$(e){const t={},n=y(e,["productImage"]);return n!=null&&v(t,["image"],Jr(n)),t}function e6(e,t){const n={},r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=y(e,["baseSteps"]);t!==void 0&&i!=null&&v(t,["parameters","baseSteps"],i);const a=y(e,["outputGcsUri"]);t!==void 0&&a!=null&&v(t,["parameters","storageUri"],a);const s=y(e,["seed"]);t!==void 0&&s!=null&&v(t,["parameters","seed"],s);const u=y(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&v(t,["parameters","safetySetting"],u);const c=y(e,["personGeneration"]);t!==void 0&&c!=null&&v(t,["parameters","personGeneration"],c);const d=y(e,["addWatermark"]);t!==void 0&&d!=null&&v(t,["parameters","addWatermark"],d);const h=y(e,["outputMimeType"]);t!==void 0&&h!=null&&v(t,["parameters","outputOptions","mimeType"],h);const m=y(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","compressionQuality"],m);const g=y(e,["enhancePrompt"]);t!==void 0&&g!=null&&v(t,["parameters","enhancePrompt"],g);const x=y(e,["labels"]);return t!==void 0&&x!=null&&v(t,["labels"],x),n}function t6(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["source"]);i!=null&&r6(i,n);const a=y(t,["config"]);return a!=null&&e6(a,n),n}function n6(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jh(i))),v(t,["generatedImages"],r)}return t}function r6(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=y(e,["personImage"]);t!==void 0&&i!=null&&v(t,["instances[0]","personImage","image"],Jr(i));const a=y(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Z$(u))),v(t,["instances[0]","productImages"],s)}return n}function i6(e){const t={},n=y(e,["referenceImage"]);n!=null&&v(t,["referenceImage"],Jr(n));const r=y(e,["referenceId"]);r!=null&&v(t,["referenceId"],r);const i=y(e,["referenceType"]);i!=null&&v(t,["referenceType"],i);const a=y(e,["maskImageConfig"]);a!=null&&v(t,["maskImageConfig"],X$(a));const s=y(e,["controlImageConfig"]);s!=null&&v(t,["controlImageConfig"],H5(s));const u=y(e,["styleImageConfig"]);u!=null&&v(t,["styleImageConfig"],u);const c=y(e,["subjectImageConfig"]);return c!=null&&v(t,["subjectImageConfig"],c),t}function ak(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function ok(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function a6(e){const t={},n=y(e,["category"]);if(n!=null&&v(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function o6(e){const t={},n=y(e,["image"]);return n!=null&&v(t,["image"],Jr(n)),t}function s6(e,t){const n={},r=y(e,["mode"]);t!==void 0&&r!=null&&v(t,["parameters","mode"],r);const i=y(e,["maxPredictions"]);t!==void 0&&i!=null&&v(t,["parameters","maxPredictions"],i);const a=y(e,["confidenceThreshold"]);t!==void 0&&a!=null&&v(t,["parameters","confidenceThreshold"],a);const s=y(e,["maskDilation"]);t!==void 0&&s!=null&&v(t,["parameters","maskDilation"],s);const u=y(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&v(t,["parameters","binaryColorThreshold"],u);const c=y(e,["labels"]);return t!==void 0&&c!=null&&v(t,["labels"],c),n}function l6(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["source"]);i!=null&&c6(i,n);const a=y(t,["config"]);return a!=null&&s6(a,n),n}function u6(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>R$(i))),v(t,["generatedMasks"],r)}return t}function c6(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Jr(i));const a=y(e,["scribbleImage"]);return t!==void 0&&a!=null&&v(t,["instances[0]","scribble"],o6(a)),n}function sk(e){const t={},n=y(e,["languageCode"]);n!=null&&v(t,["languageCode"],n);const r=y(e,["voiceConfig"]);if(r!=null&&v(t,["voiceConfig"],r),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function d6(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&v(t,["functionCallingConfig"],h$(n));const r=y(e,["retrievalConfig"]);return r!=null&&v(t,["retrievalConfig"],r),t}function f6(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const s=y(e,["codeExecution"]);if(s!=null&&v(t,["codeExecution"],s),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],q$(u));const c=y(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],$$(c));const d=y(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function lk(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>m$(g))),v(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&v(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&v(t,["googleSearchRetrieval"],i);const a=y(e,["computerUse"]);if(a!=null&&v(t,["computerUse"],a),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=y(e,["codeExecution"]);s!=null&&v(t,["codeExecution"],s);const u=y(e,["enterpriseWebSearch"]);u!=null&&v(t,["enterpriseWebSearch"],u);const c=y(e,["googleMaps"]);c!=null&&v(t,["googleMaps"],c);const d=y(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const h=y(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function h6(e){const t={},n=y(e,["baseModel"]);n!=null&&v(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function m6(e){const t={},n=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function p6(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const a=y(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&v(t,["defaultCheckpointId"],a),n}function g6(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const a=y(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&v(t,["defaultCheckpointId"],a),n}function y6(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","name"],Xe(e,r));const i=y(t,["config"]);return i!=null&&p6(i,n),n}function v6(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["config"]);return i!=null&&g6(i,n),n}function b6(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=y(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&v(t,["parameters","safetySetting"],i);const a=y(e,["personGeneration"]);t!==void 0&&a!=null&&v(t,["parameters","personGeneration"],a);const s=y(e,["includeRaiReason"]);t!==void 0&&s!=null&&v(t,["parameters","includeRaiReason"],s);const u=y(e,["outputMimeType"]);t!==void 0&&u!=null&&v(t,["parameters","outputOptions","mimeType"],u);const c=y(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&v(t,["parameters","outputOptions","compressionQuality"],c);const d=y(e,["enhanceInputImage"]);t!==void 0&&d!=null&&v(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=y(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&v(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=y(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const g=y(e,["numberOfImages"]);t!==void 0&&g!=null&&v(t,["parameters","sampleCount"],g);const x=y(e,["mode"]);return t!==void 0&&x!=null&&v(t,["parameters","mode"],x),n}function x6(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["_url","model"],Xe(e,r));const i=y(t,["image"]);i!=null&&v(n,["instances[0]","image"],Jr(i));const a=y(t,["upscaleFactor"]);a!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=y(t,["config"]);return s!=null&&b6(s,n),n}function w6(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jh(a))),v(t,["generatedImages"],i)}return t}function S6(e){const t={},n=y(e,["uri"]);n!=null&&v(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],ja(r));const i=y(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function E6(e){const t={},n=y(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],ja(r));const i=y(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function A6(e){const t={},n=y(e,["image"]);n!=null&&v(t,["_self"],Jr(n));const r=y(e,["maskMode"]);return r!=null&&v(t,["maskMode"],r),t}function _6(e){const t={},n=y(e,["image"]);n!=null&&v(t,["image"],Uh(n));const r=y(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function T6(e){const t={},n=y(e,["image"]);n!=null&&v(t,["image"],Jr(n));const r=y(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function uk(e){const t={},n=y(e,["uri"]);n!=null&&v(t,["uri"],n);const r=y(e,["videoBytes"]);r!=null&&v(t,["encodedVideo"],ja(r));const i=y(e,["mimeType"]);return i!=null&&v(t,["encoding"],i),t}function ck(e){const t={},n=y(e,["uri"]);n!=null&&v(t,["gcsUri"],n);const r=y(e,["videoBytes"]);r!=null&&v(t,["bytesBase64Encoded"],ja(r));const i=y(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}const C6="Content-Type",N6="X-Server-Timeout",D6="User-Agent",u0="x-goog-api-client",I6="1.30.0",P6=`google-genai-sdk/${I6}`,k6="v1beta1",O6="v1beta",lC=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class R6{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:k6,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:O6,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))i.searchParams.append(s,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=s}return n&&n.extraBody!==null&&M6(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await uC(i),new i0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await uC(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return js(this,arguments,function*(){const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield yt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=a.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const g=JSON.parse(JSON.stringify(m.error)),x=g.status,A=g.code,E=`got status: ${x}. ${JSON.stringify(m)}`;if(A>=400&&A<600)throw new Mh({message:E,status:A})}}catch(m){if(m.name==="ApiError")throw m}s+=d;let h=s.match(lC);for(;h;){const m=h[1];try{const g=new Response(m,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield yt(new i0(g)),s=s.slice(h[0].length),h=s.match(lC)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=P6+" "+this.clientOptions.userAgentExtra;return t[D6]=n,t[u0]=n,t[C6]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(N6,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(t);i.sizeBytes=String(s.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(t),h=ye("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n?.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),u=String(s.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r?.customMetadata&&(m.customMetadata=r.customMetadata),r?.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(d,u,c,h,m,r?.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function uC(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Mh({message:i,status:n}):new Error(i)}}function M6(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const u=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}const L6="mcp_used/unknown";let j6=!1;function dk(e){for(const t of e)if(U6(t)||typeof t=="object"&&"inputSchema"in t)return!0;return j6}function fk(e){var t;const n=(t=e[u0])!==null&&t!==void 0?t:"";e[u0]=(n+` ${L6}`).trimStart()}function U6(e){return e!==null&&typeof e=="object"&&e instanceof Rb}function B6(e,t=100){return js(this,arguments,function*(){let r,i=0;for(;i<t;){const a=yield yt(e.listTools({cursor:r}));for(const s of a.tools)yield yield yt(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class Rb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Rb(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Cu(B6(h))),d;d=await c.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;s.push(m);const g=m.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),P3(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}async function q6(e,t,n){const r=new E3;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class $6{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=H6(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(D=>{d=D}),m=t.callbacks,g=function(){d({})},x=this.apiClient,A={onopen:g,onmessage:D=>{q6(x,m.onmessage,D)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(D){}},E=this.webSocketFactory.create(c,z6(s),A);E.connect(),await h;const I={setup:{model:Xe(this.apiClient,t.model)}};return E.send(JSON.stringify(I)),new G6(E,this.apiClient)}}class G6{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=N5(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=C5(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Os.PLAY)}pause(){this.sendPlaybackControl(Os.PAUSE)}stop(){this.sendPlaybackControl(Os.STOP)}resetContext(){this.sendPlaybackControl(Os.RESET_CONTEXT)}close(){this.conn.close()}}function z6(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function H6(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const F6="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function V6(e,t,n){const r=new S3;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const s=P5(a);Object.assign(r,s)}else Object.assign(r,a);t(r)}class W6{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new $6(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&dk(t.config.tools)&&fk(m);const g=X6(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const B=this.apiClient.getApiKey();let $="BidiGenerateContent",W="key";B?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",W="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${$}?${W}=${B}`}let x=()=>{};const A=new Promise(B=>{x=B}),E=t.callbacks,_=function(){var B;(B=E?.onopen)===null||B===void 0||B.call(E),x({})},C=this.apiClient,I={onopen:_,onmessage:B=>{V6(C,E.onmessage,B)},onerror:(n=E?.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=E?.onclose)!==null&&r!==void 0?r:function(B){}},D=this.webSocketFactory.create(h,J6(g),I);D.connect(),await A;let k=Xe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const B=this.apiClient.getProject(),$=this.apiClient.getLocation();k=`projects/${B}/locations/${$}/`+k}let P={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[If.AUDIO]}:t.config.responseModalities=[If.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],M=[];for(const B of R)if(this.isCallableTool(B)){const $=B;M.push(await $.tool())}else M.push(B);M.length>0&&(t.config.tools=M);const z={model:k,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=T5(this.apiClient,z):P=_5(this.apiClient,z),delete P.config,D.send(JSON.stringify(P)),new K6(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Y6={turnComplete:!0};class K6{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Nr(n.turns),t.isVertexAI()||(r=r.map(i=>Lh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(F6)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},Y6),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:I5(t)}:n={realtimeInput:D5(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function J6(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function X6(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const cC=10;function dC(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e?.tools)!==null&&n!==void 0?n:[])if(Us(s)){i=!0;break}if(!i)return!0;const a=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Us(e){return"callTool"in e&&typeof e.callTool=="function"}function Q6(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Us(i)))!==null&&r!==void 0?r:!1}function fC(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Us(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function hC(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class Z6 extends Vi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Q6(n)||dC(n.config))return await this.generateContentInternal(c);const d=fC(n);if(d.length>0){const E=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const g=Nr(c.contents),x=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:cC;let A=0;for(;A<x&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,_=[];for(const C of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Us(C)){const D=await C.callTool(h.functionCalls);_.push(...D)}A++,m={role:"user",parts:_},c.contents=Nr(c.contents),c.contents.push(E),c.contents.push(m),hC(c.config)&&(g.push(E),g.push(m))}return hC(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,a,s,u;if(this.maybeMoveToResponseJsonSchem(n),dC(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=fC(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:s.push(c);let u;return a?u={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ro(ji.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const s=await Promise.all(a.map(async c=>Us(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&dk(t.config.tools)){const c=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),fk(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Us(s)){const u=s,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:cC;let s=!1,u=0;const c=await this.initAfcToolsMap(t);return(function(d,h,m){var g,x;return js(this,arguments,function*(){for(var A,E,_,C;u<a;){s&&(u++,s=!1);const P=yield yt(d.processParamsMaybeAddMcpUsage(m)),R=yield yt(d.generateContentStreamInternal(P)),M=[],z=[];try{for(var I=!0,D=(E=void 0,Cu(R)),k;k=yield yt(D.next()),A=k.done,!A;I=!0){C=k.value,I=!1;const B=C;if(yield yield yt(B),B.candidates&&(!((g=B.candidates[0])===null||g===void 0)&&g.content)){z.push(B.candidates[0].content);for(const $ of(x=B.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<a&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has($.functionCall.name)){const W=yield yt(h.get($.functionCall.name).callTool([$.functionCall]));M.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(B){E={error:B}}finally{try{!I&&!A&&(_=D.return)&&(yield yt(_.call(D)))}finally{if(E)throw E.error}}if(M.length>0){s=!0;const B=new fu;B.candidates=[{content:{role:"user",parts:M}}],yield yield yt(B);const $=[];$.push(...z),$.push({role:"user",parts:M});const W=Nr(m.contents).concat($);m.contents=W}else break}})})(this,c,t)}async generateContentInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=aC(this.apiClient,t);return u=ye("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=sC(h),g=new fu;return Object.assign(g,m),g})}else{const d=iC(this.apiClient,t);return u=ye("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=oC(h),g=new fu;return Object.assign(g,m),g})}}async generateContentStreamInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=aC(this.apiClient,t);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return js(this,arguments,function*(){var g,x,A,E;try{for(var _=!0,C=Cu(m),I;I=yield yt(C.next()),g=I.done,!g;_=!0){E=I.value,_=!1;const D=E,k=sC(yield yt(D.json()));k.sdkHttpResponse={headers:D.headers};const P=new fu;Object.assign(P,k),yield yield yt(P)}}catch(D){x={error:D}}finally{try{!_&&!g&&(A=C.return)&&(yield yt(A.call(C)))}finally{if(x)throw x.error}}})})}else{const d=iC(this.apiClient,t);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(m){return js(this,arguments,function*(){var g,x,A,E;try{for(var _=!0,C=Cu(m),I;I=yield yt(C.next()),g=I.done,!g;_=!0){E=I.value,_=!1;const D=E,k=oC(yield yt(D.json()));k.sdkHttpResponse={headers:D.headers};const P=new fu;Object.assign(P,k),yield yield yt(P)}}catch(D){x={error:D}}finally{try{!_&&!g&&(A=C.return)&&(yield yt(A.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=s$(this.apiClient,t);return u=ye("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=u$(h),g=new GT;return Object.assign(g,m),g})}else{const d=o$(this.apiClient,t);return u=ye("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=l$(h),g=new GT;return Object.assign(g,m),g})}}async generateImagesInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=x$(this.apiClient,t);return u=ye("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=S$(h),g=new zT;return Object.assign(g,m),g})}else{const d=b$(this.apiClient,t);return u=ye("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=w$(h),g=new zT;return Object.assign(g,m),g})}}async editImageInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=n$(this.apiClient,t);return a=ye("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=r$(c),h=new d3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=x6(this.apiClient,t);return a=ye("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=w6(c),h=new f3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=t6(this.apiClient,t);return a=ye("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=n6(c),h=new h3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=l6(this.apiClient,t);return a=ye("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=u6(c),h=new m3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=B$(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>l0(h))}else{const d=U$(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>s0(h))}}async listInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Y$(this.apiClient,t);return u=ye("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=J$(h),g=new HT;return Object.assign(g,m),g})}else{const d=W$(this.apiClient,t);return u=ye("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=K$(h),g=new HT;return Object.assign(g,m),g})}}async update(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=v6(this.apiClient,t);return u=ye("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>l0(h))}else{const d=y6(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>s0(h))}}async delete(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Q5(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=e$(h),g=new FT;return Object.assign(g,m),g})}else{const d=X5(this.apiClient,t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=Z5(h),g=new FT;return Object.assign(g,m),g})}}async countTokens(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Y5(this.apiClient,t);return u=ye("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=J5(h),g=new VT;return Object.assign(g,m),g})}else{const d=W5(this.apiClient,t);return u=ye("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=K5(h),g=new VT;return Object.assign(g,m),g})}}async computeTokens(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=q5(this.apiClient,t);return a=ye("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=$5(c),h=new p3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=N$(this.apiClient,t);return u=ye("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=T$(h),g=new Pf;return Object.assign(g,m),g})}else{const d=C$(this.apiClient,t);return u=ye("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s.then(h=>{const m=_$(h),g=new Pf;return Object.assign(g,m),g})}}}class eG extends Vi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=a3(t);return u=ye("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=i3(t);return u=ye("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=Xq(t);return a=ye("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function tG(e){const t={},n=y(e,["data"]);if(n!=null&&v(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function nG(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>dG(a))),v(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&v(t,["role"],r),t}function rG(e,t,n){const r={},i=y(t,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const a=y(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&v(n,["newSessionExpireTime"],a);const s=y(t,["uses"]);n!==void 0&&s!=null&&v(n,["uses"],s);const u=y(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],cG(e,u));const c=y(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&v(n,["fieldMask"],c),r}function iG(e,t){const n={},r=y(t,["config"]);return r!=null&&v(n,["config"],rG(e,r,n)),n}function aG(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function oG(e){const t={},n=y(e,["id"]);n!=null&&v(t,["id"],n);const r=y(e,["args"]);r!=null&&v(t,["args"],r);const i=y(e,["name"]);if(i!=null&&v(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sG(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function lG(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function uG(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const a=y(e,["temperature"]);t!==void 0&&a!=null&&v(t,["setup","generationConfig","temperature"],a);const s=y(e,["topP"]);t!==void 0&&s!=null&&v(t,["setup","generationConfig","topP"],s);const u=y(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const c=y(e,["maxOutputTokens"]);t!==void 0&&c!=null&&v(t,["setup","generationConfig","maxOutputTokens"],c);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","mediaResolution"],d);const h=y(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],Ob(m));const g=y(e,["thinkingConfig"]);t!==void 0&&g!=null&&v(t,["setup","generationConfig","thinkingConfig"],g);const x=y(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],x);const A=y(e,["systemInstruction"]);t!==void 0&&A!=null&&v(t,["setup","systemInstruction"],nG(_n(A)));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let R=tl(E);Array.isArray(R)&&(R=R.map(M=>hG(el(M)))),v(t,["setup","tools"],R)}const _=y(e,["sessionResumption"]);t!==void 0&&_!=null&&v(t,["setup","sessionResumption"],fG(_));const C=y(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&v(t,["setup","inputAudioTranscription"],C);const I=y(e,["outputAudioTranscription"]);t!==void 0&&I!=null&&v(t,["setup","outputAudioTranscription"],I);const D=y(e,["realtimeInputConfig"]);t!==void 0&&D!=null&&v(t,["setup","realtimeInputConfig"],D);const k=y(e,["contextWindowCompression"]);t!==void 0&&k!=null&&v(t,["setup","contextWindowCompression"],k);const P=y(e,["proactivity"]);return t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),n}function cG(e,t){const n={},r=y(t,["model"]);r!=null&&v(n,["setup","model"],Xe(e,r));const i=y(t,["config"]);return i!=null&&v(n,["config"],uG(i,n)),n}function dG(e){const t={},n=y(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const a=y(e,["fileData"]);a!=null&&v(t,["fileData"],aG(a));const s=y(e,["functionCall"]);s!=null&&v(t,["functionCall"],oG(s));const u=y(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const c=y(e,["inlineData"]);c!=null&&v(t,["inlineData"],tG(c));const d=y(e,["text"]);d!=null&&v(t,["text"],d);const h=y(e,["thought"]);h!=null&&v(t,["thought"],h);const m=y(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const g=y(e,["videoMetadata"]);return g!=null&&v(t,["videoMetadata"],g),t}function fG(e){const t={},n=y(e,["handle"]);if(n!=null&&v(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hG(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&v(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&v(t,["computerUse"],i);const a=y(e,["fileSearch"]);a!=null&&v(t,["fileSearch"],a);const s=y(e,["codeExecution"]);if(s!=null&&v(t,["codeExecution"],s),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],sG(u));const c=y(e,["googleSearch"]);c!=null&&v(t,["googleSearch"],lG(c));const d=y(e,["urlContext"]);return d!=null&&v(t,["urlContext"],d),t}function mG(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function pG(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=mG(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];a&&c.push(a),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class gG extends Vi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=iG(this.apiClient,t);a=ye("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=pG(u,t.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function yG(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["displayName"],r),n}function vG(e){const t={},n=y(e,["config"]);return n!=null&&yG(n,t),t}function bG(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function xG(e){const t={},n=y(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&bG(r,t),t}function wG(e){const t={},n=y(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function SG(e,t){const n={},r=y(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["customMetadata"],a)}const i=y(e,["chunkingConfig"]);return t!==void 0&&i!=null&&v(t,["chunkingConfig"],i),n}function EG(e){const t={},n=y(e,["name"]);n!=null&&v(t,["name"],n);const r=y(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=y(e,["done"]);i!=null&&v(t,["done"],i);const a=y(e,["error"]);a!=null&&v(t,["error"],a);const s=y(e,["response"]);return s!=null&&v(t,["response"],_G(s)),t}function AG(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=y(e,["fileName"]);r!=null&&v(t,["fileName"],r);const i=y(e,["config"]);return i!=null&&SG(i,t),t}function _G(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&v(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function TG(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function CG(e){const t={},n=y(e,["config"]);return n!=null&&TG(n,t),t}function NG(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["fileSearchStores"],a)}return t}function DG(e,t){const n={},r=y(e,["mimeType"]);t!==void 0&&r!=null&&v(t,["mimeType"],r);const i=y(e,["displayName"]);t!==void 0&&i!=null&&v(t,["displayName"],i);const a=y(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),v(t,["customMetadata"],u)}const s=y(e,["chunkingConfig"]);return t!==void 0&&s!=null&&v(t,["chunkingConfig"],s),n}function IG(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=y(e,["config"]);return r!=null&&DG(r,t),t}function PG(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function kG(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function OG(e){const t={},n=y(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&kG(r,t),t}function RG(e){const t={},n=y(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function MG(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function LG(e){const t={},n=y(e,["parent"]);n!=null&&v(t,["_url","parent"],n);const r=y(e,["config"]);return r!=null&&MG(r,t),t}function jG(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=y(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),v(t,["documents"],a)}return t}class UG extends Vi{constructor(t){super(),this.apiClient=t,this.list=async n=>new Ro(ji.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RG(t);return a=ye("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OG(t);i=ye("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=LG(t);return a=ye("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=jG(c),h=new g3;return Object.assign(h,d),h})}}}class BG extends Vi{constructor(t,n=new UG(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Ro(ji.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vG(t);return a=ye("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wG(t);return a=ye("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xG(t);i=ye("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CG(t);return a=ye("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=NG(c),h=new y3;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IG(t);return a=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=PG(c),h=new v3;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AG(t);return a=ye("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=EG(c),h=new Nb;return Object.assign(h,d),h})}}}function qG(e,t){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function $G(e,t){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function GG(e,t,n){const r={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&v(t,["displayName"],i),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=y(e,["epochCount"]);t!==void 0&&a!=null&&v(t,["tuningTask","hyperparameters","epochCount"],a);const s=y(e,["learningRateMultiplier"]);if(s!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),y(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(e,["batchSize"]);t!==void 0&&u!=null&&v(t,["tuningTask","hyperparameters","batchSize"],u);const c=y(e,["learningRate"]);if(t!==void 0&&c!=null&&v(t,["tuningTask","hyperparameters","learningRate"],c),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function zG(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=y(e,["validationDataset"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec"],mC(x))}else if(i==="PREFERENCE_TUNING"){const x=y(e,["validationDataset"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec"],mC(x))}const a=y(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&v(t,["tunedModelDisplayName"],a);const s=y(e,["description"]);t!==void 0&&s!=null&&v(t,["description"],s);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=y(e,["epochCount"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(u==="PREFERENCE_TUNING"){const x=y(e,["epochCount"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=y(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=y(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let d=y(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=y(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(d==="PREFERENCE_TUNING"){const x=y(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=y(e,["adapterSize"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(h==="PREFERENCE_TUNING"){const x=y(e,["adapterSize"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=y(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const g=y(e,["beta"]);return t!==void 0&&g!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function HG(e,t){const n={},r=y(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=y(e,["trainingDataset"]);a!=null&&tz(a);const s=y(e,["config"]);return s!=null&&GG(s,n),n}function FG(e,t){const n={},r=y(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const a=y(e,["trainingDataset"]);a!=null&&nz(a,n,t);const s=y(e,["config"]);return s!=null&&zG(s,n,t),n}function VG(e,t){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function WG(e,t){const n={},r=y(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function YG(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const a=y(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const s=y(e,["filter"]);return t!==void 0&&s!=null&&v(t,["_query","filter"],s),r}function KG(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const a=y(e,["pageToken"]);t!==void 0&&a!=null&&v(t,["_query","pageToken"],a);const s=y(e,["filter"]);return t!==void 0&&s!=null&&v(t,["_query","filter"],s),r}function JG(e,t){const n={},r=y(e,["config"]);return r!=null&&YG(r,n),n}function XG(e,t){const n={},r=y(e,["config"]);return r!=null&&KG(r,n),n}function QG(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=y(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>hk(u))),v(n,["tuningJobs"],s)}return n}function ZG(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const a=y(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>c0(u))),v(n,["tuningJobs"],s)}return n}function ez(e,t){const n={},r=y(e,["name"]);r!=null&&v(n,["model"],r);const i=y(e,["name"]);return i!=null&&v(n,["endpoint"],i),n}function tz(e,t){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),v(n,["examples","examples"],i)}return n}function nz(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=y(e,["gcsUri"]);t!==void 0&&s!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=y(e,["gcsUri"]);t!==void 0&&s!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=y(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=y(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=y(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function hk(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&v(n,["name"],i);const a=y(e,["state"]);a!=null&&v(n,["state"],YP(a));const s=y(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=y(e,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const c=y(e,["tuningTask","completeTime"]);c!=null&&v(n,["endTime"],c);const d=y(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=y(e,["description"]);h!=null&&v(n,["description"],h);const m=y(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const g=y(e,["_self"]);return g!=null&&v(n,["tunedModel"],ez(g)),n}function c0(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&v(n,["name"],i);const a=y(e,["state"]);a!=null&&v(n,["state"],YP(a));const s=y(e,["createTime"]);s!=null&&v(n,["createTime"],s);const u=y(e,["startTime"]);u!=null&&v(n,["startTime"],u);const c=y(e,["endTime"]);c!=null&&v(n,["endTime"],c);const d=y(e,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=y(e,["error"]);h!=null&&v(n,["error"],h);const m=y(e,["description"]);m!=null&&v(n,["description"],m);const g=y(e,["baseModel"]);g!=null&&v(n,["baseModel"],g);const x=y(e,["tunedModel"]);x!=null&&v(n,["tunedModel"],x);const A=y(e,["preTunedModel"]);A!=null&&v(n,["preTunedModel"],A);const E=y(e,["supervisedTuningSpec"]);E!=null&&v(n,["supervisedTuningSpec"],E);const _=y(e,["preferenceOptimizationSpec"]);_!=null&&v(n,["preferenceOptimizationSpec"],_);const C=y(e,["tuningDataStats"]);C!=null&&v(n,["tuningDataStats"],C);const I=y(e,["encryptionSpec"]);I!=null&&v(n,["encryptionSpec"],I);const D=y(e,["partnerModelTuningSpec"]);D!=null&&v(n,["partnerModelTuningSpec"],D);const k=y(e,["customBaseModel"]);k!=null&&v(n,["customBaseModel"],k);const P=y(e,["experiment"]);P!=null&&v(n,["experiment"],P);const R=y(e,["labels"]);R!=null&&v(n,["labels"],R);const M=y(e,["outputUri"]);M!=null&&v(n,["outputUri"],M);const z=y(e,["pipelineJob"]);z!=null&&v(n,["pipelineJob"],z);const B=y(e,["serviceAccount"]);B!=null&&v(n,["serviceAccount"],B);const $=y(e,["tunedModelDisplayName"]);$!=null&&v(n,["tunedModelDisplayName"],$);const W=y(e,["veoTuningSpec"]);return W!=null&&v(n,["veoTuningSpec"],W),n}function rz(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&v(n,["name"],i);const a=y(e,["metadata"]);a!=null&&v(n,["metadata"],a);const s=y(e,["done"]);s!=null&&v(n,["done"],s);const u=y(e,["error"]);return u!=null&&v(n,["error"],u),n}function mC(e,t){const n={},r=y(e,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=y(e,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}class iz extends Vi{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ro(ji.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:r0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=WG(t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>c0(h))}else{const d=VG(t);return u=ye("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>hk(h))}}async listInternal(t){var n,r,i,a;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=XG(t);return u=ye("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=ZG(h),g=new WT;return Object.assign(g,m),g})}else{const d=JG(t);return u=ye("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const m=QG(h),g=new WT;return Object.assign(g,m),g})}}async cancel(t){var n,r,i,a;let s="",u={};if(this.apiClient.isVertexAI()){const c=$G(t);s=ye("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=qG(t);s=ye("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async tuneInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const u=FG(t,t);return a=ye("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>c0(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HG(t);return a=ye("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>rz(c))}}}class az{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const oz=1024*1024*8,sz=3,lz=1e3,uz=2,Of="x-goog-upload-status";async function cz(e,t,n){var r;const i=await mk(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function dz(e,t,n){var r;const i=await mk(e,t,n),a=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[Of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=GP(a),u=new Db;return Object.assign(u,s),u}async function mk(e,t,n){var r,i;let a=0,s=0,u=new i0(new Response),c="upload";for(a=e.size;s<a;){const d=Math.min(oz,a-s),h=e.slice(s,s+d);s+d>=a&&(c+=", finalize");let m=0,g=lz;for(;m<sz&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[Of]));)m++,await hz(g),g=g*uz;if(s+=d,((i=u?.headers)===null||i===void 0?void 0:i[Of])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function fz(e){return{size:e.size,type:e.type}}function hz(e){return new Promise(t=>setTimeout(t,e))}class mz{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cz(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dz(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fz(t)}}class pz{create(t,n,r){return new gz(t,n,r)}}class gz{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const pC="x-goog-api-key";class yz{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(pC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(pC,this.apiKey)}}}const vz="gl-node/";class bz{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Kq(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new yz(this.apiKey);this.apiClient=new R6({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:vz+"web",uploader:new mz,downloader:new az}),this.models=new Z6(this.apiClient),this.live=new W6(this.apiClient,i,new pz),this.batches=new A4(this.apiClient),this.chats=new a5(this.models,this.apiClient),this.caches=new n5(this.apiClient),this.files=new p5(this.apiClient),this.operations=new eG(this.apiClient),this.authTokens=new gG(this.apiClient),this.tunings=new iz(this.apiClient),this.fileSearchStores=new BG(this.apiClient)}}const Xr=()=>{const e="AIzaSyCMlqW0MV4OoQM5oxk64";return console.log("Gemini Service: API Key present:",!0),new bz({apiKey:e})};async function xz(e,t,n,r,i){try{const a=Xr(),s="gemini-1.5-flash",u=`
    As an expert AI legal strategist specializing in Texas employment law, analyze this case.
    
    Complaint: ${e}
    Job Description: ${t}
    Actual Duties: ${n}
    Character Profile: ${r}
    Handbook URL: ${i}
    
    Provide a comprehensive legal analysis in JSON format.
    `,d=(await a.models.generateContent({model:s,contents:u,config:{responseMimeType:"application/json"}})).text.trim();return JSON.parse(d)}catch(a){return console.error("Error analyzing case:",a),null}}async function wz(e,t,n){try{const r=Xr(),i="gemini-1.5-flash",a=`Provide improvement suggestions for this legal section:
Title: ${e}
Content: ${t}
Original Complaint: ${n}`;return(await r.models.generateContent({model:i,contents:a})).text}catch(r){return console.error("Error getting improvement suggestions:",r),null}}async function Sz(e,t){try{const n=Xr(),r="gemini-1.5-flash",a=`Analyze if this file is relevant to these allegations:
${t.map(c=>`- ${c.claim}: ${c.summary}`).join(`
`)}

File Content: ${e}`,s=await n.models.generateContent({model:r,contents:a,config:{responseMimeType:"application/json"}});return JSON.parse(s.text.trim())}catch(n){return console.error("Error analyzing file:",n),null}}async function Ez(e,t,n,r,i,a,s){try{const u=Xr(),c="gemini-1.5-flash",d=`Generate a ${s} letter based on this analysis: ${JSON.stringify(e)}`;return(await u.models.generateContent({model:c,contents:d})).text}catch(u){return console.error("Error generating letter:",u),null}}async function Az(e,t,n){try{const r=Xr(),i="gemini-1.5-flash",a=`Analyze this Q&A for a Texas employment law case:
Question: ${e}
Answer: ${t}
Context: ${n||"None"}`,s=await r.models.generateContent({model:i,contents:a,config:{responseMimeType:"application/json"}});return JSON.parse(s.text.trim())}catch(r){return console.error("Error analyzing answer confidence:",r),null}}async function _z(e,t,n){try{const r=Xr(),i="gemini-1.5-flash",a=`Analyze this arbitration agreement:
${e}
Signed: ${t}
Protected Activity: ${n}`,s=await r.models.generateContent({model:i,contents:a,config:{responseMimeType:"application/json"}}),u=JSON.parse(s.text.trim());return{agreementText:e,signedDate:t,...u}}catch(r){return console.error("Error analyzing arbitration agreement:",r),null}}async function Tz(e){try{const t=Xr(),n="gemini-1.5-flash",r=[...e].sort((d,h)=>new Date(d.date).getTime()-new Date(h.date).getTime()),i=r.find(d=>d.type==="protected_activity"),a=r.find(d=>d.type==="adverse_action");if(!i||!a)return null;const s=`Analyze temporal proximity for these events:
${JSON.stringify(r)}`,u=await t.models.generateContent({model:n,contents:s,config:{responseMimeType:"application/json"}}),c=JSON.parse(u.text.trim());return{events:r,protectedActivityDate:i.date,terminationDate:a.date,...c}}catch(t){return console.error("Error analyzing temporal proximity:",t),null}}async function Cz(e){try{const t=Xr(),n="gemini-1.5-flash",r=new Date().toISOString().split("T")[0],i=`Calculate damages for wrongful termination:
${JSON.stringify(e)}`,a=await t.models.generateContent({model:n,contents:i,config:{responseMimeType:"application/json"}}),s=JSON.parse(a.text.trim());return{salary:e.salary,terminationDate:e.terminationDate,currentDate:r,newJobSalary:e.newJobSalary,newJobStartDate:e.newJobStartDate,...s}}catch(t){return console.error("Error calculating damages:",t),null}}async function Nz(e,t,n){try{const r=Xr(),i="gemini-1.5-flash",a=`Analyze comparator evidence:
Misconduct: ${e}
Discipline: ${t}
Comparators: ${JSON.stringify(n)}`,s=await r.models.generateContent({model:i,contents:a,config:{responseMimeType:"application/json"}});return JSON.parse(s.text.trim())}catch(r){return console.error("Error analyzing comparators:",r),null}}async function Dz(e,t,n){try{const r=Xr(),i="gemini-1.5-flash",a=`Draft a formal ${t} complaint based on this analysis and original complaint:
    
    Original Complaint: ${n}
    
    Analysis: ${JSON.stringify(e)}
    
    Format the output as a formal legal document suitable for filing with the ${t}. Include specific allegations, relevant laws (ADA, Texas Labor Code), and requested relief.`;return(await r.models.generateContent({model:i,contents:a})).text}catch(r){return console.error("Error generating complaint draft:",r),null}}async function Iz(e,t){try{const n=Xr(),r="gemini-1.5-flash",i=t.filter(u=>u.needDiscovery).map(u=>({question:u.question,answer:u.answer,notes:u.discoveryNotes})),a=`Draft a formal Request for Production of Documents and Interrogatories based on these identified discovery needs:
    
    Discovery Needs: ${JSON.stringify(i)}
    
    Analysis Context: ${JSON.stringify(e.statedAllegations)}
    
    Format as a formal legal demand letter for discovery.`;return(await n.models.generateContent({model:r,contents:a})).text}catch(n){return console.error("Error generating discovery request:",n),null}}const Ou=()=>b.jsx("div",{className:"flex justify-center items-center p-8",children:b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}),Gr=({title:e,sectionKey:t,children:n,onGetSuggestions:r,suggestion:i,isSuggesting:a,onExport:s,onUpdateUserNotes:u})=>b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200 dark:border-gray-700 pb-2",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:e}),b.jsxs("div",{className:"flex items-center space-x-2",children:[s&&b.jsx("button",{onClick:()=>s(t,e),className:"px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 border border-gray-400 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700/50 transition","aria-label":`Export ${e}`,children:"Export"}),r&&b.jsx("button",{onClick:()=>r(t,e),disabled:a,className:"px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 border border-blue-500 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/50 disabled:opacity-50 disabled:cursor-wait transition","aria-label":`AI Review & Suggest for ${e}`,children:a?"Reviewing...":"AI Review & Suggest"})]})]}),n,a&&b.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:b.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Getting suggestions..."})}),i?.suggestionText&&b.jsxs("div",{className:"mt-4 p-4 border-t-2 border-blue-500 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[b.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2",children:"AI Suggestions for Improvement"}),b.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:i.suggestionText}),u&&b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{htmlFor:`user-notes-${t}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Notes/Answers:"}),b.jsx("textarea",{id:`user-notes-${t}`,value:i.userNotes,onChange:c=>u(t,c.target.value),rows:5,className:"mt-1 block w-full border border-gray-300 dark:border-gray-500 rounded-md shadow-sm p-2 bg-white dark:bg-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Add your thoughts, answers to questions, or additional details here...","aria-label":`Your notes for AI suggestions on ${e}`})]})]})]}),Pz=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 flex-shrink-0 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),gC=({examples:e,isOpen:t,onToggle:n})=>!e||e.length===0?null:b.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-600 pt-4",children:[b.jsxs("button",{onClick:n,className:"flex justify-between items-center w-full text-left font-semibold text-gray-700 dark:text-gray-300","aria-expanded":t,children:[b.jsx("span",{children:"Top Texas Case Law Precedents"}),b.jsx("svg",{className:`w-5 h-5 transition-transform ${t?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&b.jsx("div",{className:"mt-3 pl-2 border-l-2 border-blue-500",children:b.jsx("ul",{className:"space-y-4",children:e.map((r,i)=>b.jsxs("li",{className:"text-sm bg-white dark:bg-gray-800 p-3 rounded-md",children:[b.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200",children:r.caseName}),b.jsxs("div",{className:"mt-2 space-y-1 text-gray-600 dark:text-gray-400",children:[b.jsxs("p",{children:[b.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Primary Complaint:"})," ",r.primaryComplaint]}),b.jsxs("p",{children:[b.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Outcome:"})," ",r.outcome]}),b.jsxs("p",{children:[b.jsx("strong",{className:"text-gray-700 dark:text-gray-300",children:"Relevance:"})," ",r.relevance]})]})]},i))})})]}),kz=({analysisResults:e,onAddInstance:t,onDeleteInstance:n,onUpdateInstanceNotes:r,onAddAttachments:i,onDeleteAttachment:a,onGetSuggestions:s,suggestions:u,isSuggesting:c,onMoveUnstatedClaim:d,onAddDocumentRequest:h,onUpdateDocumentRequest:m,onDeleteDocumentRequest:g,onExportSection:x,onUpdateUserNotes:A,onUpdateStatedAllegationEvidenceMentioned:E,allBoardEvidence:_,onLinkEvidenceToStrategy:C})=>{const I=T.useRef(null),[D,k]=T.useState(null),[P,R]=T.useState({}),M=K=>{R(G=>({...G,[K]:!G[K]}))},z=(K,G)=>{k({strategyIndex:K,instanceId:G}),I.current?.click()},B=K=>{D&&K.target.files?.length&&i(D.strategyIndex,D.instanceId,K.target.files),K.target.value="",k(null)},$=T.useCallback(K=>{const G=new Set;return K?.responseStrategies&&K.responseStrategies.forEach(ne=>{ne.instances.forEach(U=>{U.attachments.forEach(te=>{G.add(te.name)})})}),Array.from(G)},[]),W=T.useMemo(()=>{const K=$(e);return K.length>0?`

--- NOTE: The following documents were identified as relevant and should be manually attached. Please ensure they are included with this communication. ---
${K.map(G=>`- ${G}`).join(`
`)}
`:`

--- NOTE: No specific attachments identified for this communication, but review your evidence board for relevant documents. ---
`},[e,$]),Y=K=>{let G=K.body;const ne=/\[\s*(ATTACHMENTS|DOCUMENTS|EVIDENCE|ATTACHMENT LIST)\s*\]/gi;ne.test(K.body)?G=K.body.replace(ne,W):G+=W;const U=`Subject: ${K.subject}

${G}`,te=`${K.purpose.replace(/[^a-zA-Z0-9]/g,"_")}_${K.type}.txt`,ce=new Blob([U],{type:"text/plain;charset=utf-8"}),fe=document.createElement("a");fe.href=URL.createObjectURL(ce),fe.download=te,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(fe.href)};return b.jsxs("div",{className:"space-y-8 mt-8",children:[b.jsx("input",{type:"file",multiple:!0,ref:I,onChange:B,className:"hidden","aria-hidden":"true"}),b.jsx(Gr,{title:"Stated Allegations Summary",sectionKey:"statedAllegations",onGetSuggestions:s,suggestion:u.statedAllegations,isSuggesting:c.statedAllegations,onExport:x,onUpdateUserNotes:A,children:b.jsx("ul",{className:"space-y-4",children:e.statedAllegations.map((K,G)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsx("h4",{className:"font-semibold text-blue-600 dark:text-blue-400",children:K.claim}),b.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:K.summary}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{htmlFor:`evidence-mentioned-${G}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Evidence Mentioned (one item per line):"}),b.jsx("textarea",{id:`evidence-mentioned-${G}`,value:K.evidenceMentioned.join(`
`),onChange:ne=>E(G,ne.target.value.split(`
`)),rows:Math.max(3,K.evidenceMentioned.length+1),className:"mt-1 block w-full border border-gray-300 dark:border-gray-500 rounded-md shadow-sm p-2 bg-white dark:bg-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Email from Manager on 2024-01-10, Performance Review Q4 2023","aria-label":`Evidence mentioned for ${K.claim}`})]}),b.jsx(gC,{examples:K.texasCaseExamples,isOpen:!!P[`stated-${G}`],onToggle:()=>M(`stated-${G}`)})]},G))})}),b.jsxs(Gr,{title:"Potential Unstated Claims Identified by AI",sectionKey:"unstatedClaims",onGetSuggestions:s,suggestion:u.unstatedClaims,isSuggesting:c.unstatedClaims,onExport:x,onUpdateUserNotes:A,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"The AI has analyzed your narrative for potential legal claims you may not have explicitly stated. Review these possibilities with a legal professional."}),b.jsx("ul",{className:"space-y-4",children:e.unstatedClaims.map((K,G)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border-l-4 border-yellow-500",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-grow",children:[b.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200",children:K.claim}),b.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:[b.jsx("span",{className:"font-bold",children:"Justification:"})," ",K.justification]})]}),b.jsx("button",{onClick:()=>d(G),className:"ml-4 flex-shrink-0 px-3 py-1.5 text-xs font-semibold text-green-700 bg-green-100 border border-green-200 rounded-md hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:border-green-700 dark:hover:bg-green-900 transition","aria-label":`Add ${K.claim} as a stated claim`,children:"Add as Stated Claim"})]}),b.jsx("p",{className:"text-xs italic text-gray-500 dark:text-gray-400 mt-2",children:"Action: Research specific Texas case law that directly supports this claim. Articulate how the facts from your complaint align with the legal precedent established by these cases."}),b.jsx(gC,{examples:K.texasCaseExamples,isOpen:!!P[`unstated-${G}`],onToggle:()=>M(`unstated-${G}`)})]},G))})]}),b.jsxs(Gr,{title:"Handbook Policy Violation Analysis",sectionKey:"handbookPolicyViolations",onGetSuggestions:s,suggestion:u.handbookPolicyViolations,isSuggesting:c.handbookPolicyViolations,onExport:x,onUpdateUserNotes:A,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"The AI has analyzed the employee handbook against your case details. Use these identified policy violations to show the company failed to follow its own rules."}),b.jsx("ul",{className:"space-y-4",children:e.handbookPolicyViolations.map((K,G)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border-l-4 border-cyan-500",children:[b.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200",children:K.policyName}),b.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Reference: ",K.handbookSection]}),b.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:K.violationSummary}),b.jsxs("p",{className:"text-sm text-cyan-600 dark:text-cyan-400 mt-2",children:[b.jsx("span",{className:"font-bold",children:"Supports Allegation:"})," ",K.relatedAllegation]})]},G))})]}),e.goodFaithConferenceGuide&&b.jsxs(Gr,{title:"Good Faith Conference & Discovery Guide",sectionKey:"goodFaithConferenceGuide",onGetSuggestions:s,suggestion:u.goodFaithConferenceGuide,isSuggesting:c.goodFaithConferenceGuide,onExport:x,onUpdateUserNotes:A,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:e.goodFaithConferenceGuide.introduction}),b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Key Discussion Topics:"}),b.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300",children:e.goodFaithConferenceGuide.keyTopics.map((K,G)=>b.jsx("li",{children:K},G))})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Document Request List"}),b.jsx("ul",{className:"space-y-4",children:e.goodFaithConferenceGuide.documentRequests.map(K=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-md border border-gray-200 dark:border-gray-600 relative group",children:[b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Category"}),b.jsx("input",{type:"text",value:K.category,onChange:G=>m(K.id,"category",G.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-500 rounded-md shadow-sm p-2 bg-white dark:bg-gray-800 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Your Personnel File"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Item"}),b.jsx("textarea",{value:K.item,onChange:G=>m(K.id,"item",G.target.value),rows:2,className:"mt-1 block w-full border-gray-300 dark:border-gray-500 rounded-md shadow-sm p-2 bg-white dark:bg-gray-800 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Specific document or item being requested"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400",children:"Rationale"}),b.jsx("textarea",{value:K.rationale,onChange:G=>m(K.id,"rationale",G.target.value),rows:3,className:"mt-1 block w-full border-gray-300 dark:border-gray-500 rounded-md shadow-sm p-2 bg-white dark:bg-gray-800 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Reason why this document is relevant and necessary"})]})]}),b.jsx("button",{onClick:()=>g(K.id),className:"absolute top-2 right-2 p-1.5 rounded-full text-gray-400 hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-600 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Delete document request",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},K.id))}),b.jsx("button",{onClick:h,className:"mt-4 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:"+ Add Document Request"})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("h4",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Draft Communications:"}),b.jsx("div",{className:"space-y-4",children:e.goodFaithConferenceGuide.draftCommunications.map((K,G)=>b.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsxs("h5",{className:"font-bold text-gray-800 dark:text-gray-200",children:[K.purpose," (",K.type,")"]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:K.subject}),b.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm p-3 bg-white dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-600",children:K.body}),b.jsxs("button",{onClick:()=>Y(K),className:"mt-3 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:["Export ",K.type]})]},G))})]})]}),b.jsx(Gr,{title:"Recommended Strategies & Evidence",sectionKey:"responseStrategies",onGetSuggestions:s,suggestion:u.responseStrategies,isSuggesting:c.responseStrategies,onExport:x,onUpdateUserNotes:A,children:b.jsx("ul",{className:"space-y-6",children:e.responseStrategies.map((K,G)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400",children:K.claim}),b.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:[b.jsx("span",{className:"font-bold",children:"Strategy:"})," ",K.strategy]}),K.potentialCounterArguments&&K.potentialCounterArguments.length>0&&b.jsxs("div",{className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/30 rounded-md border-l-4 border-orange-500",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 flex-shrink-0 mr-2 text-orange-600 dark:text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.21 3.03-1.742 3.03H4.42c-1.532 0-2.492-1.696-1.742-3.03l5.58-9.92zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),b.jsx("p",{className:"text-sm font-bold text-orange-800 dark:text-orange-300",children:"Anticipate Employer's Defense"})]}),b.jsx("ul",{className:"list-disc list-inside text-sm text-orange-700 dark:text-orange-200 space-y-1 mt-2 ml-2",children:K.potentialCounterArguments.map((ne,U)=>b.jsx("li",{children:ne},U))})]}),K.rebuttals&&K.rebuttals.length>0&&b.jsxs("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/30 rounded-md border-l-4 border-green-500",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 flex-shrink-0 mr-2 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),b.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-300",children:"Your Rebuttals"})]}),b.jsx("ul",{className:"list-disc list-inside text-sm text-green-700 dark:text-green-200 space-y-1 mt-2 ml-2",children:K.rebuttals.map((ne,U)=>b.jsx("li",{children:ne},U))})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Action Steps:"}),b.jsx("ul",{className:"list-decimal list-inside text-sm text-gray-700 dark:text-gray-300 space-y-1 mt-2",children:K.suggestedActionSteps.map((ne,U)=>b.jsx("li",{children:ne},U))})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Evidence to Gather:"}),b.jsx("ul",{className:"space-y-3 mt-2",children:K.evidenceToGather.map((ne,U)=>{const te=ne.linkedEvidenceIds??[];return b.jsxs("li",{className:"p-3 bg-white dark:bg-gray-800 rounded-md border-l-4 border-green-500",children:[b.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:ne.item}),b.jsxs("p",{className:"text-xs italic text-gray-500 dark:text-gray-400",children:["Potential Source: ",ne.potentialSource]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:ne.rationale}),b.jsxs("div",{className:"mt-3",children:[b.jsx("label",{htmlFor:`linked-evidence-${G}-${U}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Link Evidence from Board:"}),b.jsx("select",{id:`linked-evidence-${G}-${U}`,multiple:!0,value:te,onChange:ce=>{const fe=Array.from(ce.target.selectedOptions).map(Ie=>Ie.value);C(G,U,fe)},className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700 text-sm focus:ring-blue-500 focus:border-blue-500","aria-label":`Link evidence for ${ne.item}`,children:Object.values(_).map(ce=>b.jsxs("option",{value:ce.id,children:[ce.content," (",ce.type,")"]},ce.id))}),(ne.linkedEvidenceIds||[]).length>0&&b.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:["Currently linked: ",(ne.linkedEvidenceIds||[]).map(ce=>_[ce]?.content||`Unknown Evidence (${ce})`).join(", ")]})]})]},U)})})]}),b.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-600 pt-4",children:[b.jsx("h5",{className:"font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"My Notes & Evidence Examples"}),K.instances.length===0&&b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:'No examples added yet. Click "Add Example" to start documenting.'}),b.jsx("div",{className:"space-y-4 mt-2",children:K.instances.map(ne=>b.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-600",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),b.jsx("textarea",{value:ne.notes,onChange:U=>r(G,ne.id,U.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 dark:border-gray-500 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700 text-sm",placeholder:"Add notes for this example..."}),b.jsxs("div",{className:"mt-3",children:[b.jsx("h6",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Attachments"}),ne.attachments.length===0?b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"No files attached."}):b.jsx("ul",{className:"mt-2 space-y-1",children:ne.attachments.map((U,te)=>b.jsxs("li",{className:"flex items-center justify-between text-sm p-1 rounded bg-gray-100 dark:bg-gray-700/50",children:[b.jsxs("div",{className:"flex items-center space-x-2 truncate",children:[b.jsx(Pz,{}),b.jsx("span",{className:"truncate",title:U.name,children:U.name})]}),b.jsx("button",{onClick:()=>a(G,ne.id,te),className:"p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/50 text-red-500","aria-label":"Delete attachment",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},te))})]}),b.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[b.jsx("button",{onClick:()=>z(G,ne.id),className:"text-sm font-medium text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Attach File"}),b.jsx("button",{onClick:()=>n(G,ne.id),className:"text-sm font-medium text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Delete Example"})]})]},ne.id))}),b.jsx("button",{onClick:()=>t(G),className:"mt-4 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-500 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition",children:"+ Add Example"})]})]},G))})})]})};function pk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pk(e))&&(r&&(r+=" "),r+=t);return r}var Oz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mb(e){if(typeof e!="string")return!1;var t=Oz;return t.includes(e)}var Rz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mz=new Set(Rz);function gk(e){return typeof e!="string"?!1:Mz.has(e)}function yk(e){return typeof e=="string"&&e.startsWith("data-")}function Wr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(gk(n)||yk(n))&&(t[n]=e[n]);return t}function ic(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Wr(t)}return typeof e=="object"&&!Array.isArray(e)?Wr(e):null}function Rn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(gk(n)||yk(n)||Mb(n))&&(t[n]=e[n]);return t}function Lz(e){return e==null?null:T.isValidElement(e)?Rn(e.props):typeof e=="object"&&!Array.isArray(e)?Rn(e):null}var jz=["children","width","height","viewBox","className","style","title","desc"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function Uz(e,t){if(e==null)return{};var n,r,i=Bz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lb=T.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:u,title:c,desc:d}=e,h=Uz(e,jz),m=a||{width:r,height:i,x:0,y:0},g=at("recharts-surface",s);return T.createElement("svg",d0({},Rn(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),T.createElement("title",null,c),T.createElement("desc",null,d),n)}),qz=["children","className"];function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(null,arguments)}function $z(e,t){if(e==null)return{};var n,r,i=Gz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ir=T.forwardRef((e,t)=>{var{children:n,className:r}=e,i=$z(e,qz),a=at("recharts-layer",r);return T.createElement("g",f0({className:a},Rn(i),{ref:t}),n)}),rl=$P();const zz=Or(rl);var vk=T.createContext(null),Hz=()=>T.useContext(vk);function ht(e){return function(){return e}}const bk=Math.cos,Rf=Math.sin,Qr=Math.sqrt,Mf=Math.PI,Bh=2*Mf,h0=Math.PI,m0=2*h0,co=1e-6,Fz=m0-co;function xk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Vz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xk;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Wz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xk:Vz(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=r-t,d=i-n,h=s-t,m=u-n,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>co)if(!(Math.abs(m*c-d*h)>co)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-s,A=i-u,E=c*c+d*d,_=x*x+A*A,C=Math.sqrt(E),I=Math.sqrt(g),D=a*Math.tan((h0-Math.acos((E+g-_)/(2*C*I)))/2),k=D/I,P=D/C;Math.abs(k-1)>co&&this._append`L${t+k*h},${n+k*m}`,this._append`A${a},${a},0,0,${+(m*x>h*A)},${this._x1=t+P*c},${this._y1=n+P*d}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=t+u,h=n+c,m=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>co||Math.abs(this._y1-h)>co)&&this._append`L${d},${h}`,r&&(g<0&&(g=g%m0+m0),g>Fz?this._append`A${r},${r},0,1,${m},${t-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:g>co&&this._append`A${r},${r},0,${+(g>=h0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Wz(t)}function Ub(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wk(e){this._context=e}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qh(e){return new wk(e)}function Sk(e){return e[0]}function Ek(e){return e[1]}function Ak(e,t){var n=ht(!0),r=null,i=qh,a=null,s=jb(u);e=typeof e=="function"?e:e===void 0?Sk:ht(e),t=typeof t=="function"?t:t===void 0?Ek:ht(t);function u(c){var d,h=(c=Ub(c)).length,m,g=!1,x;for(r==null&&(a=i(x=s())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(m,d,c),+t(m,d,c));if(x)return a=null,x+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:ht(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ht(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ht(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function Gd(e,t,n){var r=null,i=ht(!0),a=null,s=qh,u=null,c=jb(d);e=typeof e=="function"?e:e===void 0?Sk:ht(+e),t=typeof t=="function"?t:ht(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Ek:ht(+n);function d(m){var g,x,A,E=(m=Ub(m)).length,_,C=!1,I,D=new Array(E),k=new Array(E);for(a==null&&(u=s(I=c())),g=0;g<=E;++g){if(!(g<E&&i(_=m[g],g,m))===C)if(C=!C)x=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=g-1;A>=x;--A)u.point(D[A],k[A]);u.lineEnd(),u.areaEnd()}C&&(D[g]=+e(_,g,m),k[g]=+t(_,g,m),u.point(r?+r(_,g,m):D[g],n?+n(_,g,m):k[g]))}if(I)return u=null,I+""||null}function h(){return Ak().defined(i).curve(s).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:ht(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:ht(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ht(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:ht(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:ht(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ht(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ht(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),d):s},d.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),d):a},d}class _k{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Yz(e){return new _k(e,!0)}function Kz(e){return new _k(e,!1)}const Bb={draw(e,t){const n=Qr(t/Mf);e.moveTo(n,0),e.arc(0,0,n,0,Bh)}},Jz={draw(e,t){const n=Qr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Tk=Qr(1/3),Xz=Tk*2,Qz={draw(e,t){const n=Qr(t/Xz),r=n*Tk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Zz={draw(e,t){const n=Qr(t),r=-n/2;e.rect(r,r,n,n)}},eH=.8908130915292852,Ck=Rf(Mf/10)/Rf(7*Mf/10),tH=Rf(Bh/10)*Ck,nH=-bk(Bh/10)*Ck,rH={draw(e,t){const n=Qr(t*eH),r=tH*n,i=nH*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Bh*a/5,u=bk(s),c=Rf(s);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},iy=Qr(3),iH={draw(e,t){const n=-Qr(t/(iy*3));e.moveTo(0,n*2),e.lineTo(-iy*n,-n),e.lineTo(iy*n,-n),e.closePath()}},wr=-.5,Sr=Qr(3)/2,p0=1/Qr(12),aH=(p0/2+1)*3,oH={draw(e,t){const n=Qr(t/aH),r=n/2,i=n*p0,a=r,s=n*p0+n,u=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(u,c),e.lineTo(wr*r-Sr*i,Sr*r+wr*i),e.lineTo(wr*a-Sr*s,Sr*a+wr*s),e.lineTo(wr*u-Sr*c,Sr*u+wr*c),e.lineTo(wr*r+Sr*i,wr*i-Sr*r),e.lineTo(wr*a+Sr*s,wr*s-Sr*a),e.lineTo(wr*u+Sr*c,wr*c-Sr*u),e.closePath()}};function sH(e,t){let n=null,r=jb(i);e=typeof e=="function"?e:ht(e||Bb),t=typeof t=="function"?t:ht(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ht(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ht(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Lf(){}function jf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Nk(e){this._context=e}Nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lH(e){return new Nk(e)}function Dk(e){this._context=e}Dk.prototype={areaStart:Lf,areaEnd:Lf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uH(e){return new Dk(e)}function Ik(e){this._context=e}Ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cH(e){return new Ik(e)}function Pk(e){this._context=e}Pk.prototype={areaStart:Lf,areaEnd:Lf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dH(e){return new Pk(e)}function yC(e){return e<0?-1:1}function vC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(yC(a)+yC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function bC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ay(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,s-u*n,a,s)}function Uf(e){this._context=e}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ay(this,this._t0,bC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ay(this,bC(this,n=vC(this,e,t)),n);break;default:ay(this,this._t0,n=vC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function kk(e){this._context=new Ok(e)}(kk.prototype=Object.create(Uf.prototype)).point=function(e,t){Uf.prototype.point.call(this,t,e)};function Ok(e){this._context=e}Ok.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function fH(e){return new Uf(e)}function hH(e){return new kk(e)}function Rk(e){this._context=e}Rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=xC(e),i=xC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function mH(e){return new Rk(e)}function $h(e,t){this._context=e,this._t=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function pH(e){return new $h(e,.5)}function gH(e){return new $h(e,0)}function yH(e){return new $h(e,1)}function Gs(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,u=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function g0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function vH(e,t){return e[t]}function bH(e){const t=[];return t.key=e,t}function xH(){var e=ht([]),t=g0,n=Gs,r=vH;function i(a){var s=Array.from(e.apply(this,arguments),bH),u,c=s.length,d=-1,h;for(const m of a)for(u=0,++d;u<c;++u)(s[u][d]=[0,+r(m,s[u].key,d,a)]).data=m;for(u=0,h=Ub(t(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ht(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ht(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?g0:typeof a=="function"?a:ht(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Gs,i):n},i}function wH(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Gs(e,t)}}function SH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,u=0;s<i;++s)u+=e[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Gs(e,t)}}function EH(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var u=0,c=0,d=0;u<s;++u){for(var h=e[t[u]],m=h[r][1]||0,g=h[r-1][1]||0,x=(m-g)/2,A=0;A<u;++A){var E=e[t[A]],_=E[r][1]||0,C=E[r-1][1]||0;x+=_-C}c+=m,d+=x*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Gs(e,t)}}var oy={},sy={},wC;function AH(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(sy)),sy}var ly={},SC;function Mk(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(ly)),ly}var uy={},EC;function qb(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(uy)),uy}var cy={},dy={},AC;function _H(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(dy)),dy}var _C;function $b(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_H(),n=qb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<s;){const m=i[u];d?m==="\\"&&u+1<s?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(c),c=""):c+=m:m==="["?(h=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,u++}return c&&a.push(c),a}e.toPath=r})(cy)),cy}var TC;function Gb(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AH(),n=Mk(),r=qb(),i=$b();function a(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?a(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function s(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=a})(oy)),oy}var fy,CC;function TH(){return CC||(CC=1,fy=Gb().get),fy}var CH=TH();const zs=Or(CH);var Hn=e=>e===0?0:e>0?1:-1,Yr=e=>typeof e=="number"&&e!=+e,Ui=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ee=e=>(typeof e=="number"||e instanceof Number)&&!Yr(e),ui=e=>Ee(e)||typeof e=="string",NH=0,Ru=e=>{var t=++NH;return"".concat(e||"").concat(t)},Kr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&typeof t!="string")return r;var a;if(Ui(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Yr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Lk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Pt(e,t,n){return Ee(e)&&Ee(t)?e+n*(t-e):t}function jk(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):zs(r,t))===n)}var Et=e=>e===null||typeof e>"u",ac=e=>Et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function DH(e){return e!=null}function oc(){}var IH=["type","size","sizeType"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){PH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PH(e,t,n){return(t=kH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e,t){if(e==null)return{};var n,r,i=MH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uk={symbolCircle:Bb,symbolCross:Jz,symbolDiamond:Qz,symbolSquare:Zz,symbolStar:rH,symbolTriangle:iH,symbolWye:oH},LH=Math.PI/180,jH=e=>{var t="symbol".concat(ac(e));return Uk[t]||Bb},UH=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*LH;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},BH=(e,t)=>{Uk["symbol".concat(ac(e))]=t},zb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=RH(e,IH),a=DC(DC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var u=()=>{var g=jH(s),x=sH().type(g).size(UH(n,r,s)),A=x();if(A!==null)return A},{className:c,cx:d,cy:h}=a,m=Rn(a);return Ee(d)&&Ee(h)&&Ee(n)?T.createElement("path",y0({},m,{className:at("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};zb.registerSymbol=BH;var Bk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Hb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Mb(i)&&(r[i]=(a=>n[i](n,a)))}),r},qH=(e,t,n)=>r=>(e(t,n,r),null),Gh=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Mb(i)&&typeof a=="function"&&(r||(r={}),r[i]=qH(a,t,n))}),r};function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(r){GH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GH(e,t,n){return(t=zH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=HH(e,"string");return typeof t=="symbol"?t:t+""}function HH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xn(e,t){var n=$H({},e),r=t,i=Object.keys(t),a=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return a}function Bf(){return Bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bf.apply(null,arguments)}function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){VH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t,n){return(t=WH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _r=32,KH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function JH(e){var{data:t,iconType:n,inactiveColor:r}=e,i=_r/2,a=_r/6,s=_r/3,u=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var d;return T.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:_r,y2:i,className:"recharts-legend-icon"})}if(c==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(_r,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return T.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(_r/8,"h").concat(_r,"v").concat(_r*3/4,"h").concat(-_r,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var h=FH({},t);return delete h.legendIcon,T.cloneElement(t.legendIcon,h)}return T.createElement(zb,{fill:u,cx:i,cy:i,size:_r,sizeType:"diameter",type:c})}function XH(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,u={x:0,y:0,width:_r,height:_r},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var g=h.formatter||i,x=at({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var A=h.inactive?a:h.color,E=g?g(h.value,h,m):h.value;return T.createElement("li",Bf({className:x,style:c,key:"legend-item-".concat(m)},Gh(e,h,m)),T.createElement(Lb,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},T.createElement(JH,{data:h,iconType:s,inactiveColor:a})),T.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},E))})}var QH=e=>{var t=xn(e,KH),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},T.createElement(XH,Bf({},t,{payload:n})))},hy={},my={},kC;function ZH(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}e.uniqBy=t})(my)),my}var py={},OC;function qk(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(py)),py}var gy={},yy={},vy={},RC;function eF(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(vy)),vy}var MC;function Fb(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eF();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(yy)),yy}var by={},LC;function tF(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(by)),by}var jC;function nF(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fb(),n=tF();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(gy)),gy}var xy={},wy={},UC;function rF(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(wy)),wy}var Sy={},Ey={},Ay={},_y={},BC;function $k(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(_y)),_y}var Ty={},qC;function Gk(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ty)),Ty}var Cy={},$C;function zk(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Cy)),Cy}var GC;function iF(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$k(),n=Gk(),r=zk();function i(h,m,g){return typeof g!="function"?i(h,m,()=>{}):a(h,m,function x(A,E,_,C,I,D){const k=g(A,E,_,C,I,D);return k!==void 0?!!k:a(A,E,x,D)},new Map)}function a(h,m,g,x){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,g,x);case"function":return Object.keys(m).length>0?a(h,{...m},g,x):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function s(h,m,g,x){if(m==null)return!0;if(Array.isArray(m))return c(h,m,g,x);if(m instanceof Map)return u(h,m,g,x);if(m instanceof Set)return d(h,m,g,x);const A=Object.keys(m);if(h==null)return A.length===0;if(A.length===0)return!0;if(x?.has(m))return x.get(m)===h;x?.set(m,h);try{for(let E=0;E<A.length;E++){const _=A[E];if(!n.isPrimitive(h)&&!(_ in h)||m[_]===void 0&&h[_]!==void 0||m[_]===null&&h[_]!==null||!g(h[_],m[_],_,h,m,x))return!1}return!0}finally{x?.delete(m)}}function u(h,m,g,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[A,E]of m.entries()){const _=h.get(A);if(g(_,E,A,h,m,x)===!1)return!1}return!0}function c(h,m,g,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const A=new Set;for(let E=0;E<m.length;E++){const _=m[E];let C=!1;for(let I=0;I<h.length;I++){if(A.has(I))continue;const D=h[I];let k=!1;if(g(D,_,E,h,m,x)&&(k=!0),k){A.add(I),C=!0;break}}if(!C)return!1}return!0}function d(h,m,g,x){return m.size===0?!0:h instanceof Set?c([...h],[...m],g,x):!1}e.isMatchWith=i,e.isSetMatch=d})(Ay)),Ay}var zC;function Hk(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iF();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Ey)),Ey}var Ny={},Dy={},Iy={},HC;function aF(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Iy)),Iy}var Py={},FC;function Fk(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Py)),Py}var ky={},VC;function Vk(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",g="[object ArrayBuffer]",x="[object Object]",A="[object Error]",E="[object DataView]",_="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",D="[object Uint32Array]",k="[object BigUint64Array]",P="[object Int8Array]",R="[object Int16Array]",M="[object Int32Array]",z="[object BigInt64Array]",B="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=A,e.float32ArrayTag=B,e.float64ArrayTag=$,e.functionTag=m,e.int16ArrayTag=R,e.int32ArrayTag=M,e.int8ArrayTag=P,e.mapTag=c,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=I,e.uint32ArrayTag=D,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=C})(ky)),ky}var Oy={},WC;function oF(){return WC||(WC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Oy)),Oy}var YC;function Wk(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aF(),n=Fk(),r=Vk(),i=Gk(),a=oF();function s(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,g,x=new Map,A=void 0){const E=A?.(h,m,g,x);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const _=new Array(h.length);x.set(h,_);for(let C=0;C<h.length;C++)_[C]=u(h[C],C,g,x,A);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;x.set(h,_);for(const[C,I]of h)_.set(C,u(I,C,g,x,A));return _}if(h instanceof Set){const _=new Set;x.set(h,_);for(const C of h)_.add(u(C,void 0,g,x,A));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,_);for(let C=0;C<h.length;C++)_[C]=u(h[C],C,g,x,A);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,_),c(_,h,g,x,A),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return x.set(h,_),c(_,h,g,x,A),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return x.set(h,_),c(_,h,g,x,A),_}if(h instanceof Error){const _=new h.constructor;return x.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,c(_,h,g,x,A),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return x.set(h,_),c(_,h,g,x,A),_}if(h instanceof Number){const _=new Number(h.valueOf());return x.set(h,_),c(_,h,g,x,A),_}if(h instanceof String){const _=new String(h.valueOf());return x.set(h,_),c(_,h,g,x,A),_}if(typeof h=="object"&&d(h)){const _=Object.create(Object.getPrototypeOf(h));return x.set(h,_),c(_,h,g,x,A),_}return h}function c(h,m,g=h,x,A){const E=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<E.length;_++){const C=E[_],I=Object.getOwnPropertyDescriptor(h,C);(I==null||I.writable)&&(h[C]=u(m[C],C,g,x,A))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=u,e.copyProperties=c})(Dy)),Dy}var KC;function sF(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ny)),Ny}var JC;function lF(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk(),n=sF();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Sy)),Sy}var Ry={},My={},Ly={},XC;function uF(){return XC||(XC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk(),n=Vk();function r(i,a){return t.cloneDeepWith(i,(s,u,c,d)=>{const h=a?.(s,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i?.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Ly)),Ly}var QC;function cF(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uF();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(My)),My}var jy={},Uy={},ZC;function Yk(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Uy)),Uy}var By={},eN;function dF(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(By)),By}var tN;function fF(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mk(),n=Yk(),r=dF(),i=$b();function a(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&s?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(jy)),jy}var nN;function hF(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk(),n=qb(),r=cF(),i=Gb(),a=fF();function s(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=s})(Ry)),Ry}var rN;function mF(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk(),n=rF(),r=lF(),i=hF();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(xy)),xy}var iN;function pF(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZH(),n=qk(),r=nF(),i=mF();function a(s,u=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(u)):[]}e.uniqBy=a})(hy)),hy}var qy,aN;function gF(){return aN||(aN=1,qy=pF().uniqBy),qy}var yF=gF();const oN=Or(yF);function Kk(e,t,n){return t===!0?oN(e,n):typeof t=="function"?oN(e,t):e}var $y={exports:{}},Gy={},zy={exports:{}},Hy={};var sN;function vF(){if(sN)return Hy;sN=1;var e=Zs();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function u(m,g){var x=g(),A=r({inst:{value:x,getSnapshot:g}}),E=A[0].inst,_=A[1];return a(function(){E.value=x,E.getSnapshot=g,c(E)&&_({inst:E})},[m,x,g]),i(function(){return c(E)&&_({inst:E}),m(function(){c(E)&&_({inst:E})})},[m]),s(x),x}function c(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Hy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Hy}var lN;function bF(){return lN||(lN=1,zy.exports=vF()),zy.exports}var uN;function xF(){if(uN)return Gy;uN=1;var e=Zs(),t=bF();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,u=e.useMemo,c=e.useDebugValue;return Gy.useSyncExternalStoreWithSelector=function(d,h,m,g,x){var A=a(null);if(A.current===null){var E={hasValue:!1,value:null};A.current=E}else E=A.current;A=u(function(){function C(R){if(!I){if(I=!0,D=R,R=g(R),x!==void 0&&E.hasValue){var M=E.value;if(x(M,R))return k=M}return k=R}if(M=k,r(D,R))return M;var z=g(R);return x!==void 0&&x(M,z)?(D=R,M):(D=R,k=z)}var I=!1,D,k,P=m===void 0?null:m;return[function(){return C(h())},P===null?void 0:function(){return C(P())}]},[h,m,g,x]);var _=i(d,A[0],A[1]);return s(function(){E.hasValue=!0,E.value=_},[_]),c(_),_},Gy}var cN;function wF(){return cN||(cN=1,$y.exports=xF()),$y.exports}var SF=wF(),Vb=T.createContext(null),EF=e=>e,Nt=()=>{var e=T.useContext(Vb);return e?e.store.dispatch:EF},Sf=()=>{},AF=()=>Sf,_F=(e,t)=>e===t;function Ae(e){var t=T.useContext(Vb);return SF.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:AF,t?t.store.getState:Sf,t?t.store.getState:Sf,t?e:Sf,_F)}function TF(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function CF(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function NF(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var dN=e=>Array.isArray(e)?e:[e];function DF(e){const t=Array.isArray(e[0])?e[0]:e;return NF(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IF(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var PF=class{constructor(e){this.value=e}deref(){return this.value}},kF=typeof WeakRef<"u"?WeakRef:PF,OF=0,fN=1;function zd(){return{s:OF,v:void 0,o:null,p:null}}function Jk(e,t={}){let n=zd();const{resultEqualityCheck:r}=t;let i,a=0;function s(){let u=n;const{length:c}=arguments;for(let m=0,g=c;m<g;m++){const x=arguments[m];if(typeof x=="function"||typeof x=="object"&&x!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const E=A.get(x);E===void 0?(u=zd(),A.set(x,u)):u=E}else{let A=u.p;A===null&&(u.p=A=new Map);const E=A.get(x);E===void 0?(u=zd(),A.set(x,u)):u=E}}const d=u;let h;if(u.s===fN)h=u.v;else if(h=e.apply(null,arguments),a++,r){const m=i?.deref?.()??i;m!=null&&r(m,h)&&(h=m,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new kF(h):h}return d.s=fN,d.v=h,h}return s.clearCache=()=>{n=zd(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function RF(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),TF(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:g=[],argsMemoize:x=Jk,argsMemoizeOptions:A=[]}=h,E=dN(g),_=dN(A),C=DF(i),I=m(function(){return a++,d.apply(null,arguments)},...E),D=x(function(){s++;const P=IF(C,arguments);return u=I.apply(null,P),u},..._);return Object.assign(D,{resultFunc:d,memoizedResultFunc:I,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var re=RF(Jk),MF=Object.assign((e,t=re)=>{CF(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>MF}),Fy={},Vy={},Wy={},hN;function LF(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),u=t(i);if(s===u&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-s:s-u}return 0};e.compareValues=n})(Wy)),Wy}var Yy={},Ky={},mN;function Xk(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Ky)),Ky}var pN;function jF(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(Yy)),Yy}var gN;function UF(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LF(),n=jF(),r=$b();function i(a,s,u,c){if(a==null)return[];u=c?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const d=(x,A)=>{let E=x;for(let _=0;_<A.length&&E!=null;++_)E=E[A[_]];return E},h=(x,A)=>A==null||x==null?A:typeof x=="object"&&"key"in x?Object.hasOwn(A,x.key)?A[x.key]:d(A,x.path):typeof x=="function"?x(A):Array.isArray(x)?d(A,x):typeof A=="object"?A[x]:A,m=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:m.map(A=>h(A,x))})).slice().sort((x,A)=>{for(let E=0;E<m.length;E++){const _=t.compareValues(x.criteria[E],A.criteria[E],u[E]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=i})(Vy)),Vy}var Jy={},yN;function BF(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<a?s(h,c+1):i.push(h)}};return s(n,0),i}e.flatten=t})(Jy)),Jy}var Xy={},vN;function Qk(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk(),n=Fb(),r=$k(),i=zk();function a(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}e.isIterateeCall=a})(Xy)),Xy}var bN;function qF(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UF(),n=BF(),r=Qk();function i(a,...s){const u=s.length;return u>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(Fy)),Fy}var Qy,xN;function $F(){return xN||(xN=1,Qy=qF().sortBy),Qy}var GF=$F();const zh=Or(GF);var Zk=e=>e.legend.settings,zF=e=>e.legend.size,HF=e=>e.legend.payload,FF=re([HF,Zk],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?zh(r,n):r});function VF(){return Ae(FF)}var Hd=1;function eO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Hd||Math.abs(s.left-t.left)>Hd||Math.abs(s.top-t.top)>Hd||Math.abs(s.width-t.width)>Hd)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function an(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WF=typeof Symbol=="function"&&Symbol.observable||"@@observable",wN=WF,Zy=()=>Math.random().toString(36).substring(7).split("").join("."),YF={INIT:`@@redux/INIT${Zy()}`,REPLACE:`@@redux/REPLACE${Zy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zy()}`},qf=YF;function Wb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Yb(e,t,n){if(typeof e!="function")throw new Error(an(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(an(1));return n(Yb)(e,t)}let r=e,i=t,a=new Map,s=a,u=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((_,C)=>{s.set(C,_)}))}function h(){if(c)throw new Error(an(3));return i}function m(_){if(typeof _!="function")throw new Error(an(4));if(c)throw new Error(an(5));let C=!0;d();const I=u++;return s.set(I,_),function(){if(C){if(c)throw new Error(an(6));C=!1,d(),s.delete(I),a=null}}}function g(_){if(!Wb(_))throw new Error(an(7));if(typeof _.type>"u")throw new Error(an(8));if(typeof _.type!="string")throw new Error(an(17));if(c)throw new Error(an(9));try{c=!0,i=r(i,_)}finally{c=!1}return(a=s).forEach(I=>{I()}),_}function x(_){if(typeof _!="function")throw new Error(an(10));r=_,g({type:qf.REPLACE})}function A(){const _=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(an(11));function I(){const k=C;k.next&&k.next(h())}return I(),{unsubscribe:_(I)}},[wN](){return this}}}return g({type:qf.INIT}),{dispatch:g,subscribe:m,getState:h,replaceReducer:x,[wN]:A}}function KF(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qf.INIT})>"u")throw new Error(an(12));if(typeof n(void 0,{type:qf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function tO(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{KF(n)}catch(a){i=a}return function(s={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],g=n[m],x=s[m],A=g(x,u);if(typeof A>"u")throw u&&u.type,new Error(an(14));d[m]=A,c=c||A!==x}return c=c||r.length!==Object.keys(s).length,c?d:s}}function SN(e,t){return function(...n){return t(e.apply(this,n))}}function EN(e,t){if(typeof e=="function")return SN(e,t);if(typeof e!="object"||e===null)throw new Error(an(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=SN(i,t))}return n}function Mu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function nO(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(an(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},u=e.map(c=>c(s));return a=Mu(...u)(i.dispatch),{...i,dispatch:a}}}function rO(e){return Wb(e)&&"type"in e&&typeof e.type=="string"}var iO=Symbol.for("immer-nothing"),AN=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Lu=Object.getPrototypeOf;function Co(e){return!!e&&!!e[ur]}function Bi(e){return e?aO(e)||Array.isArray(e)||!!e[AN]||!!e.constructor?.[AN]||sc(e)||Fh(e):!1}var JF=Object.prototype.constructor.toString(),_N=new WeakMap;function aO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=_N.get(n);return r===void 0&&(r=Function.toString.call(n),_N.set(n,r)),r===JF}function $f(e,t,n=!0){Hh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Hh(e){const t=e[ur];return t?t.type_:Array.isArray(e)?1:sc(e)?2:Fh(e)?3:0}function v0(e,t){return Hh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function oO(e,t,n){const r=Hh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function XF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sc(e){return e instanceof Map}function Fh(e){return e instanceof Set}function fo(e){return e.copy_||e.base_}function b0(e,t){if(sc(e))return new Map(e);if(Fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=aO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ur];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[s]})}return Object.create(Lu(e),r)}else{const r=Lu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Kb(e,t=!1){return Vh(e)||Co(e)||!Bi(e)||(Hh(e)>1&&Object.defineProperties(e,{set:Fd,add:Fd,clear:Fd,delete:Fd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Kb(n,!0))),e}function QF(){zr(2)}var Fd={value:QF};function Vh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ZF={};function No(e){const t=ZF[e];return t||zr(0,e),t}var ju;function sO(){return ju}function eV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TN(e,t){t&&(No("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function x0(e){w0(e),e.drafts_.forEach(tV),e.drafts_=null}function w0(e){e===ju&&(ju=e.parent_)}function CN(e){return ju=eV(ju,e)}function tV(e){const t=e[ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ur].modified_&&(x0(t),zr(4)),Bi(e)&&(e=Gf(t,e),t.parent_||zf(t,e)),t.patches_&&No("Patches").generateReplacementPatches_(n[ur].base_,e,t.patches_,t.inversePatches_)):e=Gf(t,n,[]),x0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iO?e:void 0}function Gf(e,t,n){if(Vh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ur];if(!i)return $f(t,(a,s)=>DN(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return zf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,u=!1;i.type_===3&&(s=new Set(a),a.clear(),u=!0),$f(s,(c,d)=>DN(e,i,a,c,d,n,u),r),zf(e,a,!1),n&&e.patches_&&No("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function DN(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const u=Vh(i);if(!(u&&!s)){if(Co(i)){const c=a&&t&&t.type_!==3&&!v0(t.assigned_,r)?a.concat(r):void 0,d=Gf(e,i,c);if(oO(n,r,d),Co(d))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Bi(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Gf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(sc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&zf(e,i)}}}function zf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kb(t,n)}function nV(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:sO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Jb;n&&(i=[r],a=Uu);const{revoke:s,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=s,u}var Jb={get(e,t){if(t===ur)return e;const n=fo(e);if(!v0(n,t))return rV(e,n,t);const r=n[t];return e.finalized_||!Bi(r)?r:r===ev(e.base_,t)?(tv(e),e.copy_[t]=E0(r,e)):r},has(e,t){return t in fo(e)},ownKeys(e){return Reflect.ownKeys(fo(e))},set(e,t,n){const r=lO(fo(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ev(fo(e),t),a=i?.[ur];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(XF(n,i)&&(n!==void 0||v0(e.base_,t)))return!0;tv(e),S0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ev(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,tv(e),S0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=fo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){zr(11)},getPrototypeOf(e){return Lu(e.base_)},setPrototypeOf(){zr(12)}},Uu={};$f(Jb,(e,t)=>{Uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Uu.deleteProperty=function(e,t){return Uu.set.call(this,e,t,void 0)};Uu.set=function(e,t,n){return Jb.set.call(this,e[0],t,n,e[0])};function ev(e,t){const n=e[ur];return(n?fo(n):e)[t]}function rV(e,t,n){const r=lO(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function lO(e,t){if(!(t in e))return;let n=Lu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Lu(n)}}function S0(e){e.modified_||(e.modified_=!0,e.parent_&&S0(e.parent_))}function tv(e){e.copy_||(e.copy_=b0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(c=a,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&zr(6),r!==void 0&&typeof r!="function"&&zr(7);let i;if(Bi(t)){const a=CN(this),s=E0(t,void 0);let u=!0;try{i=n(s),u=!1}finally{u?x0(a):w0(a)}return TN(a,r),NN(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===iO&&(i=void 0),this.autoFreeze_&&Kb(i,!0),r){const a=[],s=[];No("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else zr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...u)=>this.produceWithPatches(s,c=>t(c,...u));let r,i;return[this.produce(t,n,(s,u)=>{r=s,i=u}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bi(e)||zr(8),Co(e)&&(e=Vr(e));const t=CN(this),n=E0(e,void 0);return n[ur].isManual_=!0,w0(t),n}finishDraft(e,t){const n=e&&e[ur];(!n||!n.isManual_)&&zr(9);const{scope_:r}=n;return TN(r,t),NN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=No("Patches").applyPatches_;return Co(e)?r(e,t):this.produce(e,i=>r(i,t))}};function E0(e,t){const n=sc(e)?No("MapSet").proxyMap_(e,t):Fh(e)?No("MapSet").proxySet_(e,t):nV(e,t);return(t?t.scope_:sO()).drafts_.push(n),n}function Vr(e){return Co(e)||zr(10,e),uO(e)}function uO(e){if(!Bi(e)||Vh(e))return e;const t=e[ur];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=b0(e,!0);return $f(n,(i,a)=>{oO(n,i,uO(a))},r),t&&(t.finalized_=!1),n}var A0=new iV,cO=A0.produce,aV=A0.setUseStrictIteration.bind(A0);function dO(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var oV=dO(),sV=dO,lV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mu:Mu.apply(null,arguments)};function Pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(or(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>rO(r)&&r.type===e,n}var fO=class Au extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Au.prototype)}static get[Symbol.species](){return Au}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Au(...t[0].concat(this)):new Au(...t.concat(this))}};function IN(e){return Bi(e)?cO(e,()=>{}):e}function Vd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function uV(e){return typeof e=="boolean"}var cV=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new fO;return n&&(uV(n)?s.push(oV):s.push(sV(n.extraArgument))),s},hO="RTK_autoBatch",wt=()=>e=>({payload:e,meta:{[hO]:!0}}),PN=e=>t=>{setTimeout(t,e)},mO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PN(10):e.type==="callback"?e.queueNotification:PN(e.timeout),d=()=>{s=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),g=r.subscribe(m);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[hO],a=!i,a&&(s||(s=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},dV=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new fO(e);return r&&i.push(mO(typeof r=="object"?r:void 0)),i};function fV(e){const t=cV(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Wb(n))u=tO(n);else throw new Error(or(1));let c;typeof r=="function"?c=r(t):c=t();let d=Mu;i&&(d=lV({trace:!1,...typeof i=="object"&&i}));const h=nO(...c),m=dV(h);let g=typeof s=="function"?s(m):m();const x=d(...g);return Yb(u,a,x)}function pO(e){const t={},n=[];let r;const i={addCase(a,s){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(or(28));if(u in t)throw new Error(or(29));return t[u]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}aV(!1);function hV(e){return typeof e=="function"}function mV(e,t){let[n,r,i]=pO(t),a;if(hV(e))a=()=>IN(e());else{const u=IN(e);a=()=>u}function s(u=a(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Co(h)){const x=m(h,c);return x===void 0?h:x}else{if(Bi(h))return cO(h,g=>m(g,c));{const g=m(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=a,s}var pV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gV=(e=21)=>{let t="",n=e;for(;n--;)t+=pV[Math.random()*64|0];return t},yV=Symbol.for("rtk-slice-createasyncthunk");function vV(e,t){return`${e}/${t}`}function bV({creators:e}={}){const t=e?.asyncThunk?.[yV];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(or(11));const s=(typeof r.reducers=="function"?r.reducers(wV()):r.reducers)||{},u=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(D,k){const P=typeof D=="string"?D:D.type;if(!P)throw new Error(or(12));if(P in c.sliceCaseReducersByType)throw new Error(or(13));return c.sliceCaseReducersByType[P]=k,d},addMatcher(D,k){return c.sliceMatchers.push({matcher:D,reducer:k}),d},exposeAction(D,k){return c.actionCreators[D]=k,d},exposeCaseReducer(D,k){return c.sliceCaseReducersByName[D]=k,d}};u.forEach(D=>{const k=s[D],P={reducerName:D,type:vV(i,D),createNotation:typeof r.reducers=="function"};EV(k)?_V(P,k,d,t):SV(P,k,d)});function h(){const[D={},k=[],P=void 0]=typeof r.extraReducers=="function"?pO(r.extraReducers):[r.extraReducers],R={...D,...c.sliceCaseReducersByType};return mV(r.initialState,M=>{for(let z in R)M.addCase(z,R[z]);for(let z of c.sliceMatchers)M.addMatcher(z.matcher,z.reducer);for(let z of k)M.addMatcher(z.matcher,z.reducer);P&&M.addDefaultCase(P)})}const m=D=>D,g=new Map,x=new WeakMap;let A;function E(D,k){return A||(A=h()),A(D,k)}function _(){return A||(A=h()),A.getInitialState()}function C(D,k=!1){function P(M){let z=M[D];return typeof z>"u"&&k&&(z=Vd(x,P,_)),z}function R(M=m){const z=Vd(g,k,()=>new WeakMap);return Vd(z,M,()=>{const B={};for(const[$,W]of Object.entries(r.selectors??{}))B[$]=xV(W,M,()=>Vd(x,M,_),k);return B})}return{reducerPath:D,getSelectors:R,get selectors(){return R(P)},selectSlice:P}}const I={name:i,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...C(a),injectInto(D,{reducerPath:k,...P}={}){const R=k??a;return D.inject({reducerPath:R,reducer:E},P),{...I,...C(R,!0)}}};return I}}function xV(e,t,n,r){function i(a,...s){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...s)}return i.unwrapped=e,i}var Vn=bV();function wV(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function SV({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!AV(r))throw new Error(or(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Pr(e,s):Pr(e))}function EV(e){return e._reducerDefinitionType==="asyncThunk"}function AV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _V({type:e,reducerName:t},n,r,i){if(!i)throw new Error(or(18));const{payloadCreator:a,fulfilled:s,pending:u,rejected:c,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),s&&r.addCase(m.fulfilled,s),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:s||Wd,pending:u||Wd,rejected:c||Wd,settled:d||Wd})}function Wd(){}var TV="task",gO="listener",yO="completed",Xb="cancelled",CV=`task-${Xb}`,NV=`task-${yO}`,_0=`${gO}-${Xb}`,DV=`${gO}-${yO}`,Wh=class{constructor(e){this.code=e,this.message=`${TV} ${Xb} (reason: ${e})`}name="TaskAbortError";message},Qb=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},Hf=()=>{},vO=(e,t=Hf)=>(e.catch(t),e),bO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Eo=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ao=e=>{if(e.aborted){const{reason:t}=e;throw new Wh(t)}};function xO(e,t){let n=Hf;return new Promise((r,i)=>{const a=()=>i(new Wh(e.reason));if(e.aborted){a();return}n=bO(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Hf})}var IV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wh?"cancelled":"rejected",error:n}}finally{t?.()}},Ff=e=>t=>vO(xO(e,t).then(n=>(Ao(e),n))),wO=e=>{const t=Ff(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Bs}=Object,kN={},Yh="listenerMiddleware",PV=(e,t)=>{const n=r=>bO(e,()=>Eo(r,e.reason));return(r,i)=>{Qb(r);const a=new AbortController;n(a);const s=IV(async()=>{Ao(e),Ao(a.signal);const u=await r({pause:Ff(a.signal),delay:wO(a.signal),signal:a.signal});return Ao(a.signal),u},()=>Eo(a,NV));return i?.autoJoin&&t.push(s.catch(Hf)),{result:Ff(e)(s),cancel(){Eo(a,CV)}}}},kV=(e,t)=>{const n=async(r,i)=>{Ao(t);let a=()=>{};const u=[new Promise((c,d)=>{let h=e({predicate:r,effect:(m,g)=>{g.unsubscribe(),c([m,g.getState(),g.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await xO(t,Promise.race(u));return Ao(t),c}finally{a()}};return(r,i)=>vO(n(r,i))},SO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(or(21));return Qb(a),{predicate:i,type:t,effect:a}},EO=Bs(e=>{const{type:t,predicate:n,effect:r}=SO(e);return{id:gV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>EO}),ON=(e,t)=>{const{type:n,effect:r,predicate:i}=SO(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},T0=e=>{e.pending.forEach(t=>{Eo(t,_0)})},OV=(e,t)=>()=>{for(const n of t.keys())T0(n);e.clear()},RN=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},AO=Bs(Pr(`${Yh}/add`),{withTypes:()=>AO}),RV=Pr(`${Yh}/removeAll`),_O=Bs(Pr(`${Yh}/remove`),{withTypes:()=>_O}),MV=(...e)=>{console.error(`${Yh}/error`,...e)},lc=(e={})=>{const t=new Map,n=new Map,r=x=>{const A=n.get(x)??0;n.set(x,A+1)},i=x=>{const A=n.get(x)??1;A===1?n.delete(x):n.set(x,A-1)},{extra:a,onError:s=MV}=e;Qb(s);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),A=>{x.unsubscribe(),A?.cancelActive&&T0(x)}),c=x=>{const A=ON(t,x)??EO(x);return u(A)};Bs(c,{withTypes:()=>c});const d=x=>{const A=ON(t,x);return A&&(A.unsubscribe(),x.cancelActive&&T0(A)),!!A};Bs(d,{withTypes:()=>d});const h=async(x,A,E,_)=>{const C=new AbortController,I=kV(c,C.signal),D=[];try{x.pending.add(C),r(x),await Promise.resolve(x.effect(A,Bs({},E,{getOriginalState:_,condition:(k,P)=>I(k,P).then(Boolean),take:I,delay:wO(C.signal),pause:Ff(C.signal),extra:a,signal:C.signal,fork:PV(C.signal,D),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((k,P,R)=>{k!==C&&(Eo(k,_0),R.delete(k))})},cancel:()=>{Eo(C,_0),x.pending.delete(C)},throwIfCancelled:()=>{Ao(C.signal)}})))}catch(k){k instanceof Wh||RN(s,k,{raisedBy:"effect"})}finally{await Promise.all(D),Eo(C,DV),i(x),x.pending.delete(C)}},m=OV(t,n);return{middleware:x=>A=>E=>{if(!rO(E))return A(E);if(AO.match(E))return c(E.payload);if(RV.match(E)){m();return}if(_O.match(E))return d(E.payload);let _=x.getState();const C=()=>{if(_===kN)throw new Error(or(23));return _};let I;try{if(I=A(E),t.size>0){const D=x.getState(),k=Array.from(t.values());for(const P of k){let R=!1;try{R=P.predicate(E,D,_)}catch(M){R=!1,RN(s,M,{raisedBy:"predicate"})}R&&h(P,E,x,C)}}}finally{_=kN}return I},startListening:c,stopListening:d,clearListeners:m}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TO=Vn({name:"chartLayout",initialState:LV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jV,setLayout:UV,setChartSize:BV,setScale:qV}=TO.actions,$V=TO.reducer;function CO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(r){GV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GV(e,t,n){return(t=zV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zV(e){var t=HV(e,"string");return typeof t=="symbol"?t:t+""}function HV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kt(e,t,n){return Et(e)||Et(t)?n:ui(t)?zs(e,t,n):typeof t=="function"?t(e):n}var FV=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:u}=t;if((u==="vertical"||u==="horizontal"&&s==="middle")&&a!=="center"&&Ee(e[a]))return Rs(Rs({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&s!=="middle"&&Ee(e[s]))return Rs(Rs({},e),{},{[s]:e[s]+(i||0)})}return e},Ua=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NO=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,s=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||s.push(t),a||s.push(n),s},DO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:g,axisType:x}=e;if(!s)return null;var A=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,E=i==="category"&&s.bandwidth?s.bandwidth()/A:0;if(E=x==="angleAxis"&&a&&a.length>=2?Hn(a[0]-a[1])*2*E:E,m||g){var _=(m||g||[]).map((C,I)=>{var D=r?r.indexOf(C):C;return{coordinate:s(D)+E,value:C,offset:E,index:I}});return _.filter(C=>!Yr(C.coordinate))}return c&&d?d.map((C,I)=>({coordinate:s(C)+E,value:C,index:I,offset:E})):s.ticks&&h!=null?s.ticks(h).map((C,I)=>({coordinate:s(C)+E,value:C,offset:E,index:I})):s.domain().map((C,I)=>({coordinate:s(C)+E,value:r?r[C]:C,index:I,offset:E}))},LN=1e-4,VV=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-LN,a=Math.max(r[0],r[1])+LN,s=e(t[0]),u=e(t[n-1]);(s<i||s>a||u<i||u>a)&&e.domain([t[0],t[n-1]])}},WV=(e,t)=>{if(!t||t.length!==2||!Ee(t[0])||!Ee(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(i[0]=n),(!Ee(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},YV=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var u=Yr(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=i,e[s][n][1]=i+u,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1])}},KV=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=Yr(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},JV={sign:YV,expand:wH,none:Gs,silhouette:SH,wiggle:EH,positive:KV},XV=(e,t,n)=>{var r=JV[n],i=xH().keys(t).value((a,s)=>Number(Kt(a,s,0))).order(g0).offset(r);return i(e)};function QV(e){return e==null?void 0:String(e)}function jN(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Et(i[t.dataKey])){var u=jk(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Kt(i,Et(s)?t.dataKey:s);return Et(c)?null:t.scale(c)}var UN=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var u=Kt(a,t.dataKey,t.scale.domain()[s]);return Et(u)?null:t.scale(u)-i/2+r},ZV=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},e8=e=>{var t=e.flat(2).filter(Ee);return[Math.min(...t),Math.max(...t)]},t8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],n8=(e,t,n)=>{if(e!=null)return t8(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,u=s.reduce((c,d)=>{var h=CO(d,t,n),m=e8(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},BN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=zh(t,h=>h.coordinate),a=1/0,s=1,u=i.length;s<u;s++){var c=i[s],d=i[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function $N(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Rs(Rs({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Kh(e,t){if(e)return String(e);if(typeof t=="string")return t}var r8=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},i8=(e,t)=>t==="centric"?e.angle:e.radius,Yi=e=>e.layout.width,Ki=e=>e.layout.height,a8=e=>e.layout.scale,IO=e=>e.layout.margin,Jh=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xh=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),o8="data-recharts-item-index",s8="data-recharts-item-data-key",uc=60;function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){l8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l8(e,t,n){return(t=u8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d8=e=>e.brush.height;function f8(e){var t=Xh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:uc;return n+i}return n},0)}function h8(e){var t=Xh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:uc;return n+i}return n},0)}function m8(e){var t=Jh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function p8(e){var t=Jh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var cn=re([Yi,Ki,IO,d8,f8,h8,m8,p8,Zk,zF],(e,t,n,r,i,a,s,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=Yd(Yd({},m),h),x=g.bottom;g.bottom+=r,g=FV(g,c,d);var A=e-g.left-g.right,E=t-g.top-g.bottom;return Yd(Yd({brushBottom:x},g),{},{width:Math.max(A,0),height:Math.max(E,0)})}),g8=re(cn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Zb=re(Yi,Ki,(e,t)=>({x:0,y:0,width:e,height:t})),y8=T.createContext(null),Tn=()=>T.useContext(y8)!=null,Qh=e=>e.brush,Zh=re([Qh,cn,IO],(e,t,n)=>({height:e.height,x:Ee(e.x)?e.x:t.left,y:Ee(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ee(e.width)?e.width:t.width})),nv={},rv={},iv={},zN;function v8(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,u=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},m=()=>{d&&h(),E()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},r)},A=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{A(),s=void 0,u=null},_=()=>{h()},C=function(...I){if(i?.aborted)return;s=this,u=I;const D=g==null;x(),c&&D&&h()};return C.schedule=x,C.cancel=E,C.flush=_,i?.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(iv)),iv}var HN;function b8(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v8();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:u=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const g=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:d}),x=function(...E){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,E),m=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,E),h)},A=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=A,x}e.debounce=n})(rv)),rv}var FN;function x8(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b8();function n(r,i=0,a={}){const{leading:s=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:u})}e.throttle=n})(nv)),nv}var av,VN;function w8(){return VN||(VN=1,av=x8().throttle),av}var S8=w8();const E8=Or(S8);var Vf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},PO=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,u=Ui(r)?e:Number(r),c=Ui(i)?t:Number(i);return a&&a>0&&(u?c=u/a:c&&(u=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},A8={width:0,height:0,overflow:"visible"},_8={width:0,overflowX:"visible"},T8={height:0,overflowY:"visible"},C8={},N8=e=>{var{width:t,height:n}=e,r=Ui(t),i=Ui(n);return r&&i?A8:r?_8:i?T8:C8};function D8(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Mt(e){return Number.isFinite(e)}function ci(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){I8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I8(e,t,n){return(t=P8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P8(e){var t=k8(e,"string");return typeof t=="symbol"?t:t+""}function k8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kO=T.createContext({width:-1,height:-1});function O8(e){return ci(e.width)&&ci(e.height)}function OO(e){var{children:t,width:n,height:r}=e,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return O8(i)?T.createElement(kO.Provider,{value:i},t):null}var ex=()=>T.useContext(kO),R8=T.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:g,onResize:x,style:A={}}=e,E=T.useRef(null),_=T.useRef();_.current=x,T.useImperativeHandle(t,()=>E.current);var[C,I]=T.useState({containerWidth:r.width,containerHeight:r.height}),D=T.useCallback((z,B)=>{I($=>{var W=Math.round(z),Y=Math.round(B);return $.containerWidth===W&&$.containerHeight===Y?$:{containerWidth:W,containerHeight:Y}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return oc;var z=Y=>{var K,{width:G,height:ne}=Y[0].contentRect;D(G,ne),(K=_.current)===null||K===void 0||K.call(_,G,ne)};h>0&&(z=E8(z,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(z),{width:$,height:W}=E.current.getBoundingClientRect();return D($,W),B.observe(E.current),()=>{B.disconnect()}},[D,h]);var{containerWidth:k,containerHeight:P}=C;Vf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:M}=PO(k,P,{width:i,height:a,aspect:n,maxHeight:c});return Vf(R!=null&&R>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,M,i,a,s,u,n),T.createElement("div",{id:m?"".concat(m):void 0,className:at("recharts-responsive-container",g),style:YN(YN({},A),{},{width:i,height:a,minWidth:s,minHeight:u,maxHeight:c}),ref:E},T.createElement("div",{style:N8({width:i,height:a})},T.createElement(OO,{width:R,height:M},d)))}),KN=T.forwardRef((e,t)=>{var n=ex();if(ci(n.width)&&ci(n.height))return e.children;var{width:r,height:i}=D8({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=PO(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ee(a)&&Ee(s)?T.createElement(OO,{width:a,height:s},e.children):T.createElement(R8,C0({},e,{width:r,height:i,ref:t}))});function RO(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var em=()=>{var e,t=Tn(),n=Ae(g8),r=Ae(Zh),i=(e=Ae(Qh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},M8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},MO=()=>{var e;return(e=Ae(cn))!==null&&e!==void 0?e:M8},tx=()=>Ae(Yi),nx=()=>Ae(Ki),L8=()=>Ae(e=>e.layout.margin),et=e=>e.layout.layoutType,cc=()=>Ae(et),j8=()=>{var e=cc();return e!==void 0},tm=e=>{var t=Nt(),n=Tn(),{width:r,height:i}=e,a=ex(),s=r,u=i;return a&&(s=a.width>0?a.width:r,u=a.height>0?a.height:i),T.useEffect(()=>{!n&&ci(s)&&ci(u)&&t(BV({width:s,height:u}))},[t,n,s,u]),null},U8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LO=Vn({name:"legend",initialState:U8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:wt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Vr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:wt()},removeLegendPayload:{reducer(e,t){var n=Vr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:wt()}}}),{setLegendSize:JN,setLegendSettings:B8,addLegendPayload:q8,replaceLegendPayload:$8,removeLegendPayload:G8}=LO.actions,z8=LO.reducer,H8=["contextPayload"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){F8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F8(e,t,n){return(t=V8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V8(e){var t=W8(e,"string");return typeof t=="symbol"?t:t+""}function W8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y8(e,t){if(e==null)return{};var n,r,i=K8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function K8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function J8(e){return e.value}function X8(e){var{contextPayload:t}=e,n=Y8(e,H8),r=Kk(t,e.payloadUniqBy,J8),i=Fs(Fs({},n),{},{payload:r});return T.isValidElement(e.content)?T.cloneElement(e.content,i):typeof e.content=="function"?T.createElement(e.content,i):T.createElement(QH,i)}function Q8(e,t,n,r,i,a){var{layout:s,align:u,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&s==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((i||0)-a.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Fs(Fs({},d),h)}function Z8(e){var t=Nt();return T.useEffect(()=>{t(B8(e))},[t,e]),null}function e7(e){var t=Nt();return T.useEffect(()=>(t(JN(e)),()=>{t(JN({width:0,height:0}))}),[t,e]),null}function t7(e,t,n,r){return e==="vertical"&&Ee(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var n7={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function D0(e){var t=xn(e,n7),n=VF(),r=Hz(),i=L8(),{width:a,height:s,wrapperStyle:u,portal:c}=t,[d,h]=eO([n]),m=tx(),g=nx();if(m==null||g==null)return null;var x=m-(i?.left||0)-(i?.right||0),A=t7(t.layout,s,a,x),E=c?u:Fs(Fs({position:"absolute",width:A?.width||a||"auto",height:A?.height||s||"auto"},Q8(u,t,i,m,g,d)),u),_=c??r;if(_==null||n==null)return null;var C=T.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},T.createElement(Z8,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&T.createElement(e7,{width:d.width,height:d.height}),T.createElement(X8,N0({},t,A,{margin:i,chartWidth:m,chartHeight:g,contextPayload:n})));return rl.createPortal(C,_)}D0.displayName="Legend";function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(r){r7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t,n){return(t=i7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o7(e){return Array.isArray(e)&&ui(e[0])&&ui(e[1])?e.join(" ~ "):e}var s7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:g=!1}=e,x=()=>{if(a&&a.length){var P={padding:0,margin:0},R=(u?zh(a,u):a).map((M,z)=>{if(M.type==="none")return null;var B=M.formatter||s||o7,{value:$,name:W}=M,Y=$,K=W;if(B){var G=B($,W,M,z,a);if(Array.isArray(G))[Y,K]=G;else if(G!=null)Y=G;else return null}var ne=ov({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ne},ui(K)?T.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ui(K)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},Y),T.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},A=ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=ov({margin:0},i),_=!Et(h),C=_?h:"",I=at("recharts-default-tooltip",c),D=at("recharts-tooltip-label",d);_&&m&&a!==void 0&&a!==null&&(C=m(h,a));var k=g?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",I0({className:I,style:A},k),T.createElement("p",{className:D,style:E},T.isValidElement(C)?C:"".concat(C)),x())},hu="recharts-tooltip-wrapper",l7={visibility:"hidden"};function u7(e){var{coordinate:t,translateX:n,translateY:r}=e;return at(hu,{["".concat(hu,"-right")]:Ee(n)&&t&&Ee(t.x)&&n>=t.x,["".concat(hu,"-left")]:Ee(n)&&t&&Ee(t.x)&&n<t.x,["".concat(hu,"-bottom")]:Ee(r)&&t&&Ee(t.y)&&r>=t.y,["".concat(hu,"-top")]:Ee(r)&&t&&Ee(t.y)&&r<t.y})}function ZN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=e;if(a&&Ee(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return s[r]?h:m;var g=c[r];if(g==null)return 0;if(s[r]){var x=h,A=g;return x<A?Math.max(m,g):Math.max(h,g)}if(d==null)return 0;var E=m+u,_=g+d;return E>_?Math.max(h,g):Math.max(m,g)}function c7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function d7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:u,viewBox:c}=e,d,h,m;return s.height>0&&s.width>0&&n?(h=ZN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=ZN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=c7({translateX:h,translateY:m,useTranslate3d:u})):d=l7,{cssProperties:d,cssClasses:u7({translateX:h,translateY:m,coordinate:n})}}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){P0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P0(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class m7 extends T.PureComponent{constructor(){super(...arguments),P0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),P0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:x,wrapperStyle:A,lastBoundingBox:E,innerRef:_,hasPortalFromProps:C}=this.props,{cssClasses:I,cssProperties:D}=d7({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:x}),k=C?{}:Kd(Kd({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Kd(Kd({},k),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},A);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:_},a)}}var p7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),il={devToolsEnabled:!1,isSsr:p7()},jO=()=>{var e;return(e=Ae(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function t1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r1={curveBasisClosed:uH,curveBasisOpen:cH,curveBasis:lH,curveBumpX:Yz,curveBumpY:Kz,curveLinearClosed:dH,curveLinear:qh,curveMonotoneX:fH,curveMonotoneY:hH,curveNatural:mH,curveStep:pH,curveStepAfter:yH,curveStepBefore:gH},Wf=e=>Mt(e.x)&&Mt(e.y),i1=e=>e.base!=null&&Wf(e.base)&&Wf(e),mu=e=>e.x,pu=e=>e.y,b7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ac(e));return(n==="curveMonotone"||n==="curveBump")&&t?r1["".concat(n).concat(t==="vertical"?"Y":"X")]:r1[n]||qh},x7=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=b7(t,i),u=a?n.filter(Wf):n,c;if(Array.isArray(r)){var d=n.map((x,A)=>n1(n1({},x),{},{base:r[A]}));i==="vertical"?c=Gd().y(pu).x1(mu).x0(x=>x.base.x):c=Gd().x(mu).y1(pu).y0(x=>x.base.y);var h=c.defined(i1).curve(s),m=a?d.filter(i1):d;return h(m)}i==="vertical"&&Ee(r)?c=Gd().y(pu).x1(mu).x0(r):Ee(r)?c=Gd().x(mu).y1(pu).y0(r):c=Ak().x(mu).y(pu);var g=c.defined(Wf).curve(s);return g(u)},UO=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?x7(e):r;return T.createElement("path",k0({},Wr(e),Hb(e),{className:at("recharts-curve",t),d:a===null?void 0:a,ref:i}))},w7=["x","y","top","left","width","height","className"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function a1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(n),!0).forEach(function(r){E7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E7(e,t,n){return(t=A7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e){var t=_7(e,"string");return typeof t=="symbol"?t:t+""}function _7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e,t){if(e==null)return{};var n,r,i=C7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var N7=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),D7=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:u}=e,c=T7(e,w7),d=S7({x:t,y:n,top:r,left:i,width:a,height:s},c);return!Ee(t)||!Ee(n)||!Ee(a)||!Ee(s)||!Ee(r)||!Ee(i)?null:T.createElement("path",O0({},Rn(d),{className:at("recharts-cross",u),d:N7(t,n,a,s,r,i)}))};function I7(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),BO=(e,t,n)=>e.map(r=>"".concat(R7(r)," ").concat(t,"ms ").concat(n)).join(","),M7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Bu=(e,t)=>Object.keys(t).reduce((n,r)=>s1(s1({},n),{},{[r]:e(r,t[r])}),{});function l1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return(t=j7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yf=(e,t,n)=>e+(t-e)*n,R0=e=>{var{from:t,to:n}=e;return t!==n},qO=(e,t,n)=>{var r=Bu((i,a)=>{if(R0(a)){var[s,u]=e(a.from,a.to,a.velocity);return Yt(Yt({},a),{},{from:s,velocity:u})}return a},t);return n<1?Bu((i,a)=>R0(a)?Yt(Yt({},a),{},{velocity:Yf(a.velocity,r[i].velocity,n),from:Yf(a.from,r[i].from,n)}):a,t):qO(e,r,n-1)};function B7(e,t,n,r,i,a){var s,u=r.reduce((g,x)=>Yt(Yt({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),c=()=>Bu((g,x)=>x.from,u),d=()=>!Object.values(u).filter(R0).length,h=null,m=g=>{s||(s=g);var x=g-s,A=x/n.dt;u=qO(n,u,A),i(Yt(Yt(Yt({},e),t),c())),s=g,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var g;(g=h)===null||g===void 0||g()})}function q7(e,t,n,r,i,a,s){var u=null,c=i.reduce((m,g)=>Yt(Yt({},m),{},{[g]:[e[g],t[g]]}),{}),d,h=m=>{d||(d=m);var g=(m-d)/r,x=Bu((E,_)=>Yf(..._,n(g)),c);if(a(Yt(Yt(Yt({},e),t),x)),g<1)u=s.setTimeout(h);else{var A=Bu((E,_)=>Yf(..._,n(1)),c);a(Yt(Yt(Yt({},e),t),A))}};return()=>(u=s.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const $7=(e,t,n,r,i,a)=>{var s=M7(e,t);return n==null?()=>(i(Yt(Yt({},e),t)),()=>{}):n.isStepper===!0?B7(e,t,n,s,i,a):q7(e,t,n,r,s,i,a)};var Kf=1e-4,$O=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],GO=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),u1=(e,t)=>n=>{var r=$O(e,t);return GO(r,n)},G7=(e,t)=>n=>{var r=$O(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return GO(i,n)},z7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(u=>parseFloat(u));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},H7=(e,t,n,r)=>{var i=u1(e,n),a=u1(t,r),s=G7(e,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,g=0;g<8;++g){var x=i(m)-h,A=s(m);if(Math.abs(x-h)<Kf||A<Kf)return a(m);m=u(m-x/A)}return a(m)};return c.isStepper=!1,c},c1=function(){return H7(...z7(...arguments))},F7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,u,c)=>{var d=-(s-u)*n,h=c*r,m=c+(d-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<Kf&&Math.abs(m)<Kf?[u,0]:[g,m]};return a.isStepper=!0,a.dt=i,a},V7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c1(e);case"spring":return F7();default:if(e.split("(")[0]==="cubic-bezier")return c1(e)}return typeof e=="function"?e:null};function W7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...d]=u;if(typeof c=="number"){i=e.setTimeout(a.bind(null,d),c);return}a(c),i=e.setTimeout(a.bind(null,d));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Y7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function K7(){return W7(new Y7)}var J7=T.createContext(K7);function X7(e,t){var n=T.useContext(J7);return T.useMemo(()=>t??n(e),[e,t,n])}var Q7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d1={t:0},sv={t:1};function nm(e){var t=xn(e,Q7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:u,onAnimationStart:c,children:d}=t,h=n==="auto"?!il.isSsr:n,m=X7(t.animationId,t.animationManager),[g,x]=T.useState(h?d1:sv),A=T.useRef(null);return T.useEffect(()=>{h||x(sv)},[h]),T.useEffect(()=>{if(!h||!r)return oc;var E=$7(d1,sv,V7(a),i,x,m.getTimeoutController()),_=()=>{A.current=E()};return m.start([c,s,_,i,u]),()=>{m.stop(),A.current&&A.current(),u()}},[h,r,i,a,s,c,u,m]),d(g.t)}function rm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(Ru(t)),r=T.useRef(e);return r.current!==e&&(n.current=Ru(t),r.current=e),n.current}var Z7=["radius"],e9=["radius"];function f1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(n),!0).forEach(function(r){t9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t9(e,t,n){return(t=n9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(null,arguments)}function m1(e,t){if(e==null)return{};var n,r,i=i9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p1=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(a>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=i[m]>a?a:i[m];d="M".concat(e,",").concat(t+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+s*h[1])),d+="L ".concat(e+n,",").concat(t+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-s*h[3])),d+="Z"}else if(a>0&&i===+i&&i>0){var x=Math.min(a,i);d="M ".concat(e,",").concat(t+s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*x,`
            L `).concat(e+n,",").concat(t+r-s*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},g1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zO=e=>{var t=xn(e,g1),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&i(te)}catch{}},[]);var{x:a,y:s,width:u,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:g,animationBegin:x,isAnimationActive:A,isUpdateAnimationActive:E}=t,_=T.useRef(u),C=T.useRef(c),I=T.useRef(a),D=T.useRef(s),k=T.useMemo(()=>({x:a,y:s,width:u,height:c,radius:d}),[a,s,u,c,d]),P=rm(k,"rectangle-");if(a!==+a||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var R=at("recharts-rectangle",h);if(!E){var M=Rn(t),{radius:z}=M,B=m1(M,Z7);return T.createElement("path",Jf({},B,{radius:typeof d=="number"?d:void 0,className:R,d:p1(a,s,u,c,d)}))}var $=_.current,W=C.current,Y=I.current,K=D.current,G="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),U=BO(["strokeDasharray"],g,typeof m=="string"?m:g1.animationEasing);return T.createElement(nm,{animationId:P,key:P,canBegin:r>0,duration:g,easing:m,isActive:E,begin:x},te=>{var ce=Pt($,u,te),fe=Pt(W,c,te),Ie=Pt(Y,a,te),j=Pt(K,s,te);n.current&&(_.current=ce,C.current=fe,I.current=Ie,D.current=j);var ae;A?te>0?ae={transition:U,strokeDasharray:ne}:ae={strokeDasharray:G}:ae={strokeDasharray:ne};var me=Rn(t),{radius:ge}=me,Te=m1(me,e9);return T.createElement("path",Jf({},Te,{radius:typeof d=="number"?d:void 0,className:R,d:p1(Ie,j,ce,fe,d),ref:n,style:h1(h1({},ae),t.style)}))})};function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(n),!0).forEach(function(r){a9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xf=Math.PI/180,l9=e=>e*180/Math.PI,vn=(e,t,n,r)=>({x:e+Math.cos(-Xf*r)*n,y:t+Math.sin(-Xf*r)*n}),u9=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},c9=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},d9=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=c9({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>a&&(c=2*Math.PI-c),{radius:s,angle:l9(c),angleInRadian:c}},f9=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},h9=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},m9=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=d9({x:n,y:r},t),{innerRadius:s,outerRadius:u}=t;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:d}=f9(t),h=a,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?v1(v1({},t),{},{radius:i,angle:h9(h,t)}):null};function HO(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=vn(t,n,r,i),u=vn(t,n,r,a);return{points:[s,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}var p9=(e,t)=>{var n=Hn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Jd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:u,cornerIsExternal:c}=e,d=u*(s?1:-1)+r,h=Math.asin(u/d)/Xf,m=c?i:i+a*h,g=vn(t,n,d,m),x=vn(t,n,r,m),A=c?i-a*h:i,E=vn(t,n,d*Math.cos(h*Xf),A);return{center:g,circleTangency:x,lineTangency:E,theta:h}},FO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,u=p9(a,s),c=a+u,d=vn(t,n,i,a),h=vn(t,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=vn(t,n,r,a),x=vn(t,n,r,c);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},g9=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:d}=e,h=Hn(d-c),{circleTangency:m,lineTangency:g,theta:x}=Jd({cx:t,cy:n,radius:i,angle:c,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:A,lineTangency:E,theta:_}=Jd({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(c-d):Math.abs(c-d)-x-_;if(C<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):FO({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:k,theta:P}=Jd({cx:t,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:R,lineTangency:M,theta:z}=Jd({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),B=u?Math.abs(c-d):Math.abs(c-d)-P-z;if(B<0&&a===0)return"".concat(I,"L").concat(t,",").concat(n,"Z");I+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else I+="L".concat(t,",").concat(n,"Z");return I},y9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VO=e=>{var t=xn(e,y9),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var g=at("recharts-sector",m),x=a-i,A=Kr(s,x,0,!0),E;return A>0&&Math.abs(d-h)<360?E=g9({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(A,x/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):E=FO({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),T.createElement("path",M0({},Rn(t),{className:g,d:E}))};function v9(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(Bk(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:u}=t,c=vn(r,i,a,u),d=vn(r,i,s,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return HO(t)}}var lv={},uv={},cv={},b1;function b9(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(cv)),cv}var x1;function x9(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(uv)),uv}var w1;function w9(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qk(),n=x9();function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=s;return c}e.range=r})(lv)),lv}var dv,S1;function S9(){return S1||(S1=1,dv=w9().range),dv}var E9=S9();const WO=Or(E9);function Ia(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function A9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YO(e){let t,n,r;e.length!==2?(t=Ia,n=(u,c)=>Ia(e(u),c),r=(u,c)=>e(u)-c):(t=e===Ia||e===A9?e:_9,n=e,r=e);function i(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function _9(){return 0}function KO(e){return e===null?NaN:+e}function*T9(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const C9=YO(Ia),dc=C9.right;YO(KO).center;class E1 extends Map{constructor(t,n=I9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(A1(this,t))}has(t){return super.has(A1(this,t))}set(t,n){return super.set(N9(this,t),n)}delete(t){return super.delete(D9(this,t))}}function A1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function N9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function D9({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function I9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function P9(e=Ia){if(e===Ia)return JO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function JO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const k9=Math.sqrt(50),O9=Math.sqrt(10),R9=Math.sqrt(2);function Qf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=k9?10:a>=O9?5:a>=R9?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*s,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?Qf(e,t,n*2):[u,c,d]}function L0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Qf(t,e,n):Qf(e,t,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)c[d]=(a-d)/-s;else for(let d=0;d<u;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(i+d)/-s;else for(let d=0;d<u;++d)c[d]=(i+d)*s;return c}function j0(e,t,n){return t=+t,e=+e,n=+n,Qf(e,t,n)[2]}function M9(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?j0(t,e,n):j0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function _1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function T1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function XO(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?JO:P9(i);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(n,Math.floor(t-d*m/c+g)),A=Math.min(r,Math.floor(t+(c-d)*m/c+g));XO(e,t,x,A,i)}const a=e[t];let s=n,u=r;for(gu(e,n,t),i(e[r],a)>0&&gu(e,n,r);s<u;){for(gu(e,s,u),++s,--u;i(e[s],a)<0;)++s;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?gu(e,n,u):(++u,gu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function gu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function L9(e,t,n){if(e=Float64Array.from(T9(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return T1(e);if(t>=1)return _1(e);var r,i=(r-1)*t,a=Math.floor(i),s=_1(XO(e,a).subarray(0,a+1)),u=T1(e.subarray(a+1));return s+(u-s)*(i-a)}}function j9(e,t,n=KO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return s+(u-s)*(i-a)}}function U9(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const U0=Symbol("implicit");function rx(){var e=new E1,t=[],n=[],r=U0;function i(a){let s=e.get(a);if(s===void 0){if(r!==U0)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new E1;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rx(t,n).unknown(r)},Rr.apply(i,arguments),i}function ix(){var e=rx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,u=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var g=t().length,x=i<r,A=x?i:r,E=x?r:i;a=(E-A)/Math.max(1,g-c+d*2),u&&(a=Math.floor(a)),A+=(E-A-a*(g-c))*h,s=a*(1-c),u&&(A=Math.round(A),s=Math.round(s));var _=U9(g).map(function(C){return A+a*C});return n(x?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),m()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},e.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return ix(t(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},Rr.apply(m(),arguments)}function QO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QO(t())},e}function B9(){return QO(ix.apply(null,arguments).paddingInner(1))}function ax(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ZO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fc(){}var qu=.7,Zf=1/qu,qs="\\s*([+-]?\\d+)\\s*",$u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q9=/^#([0-9a-f]{3,8})$/,$9=new RegExp(`^rgb\\(${qs},${qs},${qs}\\)$`),G9=new RegExp(`^rgb\\(${li},${li},${li}\\)$`),z9=new RegExp(`^rgba\\(${qs},${qs},${qs},${$u}\\)$`),H9=new RegExp(`^rgba\\(${li},${li},${li},${$u}\\)$`),F9=new RegExp(`^hsl\\(${$u},${li},${li}\\)$`),V9=new RegExp(`^hsla\\(${$u},${li},${li},${$u}\\)$`),C1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax(fc,Gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N1,formatHex:N1,formatHex8:W9,formatHsl:Y9,formatRgb:D1,toString:D1});function N1(){return this.rgb().formatHex()}function W9(){return this.rgb().formatHex8()}function Y9(){return eR(this).formatHsl()}function D1(){return this.rgb().formatRgb()}function Gu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=q9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?I1(t):n===3?new Fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$9.exec(e))?new Fn(t[1],t[2],t[3],1):(t=G9.exec(e))?new Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=z9.exec(e))?Xd(t[1],t[2],t[3],t[4]):(t=H9.exec(e))?Xd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=F9.exec(e))?O1(t[1],t[2]/100,t[3]/100,1):(t=V9.exec(e))?O1(t[1],t[2]/100,t[3]/100,t[4]):C1.hasOwnProperty(e)?I1(C1[e]):e==="transparent"?new Fn(NaN,NaN,NaN,0):null}function I1(e){return new Fn(e>>16&255,e>>8&255,e&255,1)}function Xd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fn(e,t,n,r)}function K9(e){return e instanceof fc||(e=Gu(e)),e?(e=e.rgb(),new Fn(e.r,e.g,e.b,e.opacity)):new Fn}function B0(e,t,n,r){return arguments.length===1?K9(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ax(Fn,B0,ZO(fc,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fn(_o(this.r),_o(this.g),_o(this.b),eh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P1,formatHex:P1,formatHex8:J9,formatRgb:k1,toString:k1}));function P1(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function J9(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function k1(){const e=eh(this.opacity);return`${e===1?"rgb(":"rgba("}${_o(this.r)}, ${_o(this.g)}, ${_o(this.b)}${e===1?")":`, ${e})`}`}function eh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bo(e){return e=_o(e),(e<16?"0":"")+e.toString(16)}function O1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,n,r)}function eR(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof fc||(e=Gu(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(t===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-t)/u+2:s=(t-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Hr(s,u,c,e.opacity)}function X9(e,t,n,r){return arguments.length===1?eR(e):new Hr(e,t,n,r??1)}function Hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ax(Hr,X9,ZO(fc,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qu:Math.pow(qu,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fn(fv(e>=240?e-240:e+120,i,r),fv(e,i,r),fv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Hr(R1(this.h),Qd(this.s),Qd(this.l),eh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=eh(this.opacity);return`${e===1?"hsl(":"hsla("}${R1(this.h)}, ${Qd(this.s)*100}%, ${Qd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R1(e){return e=(e||0)%360,e<0?e+360:e}function Qd(e){return Math.max(0,Math.min(1,e||0))}function fv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ox=e=>()=>e;function Q9(e,t){return function(n){return e+n*t}}function Z9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function eW(e){return(e=+e)==1?tR:function(t,n){return n-t?Z9(t,n,e):ox(isNaN(t)?n:t)}}function tR(e,t){var n=t-e;return n?Q9(e,n):ox(isNaN(e)?t:e)}const M1=(function e(t){var n=eW(t);function r(i,a){var s=n((i=B0(i)).r,(a=B0(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),d=tR(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function tW(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function nW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rW(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=al(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function iW(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function th(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function aW(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=al(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var q0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hv=new RegExp(q0.source,"g");function oW(e){return function(){return e}}function sW(e){return function(t){return e(t)+""}}function lW(e,t){var n=q0.lastIndex=hv.lastIndex=0,r,i,a,s=-1,u=[],c=[];for(e=e+"",t=t+"";(r=q0.exec(e))&&(i=hv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:th(r,i)})),n=hv.lastIndex;return n<t.length&&(a=t.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?sW(c[0].x):oW(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function al(e,t){var n=typeof t,r;return t==null||n==="boolean"?ox(t):(n==="number"?th:n==="string"?(r=Gu(t))?(t=r,M1):lW:t instanceof Gu?M1:t instanceof Date?iW:nW(t)?tW:Array.isArray(t)?rW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aW:th)(e,t)}function sx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function uW(e,t){t===void 0&&(t=e,e=al);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function cW(e){return function(){return e}}function nh(e){return+e}var L1=[0,1];function On(e){return e}function $0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cW(isNaN(t)?NaN:.5)}function dW(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function fW(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=$0(i,r),a=n(s,a)):(r=$0(r,i),a=n(a,s)),function(u){return a(r(u))}}function hW(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=$0(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(u){var c=dc(e,u,1,r)-1;return a[c](i[c](u))}}function hc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function im(){var e=L1,t=L1,n=al,r,i,a,s=On,u,c,d;function h(){var g=Math.min(e.length,t.length);return s!==On&&(s=dW(e[0],e[g-1])),u=g>2?hW:fW,c=d=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=u(e.map(r),t,n)))(r(s(g)))}return m.invert=function(g){return s(i((d||(d=u(t,e.map(r),th)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,nh),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=sx,h()},m.clamp=function(g){return arguments.length?(s=g?!0:On,h()):s!==On},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,x){return r=g,i=x,h()}}function lx(){return im()(On,On)}function mW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vs(e){return e=rh(Math.abs(e)),e?e[1]:NaN}function pW(e,t){return function(n,r){for(var i=n.length,a=[],s=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[s=(s+1)%e.length];return a.reverse().join(t)}}function gW(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var yW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zu(e){if(!(t=yW.exec(e)))throw new Error("invalid format: "+e);var t;return new ux({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zu.prototype=ux.prototype;function ux(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ux.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vW(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var nR;function bW(e,t){var n=rh(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(nR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+rh(e,Math.max(0,t+a-1))[0]}function j1(e,t){var n=rh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const U1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j1(e*100,t),r:j1,s:bW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function B1(e){return e}var q1=Array.prototype.map,$1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xW(e){var t=e.grouping===void 0||e.thousands===void 0?B1:pW(q1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?B1:gW(q1.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=zu(m);var g=m.fill,x=m.align,A=m.sign,E=m.symbol,_=m.zero,C=m.width,I=m.comma,D=m.precision,k=m.trim,P=m.type;P==="n"?(I=!0,P="g"):U1[P]||(D===void 0&&(D=12),k=!0,P="g"),(_||g==="0"&&x==="=")&&(_=!0,g="0",x="=");var R=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",M=E==="$"?r:/[%p]/.test(P)?s:"",z=U1[P],B=/[defgprs%]/.test(P);D=D===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function $(W){var Y=R,K=M,G,ne,U;if(P==="c")K=z(W)+K,W="";else{W=+W;var te=W<0||1/W<0;if(W=isNaN(W)?c:z(Math.abs(W),D),k&&(W=vW(W)),te&&+W==0&&A!=="+"&&(te=!1),Y=(te?A==="("?A:u:A==="-"||A==="("?"":A)+Y,K=(P==="s"?$1[8+nR/3]:"")+K+(te&&A==="("?")":""),B){for(G=-1,ne=W.length;++G<ne;)if(U=W.charCodeAt(G),48>U||U>57){K=(U===46?i+W.slice(G+1):W.slice(G))+K,W=W.slice(0,G);break}}}I&&!_&&(W=t(W,1/0));var ce=Y.length+W.length+K.length,fe=ce<C?new Array(C-ce+1).join(g):"";switch(I&&_&&(W=t(fe+W,fe.length?C-K.length:1/0),fe=""),x){case"<":W=Y+W+K+fe;break;case"=":W=Y+fe+W+K;break;case"^":W=fe.slice(0,ce=fe.length>>1)+Y+W+K+fe.slice(ce);break;default:W=fe+Y+W+K;break}return a(W)}return $.toString=function(){return m+""},$}function h(m,g){var x=d((m=zu(m),m.type="f",m)),A=Math.max(-8,Math.min(8,Math.floor(Vs(g)/3)))*3,E=Math.pow(10,-A),_=$1[8+A/3];return function(C){return x(E*C)+_}}return{format:d,formatPrefix:h}}var Zd,cx,rR;wW({thousands:",",grouping:[3],currency:["$",""]});function wW(e){return Zd=xW(e),cx=Zd.format,rR=Zd.formatPrefix,Zd}function SW(e){return Math.max(0,-Vs(Math.abs(e)))}function EW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function AW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}function iR(e,t,n,r){var i=M9(e,t,n),a;switch(r=zu(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=EW(i,s))&&(r.precision=a),rR(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=AW(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=SW(i))&&(r.precision=a-(r.type==="%")*2);break}}return cx(r)}function Ba(e){var t=e.domain;return e.ticks=function(n){var r=t();return L0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return iR(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],u=r[a],c,d,h=10;for(u<s&&(d=s,s=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=j0(s,u,n),d===c)return r[i]=s,r[a]=u,t(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function aR(){var e=lx();return e.copy=function(){return hc(e,aR())},Rr.apply(e,arguments),Ba(e)}function oR(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,nh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return oR(e).unknown(t)},e=arguments.length?Array.from(e,nh):[0,1],Ba(n)}function sR(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function G1(e){return Math.log(e)}function z1(e){return Math.exp(e)}function _W(e){return-Math.log(-e)}function TW(e){return-Math.exp(-e)}function CW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NW(e){return e===10?CW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function H1(e){return(t,n)=>-e(-t,n)}function dx(e){const t=e(G1,z1),n=t.domain;let r=10,i,a;function s(){return i=DW(r),a=NW(r),n()[0]<0?(i=H1(i),a=H1(a),e(_W,TW)):e(G1,z1),t}return t.base=function(u){return arguments.length?(r=+u,s()):r},t.domain=function(u){return arguments.length?(n(u),s()):n()},t.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=i(d),x=i(h),A,E;const _=u==null?10:+u;let C=[];if(!(r%1)&&x-g<_){if(g=Math.floor(g),x=Math.ceil(x),d>0){for(;g<=x;++g)for(A=1;A<r;++A)if(E=g<0?A/a(-g):A*a(g),!(E<d)){if(E>h)break;C.push(E)}}else for(;g<=x;++g)for(A=r-1;A>=1;--A)if(E=g>0?A/a(-g):A*a(g),!(E<d)){if(E>h)break;C.push(E)}C.length*2<_&&(C=L0(d,h,_))}else C=L0(g,x,Math.min(x-g,_)).map(a);return m?C.reverse():C},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=zu(c)).precision==null&&(c.trim=!0),c=cx(c)),u===1/0)return c;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},t.nice=()=>n(sR(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function lR(){const e=dx(im()).domain([1,10]);return e.copy=()=>hc(e,lR()).base(e.base()),Rr.apply(e,arguments),e}function F1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function V1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fx(e){var t=1,n=e(F1(t),V1(t));return n.constant=function(r){return arguments.length?e(F1(t=+r),V1(t)):t},Ba(n)}function uR(){var e=fx(im());return e.copy=function(){return hc(e,uR()).constant(e.constant())},Rr.apply(e,arguments)}function W1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PW(e){return e<0?-e*e:e*e}function hx(e){var t=e(On,On),n=1;function r(){return n===1?e(On,On):n===.5?e(IW,PW):e(W1(n),W1(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ba(t)}function mx(){var e=hx(im());return e.copy=function(){return hc(e,mx()).exponent(e.exponent())},Rr.apply(e,arguments),e}function kW(){return mx.apply(null,arguments).exponent(.5)}function Y1(e){return Math.sign(e)*e*e}function OW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cR(){var e=lx(),t=[0,1],n=!1,r;function i(a){var s=OW(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(Y1(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,nh)).map(Y1)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cR(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),Ba(i)}function dR(){var e=[],t=[],n=[],r;function i(){var s=0,u=Math.max(1,t.length);for(n=new Array(u-1);++s<u;)n[s-1]=j9(e,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:t[dc(n,s)]}return a.invertExtent=function(s){var u=t.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let u of s)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ia),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return dR().domain(e).range(t).unknown(r)},Rr.apply(a,arguments)}function fR(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[dc(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return fR().domain([e,t]).range(i).unknown(a)},Rr.apply(Ba(s),arguments)}function hR(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[dc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hR().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const mv=new Date,pv=new Date;function Jt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let d;do c.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<s);return c},i.filter=a=>Jt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!a(s););else for(;--u>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(mv.setTime(+a),pv.setTime(+s),e(mv),e(pv),Math.floor(n(mv,pv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ih=Jt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ih);ih.range;const Oi=1e3,Tr=Oi*60,Ri=Tr*60,qi=Ri*24,px=qi*7,K1=qi*30,gv=qi*365,xo=Jt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCSeconds());xo.range;const gx=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());gx.range;const yx=Jt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());yx.range;const vx=Jt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getHours());vx.range;const bx=Jt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCHours());bx.range;const mc=Jt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/qi,e=>e.getDate()-1);mc.range;const am=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qi,e=>e.getUTCDate()-1);am.range;const mR=Jt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qi,e=>Math.floor(e/qi));mR.range;function Mo(e){return Jt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/px)}const om=Mo(0),ah=Mo(1),RW=Mo(2),MW=Mo(3),Ws=Mo(4),LW=Mo(5),jW=Mo(6);om.range;ah.range;RW.range;MW.range;Ws.range;LW.range;jW.range;function Lo(e){return Jt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/px)}const sm=Lo(0),oh=Lo(1),UW=Lo(2),BW=Lo(3),Ys=Lo(4),qW=Lo(5),$W=Lo(6);sm.range;oh.range;UW.range;BW.range;Ys.range;qW.range;$W.range;const xx=Jt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xx.range;const wx=Jt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wx.range;const $i=Jt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$i.range;const Gi=Jt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gi.range;function yv(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zW(e){let t,n,r;e.length!==2?(t=yv,n=(u,c)=>yv(e(u),c),r=(u,c)=>e(u)-c):(t=e===yv||e===GW?e:HW,n=e,r=e);function i(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function a(u,c,d=0,h=u.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function HW(){return 0}const FW=Math.sqrt(50),VW=Math.sqrt(10),WW=Math.sqrt(2);function pR(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=FW?10:a>=VW?5:a>=WW?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(e*d),c=Math.round(t*d),u/d<e&&++u,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*s,u=Math.round(e/d),c=Math.round(t/d),u*d<e&&++u,c*d>t&&--c),c<u&&.5<=n&&n<2?pR(e,t,n*2):[u,c,d]}function J1(e,t,n){return t=+t,e=+e,n=+n,pR(e,t,n)[2]}function X1(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?J1(t,e,n):J1(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function gR(e,t,n,r,i,a){const s=[[xo,1,Oi],[xo,5,5*Oi],[xo,15,15*Oi],[xo,30,30*Oi],[a,1,Tr],[a,5,5*Tr],[a,15,15*Tr],[a,30,30*Tr],[i,1,Ri],[i,3,3*Ri],[i,6,6*Ri],[i,12,12*Ri],[r,1,qi],[r,2,2*qi],[n,1,px],[t,1,K1],[t,3,3*K1],[e,1,gv]];function u(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const x=m&&typeof m.range=="function"?m:c(d,h,m),A=x?x.range(d,+h+1):[];return g?A.reverse():A}function c(d,h,m){const g=Math.abs(h-d)/m,x=zW(([,,_])=>_).right(s,g);if(x===s.length)return e.every(X1(d/gv,h/gv,m));if(x===0)return ih.every(Math.max(X1(d,h,m),1));const[A,E]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return A.every(E)}return[u,c]}const[YW,KW]=gR(Gi,wx,sm,mR,bx,yx),[JW,XW]=gR($i,xx,om,mc,vx,gx);function vv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function QW(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,u=e.months,c=e.shortMonths,d=vu(i),h=bu(i),m=vu(a),g=bu(a),x=vu(s),A=bu(s),E=vu(u),_=bu(u),C=vu(c),I=bu(c),D={a:te,A:ce,b:fe,B:Ie,c:null,d:rD,e:rD,f:wY,g:PY,G:OY,H:vY,I:bY,j:xY,L:yR,m:SY,M:EY,p:j,q:ae,Q:oD,s:sD,S:AY,u:_Y,U:TY,V:CY,w:NY,W:DY,x:null,X:null,y:IY,Y:kY,Z:RY,"%":aD},k={a:me,A:ge,b:Te,B:Re,c:null,d:iD,e:iD,f:UY,g:YY,G:JY,H:MY,I:LY,j:jY,L:bR,m:BY,M:qY,p:ke,q:At,Q:oD,s:sD,S:$Y,u:GY,U:zY,V:HY,w:FY,W:VY,x:null,X:null,y:WY,Y:KY,Z:XY,"%":aD},P={a:$,A:W,b:Y,B:K,c:G,d:tD,e:tD,f:mY,g:eD,G:Z1,H:nD,I:nD,j:cY,L:hY,m:uY,M:dY,p:B,q:lY,Q:gY,s:yY,S:fY,u:rY,U:iY,V:aY,w:nY,W:oY,x:ne,X:U,y:eD,Y:Z1,Z:sY,"%":pY};D.x=R(n,D),D.X=R(r,D),D.c=R(t,D),k.x=R(n,k),k.X=R(r,k),k.c=R(t,k);function R(oe,Le){return function($e){var de=[],mt=-1,Ge=0,Lt=oe.length,Ft,cr,za;for($e instanceof Date||($e=new Date(+$e));++mt<Lt;)oe.charCodeAt(mt)===37&&(de.push(oe.slice(Ge,mt)),(cr=Q1[Ft=oe.charAt(++mt)])!=null?Ft=oe.charAt(++mt):cr=Ft==="e"?" ":"0",(za=Le[Ft])&&(Ft=za($e,cr)),de.push(Ft),Ge=mt+1);return de.push(oe.slice(Ge,mt)),de.join("")}}function M(oe,Le){return function($e){var de=yu(1900,void 0,1),mt=z(de,oe,$e+="",0),Ge,Lt;if(mt!=$e.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Le&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ge=bv(yu(de.y,0,1)),Lt=Ge.getUTCDay(),Ge=Lt>4||Lt===0?oh.ceil(Ge):oh(Ge),Ge=am.offset(Ge,(de.V-1)*7),de.y=Ge.getUTCFullYear(),de.m=Ge.getUTCMonth(),de.d=Ge.getUTCDate()+(de.w+6)%7):(Ge=vv(yu(de.y,0,1)),Lt=Ge.getDay(),Ge=Lt>4||Lt===0?ah.ceil(Ge):ah(Ge),Ge=mc.offset(Ge,(de.V-1)*7),de.y=Ge.getFullYear(),de.m=Ge.getMonth(),de.d=Ge.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Lt="Z"in de?bv(yu(de.y,0,1)).getUTCDay():vv(yu(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Lt+5)%7:de.w+de.U*7-(Lt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,bv(de)):vv(de)}}function z(oe,Le,$e,de){for(var mt=0,Ge=Le.length,Lt=$e.length,Ft,cr;mt<Ge;){if(de>=Lt)return-1;if(Ft=Le.charCodeAt(mt++),Ft===37){if(Ft=Le.charAt(mt++),cr=P[Ft in Q1?Le.charAt(mt++):Ft],!cr||(de=cr(oe,$e,de))<0)return-1}else if(Ft!=$e.charCodeAt(de++))return-1}return de}function B(oe,Le,$e){var de=d.exec(Le.slice($e));return de?(oe.p=h.get(de[0].toLowerCase()),$e+de[0].length):-1}function $(oe,Le,$e){var de=x.exec(Le.slice($e));return de?(oe.w=A.get(de[0].toLowerCase()),$e+de[0].length):-1}function W(oe,Le,$e){var de=m.exec(Le.slice($e));return de?(oe.w=g.get(de[0].toLowerCase()),$e+de[0].length):-1}function Y(oe,Le,$e){var de=C.exec(Le.slice($e));return de?(oe.m=I.get(de[0].toLowerCase()),$e+de[0].length):-1}function K(oe,Le,$e){var de=E.exec(Le.slice($e));return de?(oe.m=_.get(de[0].toLowerCase()),$e+de[0].length):-1}function G(oe,Le,$e){return z(oe,t,Le,$e)}function ne(oe,Le,$e){return z(oe,n,Le,$e)}function U(oe,Le,$e){return z(oe,r,Le,$e)}function te(oe){return s[oe.getDay()]}function ce(oe){return a[oe.getDay()]}function fe(oe){return c[oe.getMonth()]}function Ie(oe){return u[oe.getMonth()]}function j(oe){return i[+(oe.getHours()>=12)]}function ae(oe){return 1+~~(oe.getMonth()/3)}function me(oe){return s[oe.getUTCDay()]}function ge(oe){return a[oe.getUTCDay()]}function Te(oe){return c[oe.getUTCMonth()]}function Re(oe){return u[oe.getUTCMonth()]}function ke(oe){return i[+(oe.getUTCHours()>=12)]}function At(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Le=R(oe+="",D);return Le.toString=function(){return oe},Le},parse:function(oe){var Le=M(oe+="",!1);return Le.toString=function(){return oe},Le},utcFormat:function(oe){var Le=R(oe+="",k);return Le.toString=function(){return oe},Le},utcParse:function(oe){var Le=M(oe+="",!0);return Le.toString=function(){return oe},Le}}}var Q1={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,ZW=/^%/,eY=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function tY(e){return e.replace(eY,"\\$&")}function vu(e){return new RegExp("^(?:"+e.map(tY).join("|")+")","i")}function bu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nY(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Z1(e,t,n){var r=dn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function eD(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lY(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uY(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tD(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function nD(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dY(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hY(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mY(e,t,n){var r=dn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pY(e,t,n){var r=ZW.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gY(e,t,n){var r=dn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yY(e,t,n){var r=dn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function rD(e,t){return Qe(e.getDate(),t,2)}function vY(e,t){return Qe(e.getHours(),t,2)}function bY(e,t){return Qe(e.getHours()%12||12,t,2)}function xY(e,t){return Qe(1+mc.count($i(e),e),t,3)}function yR(e,t){return Qe(e.getMilliseconds(),t,3)}function wY(e,t){return yR(e,t)+"000"}function SY(e,t){return Qe(e.getMonth()+1,t,2)}function EY(e,t){return Qe(e.getMinutes(),t,2)}function AY(e,t){return Qe(e.getSeconds(),t,2)}function _Y(e){var t=e.getDay();return t===0?7:t}function TY(e,t){return Qe(om.count($i(e)-1,e),t,2)}function vR(e){var t=e.getDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function CY(e,t){return e=vR(e),Qe(Ws.count($i(e),e)+($i(e).getDay()===4),t,2)}function NY(e){return e.getDay()}function DY(e,t){return Qe(ah.count($i(e)-1,e),t,2)}function IY(e,t){return Qe(e.getFullYear()%100,t,2)}function PY(e,t){return e=vR(e),Qe(e.getFullYear()%100,t,2)}function kY(e,t){return Qe(e.getFullYear()%1e4,t,4)}function OY(e,t){var n=e.getDay();return e=n>=4||n===0?Ws(e):Ws.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function RY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function iD(e,t){return Qe(e.getUTCDate(),t,2)}function MY(e,t){return Qe(e.getUTCHours(),t,2)}function LY(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function jY(e,t){return Qe(1+am.count(Gi(e),e),t,3)}function bR(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function UY(e,t){return bR(e,t)+"000"}function BY(e,t){return Qe(e.getUTCMonth()+1,t,2)}function qY(e,t){return Qe(e.getUTCMinutes(),t,2)}function $Y(e,t){return Qe(e.getUTCSeconds(),t,2)}function GY(e){var t=e.getUTCDay();return t===0?7:t}function zY(e,t){return Qe(sm.count(Gi(e)-1,e),t,2)}function xR(e){var t=e.getUTCDay();return t>=4||t===0?Ys(e):Ys.ceil(e)}function HY(e,t){return e=xR(e),Qe(Ys.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function FY(e){return e.getUTCDay()}function VY(e,t){return Qe(oh.count(Gi(e)-1,e),t,2)}function WY(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function YY(e,t){return e=xR(e),Qe(e.getUTCFullYear()%100,t,2)}function KY(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function JY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ys(e):Ys.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function XY(){return"+0000"}function aD(){return"%"}function oD(e){return+e}function sD(e){return Math.floor(+e/1e3)}var Ss,wR,SR;QY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QY(e){return Ss=QW(e),wR=Ss.format,Ss.parse,SR=Ss.utcFormat,Ss.utcParse,Ss}function ZY(e){return new Date(e)}function eK(e){return e instanceof Date?+e:+new Date(+e)}function Sx(e,t,n,r,i,a,s,u,c,d){var h=lx(),m=h.invert,g=h.domain,x=d(".%L"),A=d(":%S"),E=d("%I:%M"),_=d("%I %p"),C=d("%a %d"),I=d("%b %d"),D=d("%B"),k=d("%Y");function P(R){return(c(R)<R?x:u(R)<R?A:s(R)<R?E:a(R)<R?_:r(R)<R?i(R)<R?C:I:n(R)<R?D:k)(R)}return h.invert=function(R){return new Date(m(R))},h.domain=function(R){return arguments.length?g(Array.from(R,eK)):g().map(ZY)},h.ticks=function(R){var M=g();return e(M[0],M[M.length-1],R??10)},h.tickFormat=function(R,M){return M==null?P:d(M)},h.nice=function(R){var M=g();return(!R||typeof R.range!="function")&&(R=t(M[0],M[M.length-1],R??10)),R?g(sR(M,R)):h},h.copy=function(){return hc(h,Sx(e,t,n,r,i,a,s,u,c,d))},h}function tK(){return Rr.apply(Sx(JW,XW,$i,xx,om,mc,vx,gx,xo,wR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nK(){return Rr.apply(Sx(YW,KW,Gi,wx,sm,am,bx,yx,xo,SR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lm(){var e=0,t=1,n,r,i,a,s=On,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(g){var x,A;return arguments.length?([x,A]=g,s=m(x,A),d):[s(0),s(1)]}}return d.range=h(al),d.rangeRound=h(sx),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ER(){var e=Ba(lm()(On));return e.copy=function(){return qa(e,ER())},Ji.apply(e,arguments)}function AR(){var e=dx(lm()).domain([1,10]);return e.copy=function(){return qa(e,AR()).base(e.base())},Ji.apply(e,arguments)}function _R(){var e=fx(lm());return e.copy=function(){return qa(e,_R()).constant(e.constant())},Ji.apply(e,arguments)}function Ex(){var e=hx(lm());return e.copy=function(){return qa(e,Ex()).exponent(e.exponent())},Ji.apply(e,arguments)}function rK(){return Ex.apply(null,arguments).exponent(.5)}function TR(){var e=[],t=On;function n(r){if(r!=null&&!isNaN(r=+r))return t((dc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ia),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>L9(e,a/r))},n.copy=function(){return TR(t).domain(e)},Ji.apply(n,arguments)}function um(){var e=0,t=.5,n=1,r=1,i,a,s,u,c,d=On,h,m=!1,g;function x(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:c),d(m?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),a=h(t=+t),s=h(n=+n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(E){return arguments.length?(m=!!E,x):m},x.interpolator=function(E){return arguments.length?(d=E,x):d};function A(E){return function(_){var C,I,D;return arguments.length?([C,I,D]=_,d=uW(E,[C,I,D]),x):[d(0),d(.5),d(1)]}}return x.range=A(al),x.rangeRound=A(sx),x.unknown=function(E){return arguments.length?(g=E,x):g},function(E){return h=E,i=E(e),a=E(t),s=E(n),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,x}}function CR(){var e=Ba(um()(On));return e.copy=function(){return qa(e,CR())},Ji.apply(e,arguments)}function NR(){var e=dx(um()).domain([.1,1,10]);return e.copy=function(){return qa(e,NR()).base(e.base())},Ji.apply(e,arguments)}function DR(){var e=fx(um());return e.copy=function(){return qa(e,DR()).constant(e.constant())},Ji.apply(e,arguments)}function Ax(){var e=hx(um());return e.copy=function(){return qa(e,Ax()).exponent(e.exponent())},Ji.apply(e,arguments)}function iK(){return Ax.apply(null,arguments).exponent(.5)}const _u=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ix,scaleDiverging:CR,scaleDivergingLog:NR,scaleDivergingPow:Ax,scaleDivergingSqrt:iK,scaleDivergingSymlog:DR,scaleIdentity:oR,scaleImplicit:U0,scaleLinear:aR,scaleLog:lR,scaleOrdinal:rx,scalePoint:B9,scalePow:mx,scaleQuantile:dR,scaleQuantize:fR,scaleRadial:cR,scaleSequential:ER,scaleSequentialLog:AR,scaleSequentialPow:Ex,scaleSequentialQuantile:TR,scaleSequentialSqrt:rK,scaleSequentialSymlog:_R,scaleSqrt:kW,scaleSymlog:uR,scaleThreshold:hR,scaleTime:tK,scaleUtc:nK,tickFormat:iR},Symbol.toStringTag,{value:"Module"}));var $a=e=>e.chartData,aK=re([$a],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cm=(e,t,n,r)=>r?aK(e):$a(e);function Oa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Mt(t)&&Mt(n))return!0}return!1}function lD(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function IR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Mt(n))i=n;else if(typeof n=="function")return;if(Mt(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Oa(s))return s}}function oK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Oa(r))return lD(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,u;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Ee(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&BN.test(i)){var c=BN.exec(i);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[0]-d}}else s=t?.[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(Ee(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t?.[1]))}catch{}else if(typeof a=="string"&&qN.test(a)){var h=qN.exec(a);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t?.[1];var g=[s,u];if(Oa(g))return t==null?g:lD(g,t,n)}}}var ol=1e9,sK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tx,St=!0,kr="[DecimalError] ",To=kr+"Invalid argument: ",_x=kr+"Exponent out of range: ",sl=Math.floor,ho=Math.pow,lK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,on=1e7,vt=7,PR=9007199254740991,sh=sl(PR/vt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*vt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(e){return Mi(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,n=t.constructor;return dt(Mi(t,new n(e),0,1),n.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Ht(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(nr))throw Error(kr+"NaN");if(n.s<1)throw Error(kr+(n.s?"NaN":"-Infinity"));return n.eq(nr)?new r(0):(St=!1,t=Mi(Hu(n,a),Hu(e,a),a),St=!0,dt(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RR(t,e):kR(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(kr+"NaN");return n.s?(St=!1,t=Mi(n,e,0,1).times(e),St=!0,n.minus(t)):dt(new r(n),i)};be.naturalExponential=be.exp=function(){return OR(this)};be.naturalLogarithm=be.ln=function(){return Hu(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kR(t,e):RR(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(To+e);if(t=Ht(i)+1,r=i.d.length-1,n=r*vt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};be.squareRoot=be.sqrt=function(){var e,t,n,r,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(kr+"NaN")}for(e=Ht(u),St=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=si(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=sl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(Mi(u,a,s+2)).times(.5),si(a.d).slice(0,s)===(t=si(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(dt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;s+=4}return St=!0,dt(r,n)};be.times=be.mul=function(e){var t,n,r,i,a,s,u,c,d,h=this,m=h.constructor,g=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,c=g.length,d=x.length,c<d&&(a=g,g=x,x=a,s=c,c=d,d=s),a=[],s=c+d,r=s;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=c+r;i>r;)u=a[i]+x[r]*g[i-r-1]+t,a[i--]=u%on|0,t=u/on|0;a[i]=(a[i]+t)%on|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,St?dt(e,m.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(di(e,0,ol),t===void 0?t=r.rounding:di(t,0,8),dt(n,e+Ht(n)+1,t))};be.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Do(r,!0):(di(e,0,ol),t===void 0?t=i.rounding:di(t,0,8),r=dt(new i(r),e+1,t),n=Do(r,!0,e+1)),n};be.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Do(i):(di(e,0,ol),t===void 0?t=a.rounding:di(t,0,8),r=dt(new a(i),e+Ht(i)+1,t),n=Do(r.abs(),!1,e+Ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Ht(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,n,r,i,a,s,u=this,c=u.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(nr);if(u=new c(u),!u.s){if(e.s<1)throw Error(kr+"Infinity");return u}if(u.eq(nr))return u;if(r=c.precision,e.eq(nr))return dt(u,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=u.s,s){if((n=h<0?-h:h)<=PR){for(i=new c(nr),t=Math.ceil(r/vt+4),St=!1;n%2&&(i=i.times(u),cD(i.d,t)),n=sl(n/2),n!==0;)u=u.times(u),cD(u.d,t);return St=!0,e.s<0?new c(nr).div(i):dt(i,r)}}else if(a<0)throw Error(kr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,St=!1,i=e.times(Hu(u,r+d)),St=!0,i=OR(i),i.s=a,i};be.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ht(i),r=Do(i,n<=a.toExpNeg||n>=a.toExpPos)):(di(e,1,ol),t===void 0?t=a.rounding:di(t,0,8),i=dt(new a(i),e,t),n=Ht(i),r=Do(i,e<=n||n<=a.toExpNeg,e)),r};be.toSignificantDigits=be.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(di(e,1,ol),t===void 0?t=r.rounding:di(t,0,8)),dt(new r(n),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ht(e),n=e.constructor;return Do(e,t<=n.toExpNeg||t>=n.toExpPos)};function kR(e,t){var n,r,i,a,s,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),St?dt(t,m):t;if(c=e.d,d=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,u=d.length):(r=d,i=s,u=c.length),s=Math.ceil(m/vt),u=s>u?s+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,r=d,d=c,c=r),n=0;a;)n=(c[--a]=c[a]+d[a]+n)/on|0,c[a]%=on;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,St?dt(t,m):t}function di(e,t,n){if(e!==~~e||e<t||e>n)throw Error(To+e)}function si(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=vt-r.length,n&&(a+=_a(n)),a+=r;s=e[t],r=s+"",n=vt-r.length,n&&(a+=_a(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Mi=(function(){function e(r,i){var a,s=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+s,r[u]=a%on|0,s=a/on|0;return s&&r.unshift(s),r}function t(r,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*on+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var u,c,d,h,m,g,x,A,E,_,C,I,D,k,P,R,M,z,B=r.constructor,$=r.s==i.s?1:-1,W=r.d,Y=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(kr+"Division by zero");for(c=r.e-i.e,M=Y.length,P=W.length,x=new B($),A=x.d=[],d=0;Y[d]==(W[d]||0);)++d;if(Y[d]>(W[d]||0)&&--c,a==null?I=a=B.precision:s?I=a+(Ht(r)-Ht(i))+1:I=a,I<0)return new B(0);if(I=I/vt+2|0,d=0,M==1)for(h=0,Y=Y[0],I++;(d<P||h)&&I--;d++)D=h*on+(W[d]||0),A[d]=D/Y|0,h=D%Y|0;else{for(h=on/(Y[0]+1)|0,h>1&&(Y=e(Y,h),W=e(W,h),M=Y.length,P=W.length),k=M,E=W.slice(0,M),_=E.length;_<M;)E[_++]=0;z=Y.slice(),z.unshift(0),R=Y[0],Y[1]>=on/2&&++R;do h=0,u=t(Y,E,M,_),u<0?(C=E[0],M!=_&&(C=C*on+(E[1]||0)),h=C/R|0,h>1?(h>=on&&(h=on-1),m=e(Y,h),g=m.length,_=E.length,u=t(m,E,g,_),u==1&&(h--,n(m,M<g?z:Y,g))):(h==0&&(u=h=1),m=Y.slice()),g=m.length,g<_&&m.unshift(0),n(E,m,_),u==-1&&(_=E.length,u=t(Y,E,M,_),u<1&&(h++,n(E,M<_?z:Y,_))),_=E.length):u===0&&(h++,E=[0]),A[d++]=h,u&&E[0]?E[_++]=W[k]||0:(E=[W[k]],_=1);while((k++<P||E[0]!==void 0)&&I--)}return A[0]||A.shift(),x.e=c,dt(x,s?a+Ht(x)+1:a)}})();function OR(e,t){var n,r,i,a,s,u,c=0,d=0,h=e.constructor,m=h.precision;if(Ht(e)>16)throw Error(_x+Ht(e));if(!e.s)return new h(nr);for(St=!1,u=m,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(r=Math.log(ho(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(nr),h.precision=u;;){if(i=dt(i.times(e),u),n=n.times(++c),s=a.plus(Mi(i,n,u)),si(s.d).slice(0,u)===si(a.d).slice(0,u)){for(;d--;)a=dt(a.times(a),u);return h.precision=m,t==null?(St=!0,dt(a,m)):a}a=s}}function Ht(e){for(var t=e.e*vt,n=e.d[0];n>=10;n/=10)t++;return t}function xv(e,t,n){if(t>e.LN10.sd())throw St=!0,n&&(e.precision=n),Error(kr+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function _a(e){for(var t="";e--;)t+="0";return t}function Hu(e,t){var n,r,i,a,s,u,c,d,h,m=1,g=10,x=e,A=x.d,E=x.constructor,_=E.precision;if(x.s<1)throw Error(kr+(x.s?"NaN":"-Infinity"));if(x.eq(nr))return new E(0);if(t==null?(St=!1,d=_):d=t,x.eq(10))return t==null&&(St=!0),xv(E,d);if(d+=g,E.precision=d,n=si(A),r=n.charAt(0),a=Ht(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=si(x.d),r=n.charAt(0),m++;a=Ht(x),r>1?(x=new E("0."+n),a++):x=new E(r+"."+n.slice(1))}else return c=xv(E,d+2,_).times(a+""),x=Hu(new E(r+"."+n.slice(1)),d-g).plus(c),E.precision=_,t==null?(St=!0,dt(x,_)):x;for(u=s=x=Mi(x.minus(nr),x.plus(nr),d),h=dt(x.times(x),d),i=3;;){if(s=dt(s.times(h),d),c=u.plus(Mi(s,new E(i),d)),si(c.d).slice(0,d)===si(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(xv(E,d+2,_).times(a+""))),u=Mi(u,new E(m),d),E.precision=_,t==null?(St=!0,dt(u,_)):u;u=c,i+=2}}function uD(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=sl(n/vt),e.d=[],r=(n+1)%vt,n<0&&(r+=vt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=vt;r<i;)e.d.push(+t.slice(r,r+=vt));t=t.slice(r),r=vt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),St&&(e.e>sh||e.e<-sh))throw Error(_x+n)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,n){var r,i,a,s,u,c,d,h,m=e.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=vt,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/vt),a=m.length,h>=a)return e;for(d=a=m[h],s=1;a>=10;a/=10)s++;r%=vt,i=r-vt+s}if(n!==void 0&&(a=ho(10,s-i-1),u=d/a%10|0,c=t<0||m[h+1]!==void 0||d%a,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/ho(10,s-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=Ht(e),m.length=1,t=t-a-1,m[0]=ho(10,(vt-t%vt)%vt),e.e=sl(-t/vt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=ho(10,vt-r),m[h]=i>0?(d/ho(10,s-i)%ho(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==on&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=on)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(St&&(e.e>sh||e.e<-sh))throw Error(_x+Ht(e));return e}function RR(e,t){var n,r,i,a,s,u,c,d,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),St?dt(t,x):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(x/vt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,t.s=-t.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=on-1;--c[a],c[i]+=on}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,St?dt(t,x):t):new g(0)}function Do(e,t,n){var r,i=Ht(e),a=si(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+_a(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_a(-i-1)+a,n&&(r=n-s)>0&&(a+=_a(r))):i>=s?(a+=_a(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+_a(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=_a(r))),e.s<0?"-"+a:a}function cD(e,t){if(e.length>t)return e.length=t,!0}function MR(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(To+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return uD(s,a.toString())}else if(typeof a!="string")throw Error(To+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,lK.test(a))uD(s,a);else throw Error(To+a)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MR,i.config=i.set=uK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function uK(e){if(!e||typeof e!="object")throw Error(kr+"Object expected");var t,n,r,i=["precision",1,ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(sl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(To+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(To+n+": "+r);return this}var Tx=MR(sK);nr=new Tx(1);const it=Tx;var cK=e=>e,LR={},jR=e=>e===LR,dD=e=>function t(){return arguments.length===0||arguments.length===1&&jR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},UR=(e,t)=>e===1?t:dD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==LR).length;return a>=e?t(...r):UR(e-a,dD(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var d=r.map(h=>jR(h)?u.shift():h);return t(...d,...u)}))}),dK=e=>UR(e.length,e),G0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fK=dK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),hK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return cK;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),a(...arguments))}},z0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function BR(e){var t;return e===0?t=1:t=Math.floor(new it(e).abs().log(10).toNumber())+1,t}function qR(e,t,n){for(var r=new it(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var $R=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},GR=(e,t,n)=>{if(e.lte(0))return new it(0);var r=BR(e.toNumber()),i=new it(10).pow(r),a=e.div(i),s=r!==1?.05:.1,u=new it(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return t?new it(c.toNumber()):new it(Math.ceil(c.toNumber()))},mK=(e,t,n)=>{var r=new it(1),i=new it(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new it(10).pow(BR(e)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new it(Math.floor(e)))}else e===0?i=new it(Math.floor((t-1)/2)):n||(i=new it(Math.floor(e)));var s=Math.floor((t-1)/2),u=hK(fK(c=>i.add(new it(c-s).mul(r)).toNumber()),G0);return u(0,t)},zR=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var s=GR(new it(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new it(0):(u=new it(t).add(n).div(2),u=u.sub(new it(u).mod(s)));var c=Math.ceil(u.sub(t).div(s).toNumber()),d=Math.ceil(new it(n).sub(u).div(s).toNumber()),h=c+d+1;return h>r?zR(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new it(c).mul(s)),tickMax:u.add(new it(d).mul(s))})},pK=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=$R([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...G0(0,i-1).map(()=>1/0)]:[...G0(0,i-1).map(()=>-1/0),c];return n>r?z0(d):d}if(u===c)return mK(u,i,a);var{step:h,tickMin:m,tickMax:g}=zR(u,c,s,a,0),x=qR(m,g.add(new it(.1).mul(h)),h);return n>r?z0(x):x},gK=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=$R([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),d=GR(new it(u).sub(s).div(c-1),a,0),h=[...qR(new it(s),new it(u),d),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?z0(h):h},HR=e=>e.rootProps.maxBarSize,yK=e=>e.rootProps.barGap,FR=e=>e.rootProps.barCategoryGap,vK=e=>e.rootProps.barSize,dm=e=>e.rootProps.stackOffset,VR=e=>e.rootProps.reverseStackOrder,Cx=e=>e.options.chartName,Nx=e=>e.rootProps.syncId,WR=e=>e.rootProps.syncMethod,Dx=e=>e.options.eventEmitter,sn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Pi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:Pi.reversed,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:Pi.type,unit:void 0},xK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},wK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pi.scale,tick:Pi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},Ix=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?wK:bK,Px=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SK:xK,hm=e=>e.polarOptions,kx=re([Yi,Ki,cn],u9),YR=re([hm,kx],(e,t)=>{if(e!=null)return Kr(e.innerRadius,t,0)}),KR=re([hm,kx],(e,t)=>{if(e!=null)return Kr(e.outerRadius,t,t*.8)}),EK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},JR=re([hm],EK);re([Ix,JR],fm);var XR=re([kx,YR,KR],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});re([Px,XR],fm);var QR=re([et,hm,YR,KR,Yi,Ki],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:d}=t;return{cx:Kr(s,i,i/2),cy:Kr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Xt=(e,t)=>t,mm=(e,t,n)=>n;function Ox(e){return e?.id}function ZR(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=Ox(u);d.forEach((m,g)=>{var x=a==null||i?g:String(Kt(m,a,null)),A=Kt(m,u.dataKey,0),E;s.has(x)?E=s.get(x):E={},Object.assign(E,{[h]:A}),s.set(x,E)})}}),Array.from(s.values())}function pm(e){return e.stackId!=null&&e.dataKey!=null}var gm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ym(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function AK(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qt=e=>{var t=et(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ll=e=>e.tooltip.settings.axisId;function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(r){_K(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _K(e,t,n){return(t=TK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H0=[0,"auto"],nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},eM=(e,t)=>e.cartesianAxis.xAxis[t],Xi=(e,t)=>{var n=eM(e,t);return n??nn},rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:H0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uc},tM=(e,t)=>e.cartesianAxis.yAxis[t],Qi=(e,t)=>{var n=tM(e,t);return n??rn},NK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Rx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??NK},Mn=(e,t,n)=>{switch(t){case"xAxis":return Xi(e,n);case"yAxis":return Qi(e,n);case"zAxis":return Rx(e,n);case"angleAxis":return Ix(e,n);case"radiusAxis":return Px(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},DK=(e,t,n)=>{switch(t){case"xAxis":return Xi(e,n);case"yAxis":return Qi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pc=(e,t,n)=>{switch(t){case"xAxis":return Xi(e,n);case"yAxis":return Qi(e,n);case"angleAxis":return Ix(e,n);case"radiusAxis":return Px(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},nM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function rM(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var vm=e=>e.graphicalItems.cartesianItems,IK=re([Xt,mm],rM),iM=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),gc=re([vm,Mn,IK],iM,{memoizeOptions:{resultEqualityCheck:ym}}),aM=re([gc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pm)),oM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),PK=re([gc],oM),sM=e=>e.map(t=>t.data).filter(Boolean).flat(1),kK=re([gc],sM,{memoizeOptions:{resultEqualityCheck:ym}}),lM=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Mx=re([kK,cm],lM),uM=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Kt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Kt(i,r)}))):e.map(r=>({value:r})),bm=re([Mx,Mn,gc],uM);function cM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ef(e){if(ui(e)||e instanceof Date){var t=Number(e);if(Mt(t))return t}}function hD(e){if(Array.isArray(e)){var t=[Ef(e[0]),Ef(e[1])];return Oa(t)?t:void 0}var n=Ef(e);if(n!=null)return[n,n]}function zi(e){return e.map(Ef).filter(DH)}function OK(e,t,n){return!n||typeof t!="number"||Yr(t)?[]:n.length?zi(n.flatMap(r=>{var i=Kt(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Mt(a)||!Mt(s)))return[t-a,t+s]})):[]}var Zt=e=>{var t=Qt(e),n=ll(e);return pc(e,t,n)},yc=re([Zt],e=>e?.dataKey),RK=re([aM,cm,Zt],ZR),dM=(e,t,n,r)=>{var i={},a=t.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[u,c]=s,d=r?[...c].reverse():c,h=d.map(Ox);return[u,{stackedData:XV(e,h,n),graphicalItems:d}]}))},F0=re([RK,aM,dm,VR],dM),fM=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=n8(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},MK=re([Mn],e=>e.allowDataOverflow),Lx=e=>{var t;if(e==null||!("domain"in e))return H0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=zi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:H0},hM=re([Mn],Lx),mM=re([hM,MK],IR),LK=re([F0,$a,Xt,mM],fM,{memoizeOptions:{resultEqualityCheck:gm}}),jx=e=>e.errorBars,jK=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>cM(n,r)),uh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),u=Math.max(...a);return[s,u]}},pM=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(C=>cM(i,C)),g=Kt(u,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),x=OK(u,g,m);if(x.length>=2){var A=Math.min(...x),E=Math.max(...x);(a==null||A<a)&&(a=A),(s==null||E>s)&&(s=E)}var _=hD(g);_!=null&&(a=a==null?_[0]:Math.min(a,_[0]),s=s==null?_[1]:Math.max(s,_[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var c=hD(Kt(u,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Mt(a)&&Mt(s))return[a,s]},UK=re([Mx,Mn,PK,jx,Xt],pM,{memoizeOptions:{resultEqualityCheck:gm}});function BK(e){var{value:t}=e;if(ui(t)||t instanceof Date)return t}var qK=(e,t,n)=>{var r=e.map(BK).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Lk(r))?WO(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},gM=e=>e.referenceElements.dots,ul=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),$K=re([gM,Xt,mm],ul),yM=e=>e.referenceElements.areas,GK=re([yM,Xt,mm],ul),vM=e=>e.referenceElements.lines,zK=re([vM,Xt,mm],ul),bM=(e,t)=>{var n=zi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},HK=re($K,Xt,bM),xM=(e,t)=>{var n=zi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},FK=re([GK,Xt],xM);function VK(e){var t;if(e.x!=null)return zi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:zi(n)}function WK(e){var t;if(e.y!=null)return zi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:zi(n)}var wM=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?VK(r):WK(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YK=re([zK,Xt],wM),KK=re(HK,YK,FK,(e,t,n)=>uh(e,n,t)),SM=(e,t,n,r,i,a,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",d=c?uh(r,a,i):uh(a,i);return oK(t,d,e.allowDataOverflow)},JK=re([Mn,hM,mM,LK,UK,KK,et,Xt],SM,{memoizeOptions:{resultEqualityCheck:gm}}),XK=[0,1],EM=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=e,d=Ua(t,a);if(d&&u==null){var h;return WO(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?qK(r,e,d):i==="expand"?XK:s}},Ux=re([Mn,et,Mx,bm,dm,Xt,JK],EM),AM=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(ac(a));return u in _u?u:"point"}}},vc=re([Mn,et,nM,Cx,Xt],AM);function QK(e){if(e!=null){if(e in _u)return _u[e]();var t="scale".concat(ac(e));if(t in _u)return _u[t]()}}function Bx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=QK(t);if(i!=null){var a=i.domain(n).range(r);return VV(a),a}}}var _M=(e,t,n)=>{var r=Lx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Oa(e))return pK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Oa(e))return gK(e,t.tickCount,t.allowDecimals)}},qx=re([Ux,pc,vc],_M),TM=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Oa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],u=n[n.length-1];return[Math.min(i,a),Math.max(s,u)]}return t},ZK=re([Mn,Ux,qx,Xt],TM),eJ=re(bm,Mn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(zi(e.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),CM=re(eJ,et,FR,cn,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Mt(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Kr(n,e*a),u=e*a/2;return u-s-(u-s)/a*s}return 0}),tJ=(e,t)=>{var n=Xi(e,t);return n==null||typeof n.padding!="string"?0:CM(e,"xAxis",t,n.padding)},nJ=(e,t)=>{var n=Qi(e,t);return n==null||typeof n.padding!="string"?0:CM(e,"yAxis",t,n.padding)},rJ=re(Xi,tJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),iJ=re(Qi,nJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),aJ=re([cn,rJ,Zh,Qh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),oJ=re([cn,et,iJ,Zh,Qh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return aJ(e,n,r);case"yAxis":return oJ(e,n,r);case"zAxis":return(i=Rx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return JR(e);case"radiusAxis":return XR(e,n);default:return}},NM=re([Mn,bc],fm),cl=re([Mn,vc,ZK,NM],Bx);re([gc,jx,Xt],jK);function DM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xm=(e,t)=>t,wm=(e,t,n)=>n,sJ=re(Jh,xm,wm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(DM)),lJ=re(Xh,xm,wm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(DM)),IM=(e,t)=>({width:e.width,height:t.height}),uJ=(e,t)=>{var n=typeof t.width=="number"?t.width:uc;return{width:n,height:e.height}},PM=re(cn,Xi,IM),cJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fJ=re(Ki,cn,sJ,xm,wm,(e,t,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=IM(t,u);s==null&&(s=cJ(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),hJ=re(Yi,cn,lJ,xm,wm,(e,t,n,r,i)=>{var a={},s;return n.forEach(u=>{var c=uJ(t,u);s==null&&(s=dJ(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),mJ=(e,t)=>{var n=Xi(e,t);if(n!=null)return fJ(e,n.orientation,n.mirror)},pJ=re([cn,Xi,mJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),gJ=(e,t)=>{var n=Qi(e,t);if(n!=null)return hJ(e,n.orientation,n.mirror)},yJ=re([cn,Qi,gJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),kM=re(cn,Qi,(e,t)=>{var n=typeof t.width=="number"?t.width:uc;return{width:n,height:e.height}}),mD=(e,t,n)=>{switch(t){case"xAxis":return PM(e,n).width;case"yAxis":return kM(e,n).height;default:return}},OM=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,u=Ua(e,r),c=t.map(d=>d.value);if(s&&u&&a==="category"&&i&&Lk(c))return c}},$x=re([et,bm,Mn,Xt],OM),RM=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Ua(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},Gx=re([et,bm,pc,Xt],RM),pD=re([et,DK,vc,cl,$x,Gx,bc,qx,Xt],(e,t,n,r,i,a,s,u,c)=>{if(t!=null){var d=Ua(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:s,realScaleType:n,scale:r}}}),vJ=(e,t,n,r,i,a,s,u,c)=>{if(!(t==null||r==null)){var d=Ua(e,c),{type:h,ticks:m,tickCount:g}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=h==="category"&&r.bandwidth?r.bandwidth()/x:0;A=c==="angleAxis"&&a!=null&&a.length>=2?Hn(a[0]-a[1])*2*A:A;var E=m||i;if(E){var _=E.map((C,I)=>{var D=s?s.indexOf(C):C;return{index:I,coordinate:r(D)+A,value:C,offset:A}});return _.filter(C=>Mt(C.coordinate))}return d&&u?u.map((C,I)=>({coordinate:r(C)+A,value:C,index:I,offset:A})).filter(C=>Mt(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+A,value:C,offset:A})):r.domain().map((C,I)=>({coordinate:r(C)+A,value:s?s[C]:C,index:I,offset:A}))}},MM=re([et,pc,vc,cl,qx,bc,$x,Gx,Xt],vJ),bJ=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Ua(e,s),{tickCount:c}=t,d=0;return d=s==="angleAxis"&&r?.length>=2?Hn(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},Ra=re([et,pc,cl,bc,$x,Gx,Xt],bJ),Ma=re(Mn,cl,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})}),xJ=re([Mn,vc,Ux,NM],Bx);re((e,t,n)=>Rx(e,n),xJ,(e,t)=>{if(!(e==null||t==null))return lh(lh({},e),{},{scale:t})});var wJ=re([et,Jh,Xh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LM=e=>e.options.defaultTooltipEventType,jM=e=>e.options.validateTooltipEventTypes;function UM(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function zx(e,t){var n=LM(e),r=jM(e);return UM(t,n,r)}function SJ(e){return Ae(t=>zx(t,e))}var BM=(e,t)=>{var n,r=Number(t);if(!(Yr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},EJ=e=>e.tooltip.settings,Ca={active:!1,index:null,dataKey:void 0,coordinate:void 0},AJ={itemInteraction:{click:Ca,hover:Ca},axisInteraction:{click:Ca,hover:Ca},keyboardInteraction:Ca,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qM=Vn({name:"tooltip",initialState:AJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:wt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Vr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:wt()},removeTooltipEntrySettings:{reducer(e,t){var n=Vr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:wt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_J,replaceTooltipEntrySettings:TJ,removeTooltipEntrySettings:CJ,setTooltipSettingsState:NJ,setActiveMouseOverItemIndex:$M,mouseLeaveItem:DJ,mouseLeaveChart:GM,setActiveClickItemIndex:IJ,setMouseOverAxisIndex:zM,setMouseClickAxisIndex:PJ,setSyncInteraction:V0,setKeyboardInteraction:W0}=qM.actions,kJ=qM.reducer;function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){OJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OJ(e,t,n){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jJ(e){return e.index!=null}var HM=(e,t,n,r)=>{if(t==null)return Ca;var i=LJ(e,t,n);if(i==null)return Ca;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(jJ(i)){if(a)return ef(ef({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ef(ef({},Ca),{},{coordinate:i.coordinate})};function UJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function BJ(e,t){var n=UJ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function qJ(e,t,n){if(n==null||t==null)return!0;var r=Kt(e,t);return r==null||!Oa(n)?!0:BJ(r,n)}var Hx=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Mt(a))return i;var s=0,u=1/0;t.length>0&&(u=t.length-1);var c=Math.max(s,Math.min(a,u)),d=t[c];return d==null||qJ(d,n,r)?String(c):null},FM=(e,t,n,r,i,a,s,u)=>{if(!(a==null||u==null)){var c=s[0],d=c==null?void 0:u(c.positions,a);if(d!=null)return d;var h=i?.[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},VM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},xc=e=>e.options.tooltipPayloadSearcher,dl=e=>e.tooltip;function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(r){$J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $J(e,t,n){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HJ(e,t){return e??t}var WM=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((g,x)=>{var A,{dataDefinedOnItem:E,settings:_}=x,C=HJ(E,u),I=Array.isArray(C)?CO(C,d,h):C,D=(A=_?.dataKey)!==null&&A!==void 0?A:r,k=_?.nameKey,P;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&s==="axis"?P=jk(I,r,i):P=a(I,t,c,k),Array.isArray(P))P.forEach(M=>{var z=vD(vD({},_),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push($N({tooltipEntrySettings:z,dataKey:M.dataKey,payload:M.payload,value:Kt(M.payload,M.dataKey),name:M.name}))});else{var R;g.push($N({tooltipEntrySettings:_,dataKey:D,payload:P,value:Kt(P,D),name:(R=Kt(P,k))!==null&&R!==void 0?R:_?.name}))}return g},m)}},Fx=re([Zt,et,nM,Cx,Qt],AM),FJ=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VJ=re([Qt,ll],rM),wc=re([FJ,Zt,VJ],iM,{memoizeOptions:{resultEqualityCheck:ym}}),WJ=re([wc],e=>e.filter(pm)),YJ=re([wc],sM,{memoizeOptions:{resultEqualityCheck:ym}}),fl=re([YJ,$a],lM),KJ=re([WJ,$a,Zt],ZR),Vx=re([fl,Zt,wc],uM),YM=re([Zt],Lx),JJ=re([Zt],e=>e.allowDataOverflow),KM=re([YM,JJ],IR),XJ=re([wc],e=>e.filter(pm)),QJ=re([KJ,XJ,dm,VR],dM),ZJ=re([QJ,$a,Qt,KM],fM),eX=re([wc],oM),tX=re([fl,Zt,eX,jx,Qt],pM,{memoizeOptions:{resultEqualityCheck:gm}}),nX=re([gM,Qt,ll],ul),rX=re([nX,Qt],bM),iX=re([yM,Qt,ll],ul),aX=re([iX,Qt],xM),oX=re([vM,Qt,ll],ul),sX=re([oX,Qt],wM),lX=re([rX,sX,aX],uh),uX=re([Zt,YM,KM,ZJ,tX,lX,et,Qt],SM),Sc=re([Zt,et,fl,Vx,dm,Qt,uX],EM),cX=re([Sc,Zt,Fx],_M),dX=re([Zt,Sc,cX,Qt],TM),JM=e=>{var t=Qt(e),n=ll(e),r=!1;return bc(e,t,n,r)},XM=re([Zt,JM],fm),QM=re([Zt,Fx,dX,XM],Bx),fX=re([et,Vx,Zt,Qt],OM),hX=re([et,Vx,Zt,Qt],RM),mX=(e,t,n,r,i,a,s,u)=>{if(t){var{type:c}=t,d=Ua(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&i?.length>=2?Hn(i[0]-i[1])*2*m:m,d&&s?s.map((g,x)=>({coordinate:r(g)+m,value:g,index:x,offset:m})):r.domain().map((g,x)=>({coordinate:r(g)+m,value:a?a[g]:g,index:x,offset:m}))}}},Zi=re([et,Zt,Fx,QM,JM,fX,hX,Qt],mX),Wx=re([LM,jM,EJ],(e,t,n)=>UM(n.shared,e,t)),ZM=e=>e.tooltip.settings.trigger,Yx=e=>e.tooltip.settings.defaultIndex,Sm=re([dl,Wx,ZM,Yx],HM),Io=re([Sm,fl,yc,Sc],Hx),e2=re([Zi,Io],BM),t2=re([Sm],e=>{if(e)return e.dataKey}),n2=re([dl,Wx,ZM,Yx],VM),pX=re([Yi,Ki,et,cn,Zi,Yx,n2,xc],FM),gX=re([Sm,pX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yX=re([Sm],e=>e.active),vX=re([n2,Io,$a,yc,e2,xc,Wx],WM),bX=re([vX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){xX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX=()=>Ae(Zt),AX=()=>{var e=EX(),t=Ae(Zi),n=Ae(QM);return Hs(!e||!n?void 0:xD(xD({},e),{},{scale:n}),t)};function wD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(n),!0).forEach(function(r){_X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _X(e,t,n){return(t=TX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},DX=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Es(Es(Es({},r),vn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var u=i.coordinate,{angle:c}=r;return Es(Es(Es({},r),vn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function IX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var r2=(e,t,n,r,i)=>{var a,s=-1,u=(a=t?.length)!==null&&a!==void 0?a:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,g=void 0;if(Hn(h-d)!==Hn(m-h)){var x=[];if(Hn(m-h)===Hn(i[1]-i[0])){g=m;var A=h+i[1]-i[0];x[0]=Math.min(A,(A+d)/2),x[1]=Math.max(A,(A+d)/2)}else{g=d;var E=m+i[1]-i[0];x[0]=Math.min(h,(E+h)/2),x[1]=Math.max(h,(E+h)/2)}var _=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){({index:s}=n[c]);break}}else{var C=Math.min(d,m),I=Math.max(d,m);if(e>(C+h)/2&&e<=(I+h)/2){({index:s}=n[c]);break}}}else if(t){for(var D=0;D<u;D++)if(D===0&&e<=(t[D].coordinate+t[D+1].coordinate)/2||D>0&&D<u-1&&e>(t[D].coordinate+t[D-1].coordinate)/2&&e<=(t[D].coordinate+t[D+1].coordinate)/2||D===u-1&&e>(t[D].coordinate+t[D-1].coordinate)/2){({index:s}=t[D]);break}}return s},PX=()=>Ae(Cx),Kx=(e,t)=>t,i2=(e,t,n)=>n,Jx=(e,t,n,r)=>r,kX=re(Zi,e=>zh(e,t=>t.coordinate)),Xx=re([dl,Kx,i2,Jx],HM),Qx=re([Xx,fl,yc,Sc],Hx),OX=(e,t,n)=>{if(t!=null){var r=dl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},a2=re([dl,Kx,i2,Jx],VM),ch=re([Yi,Ki,et,cn,Zi,Jx,a2,xc],FM),RX=re([Xx,ch],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),o2=re([Zi,Qx],BM),MX=re([a2,Qx,$a,yc,o2,xc,Kx],WM),LX=re([Xx,Qx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),jX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&IX(e,s)){var u=r8(e,t),c=r2(u,a,i,n,r),d=NX(t,i,c,e);return{activeIndex:String(c),activeCoordinate:d}}},UX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var u=m9(e,n);if(u){var c=i8(u,t),d=r2(c,s,a,r,i),h=DX(t,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},BX=(e,t,n,r,i,a,s,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?jX(e,t,r,i,a,s,u):UX(e,t,n,r,i,a,s)},qX=re(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),$X=re(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(sn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:AK}});function SD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ED(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(n),!0).forEach(function(r){GX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GX(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FX={},VX={zIndexMap:Object.values(sn).reduce((e,t)=>ED(ED({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),FX)},WX=new Set(Object.values(sn));function YX(e){return WX.has(e)}var s2=Vn({name:"zIndex",initialState:VX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:wt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!YX(n)&&delete e.zIndexMap[n])},prepare:wt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:wt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:wt()}}}),{registerZIndexPortal:KX,unregisterZIndexPortal:JX,registerZIndexPortalId:XX,unregisterZIndexPortalId:QX}=s2.actions,ZX=s2.reducer;function Mr(e){var{zIndex:t,children:n}=e,r=j8(),i=r&&t!==void 0&&t!==0,a=Tn(),s=Nt();T.useLayoutEffect(()=>i?(s(KX({zIndex:t})),()=>{s(JX({zIndex:t}))}):oc,[s,t,i]);var u=Ae(d=>qX(d,t,a));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?rl.createPortal(n,c):null}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(null,arguments)}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){eQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eQ(e,t,n){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return T.isValidElement(t)?T.cloneElement(t,r):T.createElement(n,r)}function iQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:d,chartName:h}=e,m=n,g=r,x=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var A,E,_;if(h==="ScatterChart")A=m,E=D7,_=sn.cursorLine;else if(h==="BarChart")A=I7(u,m,a,s),E=zO,_=sn.cursorRectangle;else if(u==="radial"&&Bk(m)){var{cx:C,cy:I,radius:D,startAngle:k,endAngle:P}=HO(m);A={cx:C,cy:I,startAngle:k,endAngle:P,innerRadius:D,outerRadius:D},E=VO,_=sn.cursorLine}else A={points:v9(u,m,a)},E=UO,_=sn.cursorLine;var R=typeof c=="object"&&"className"in c?c.className:void 0,M=tf(tf(tf(tf({stroke:"#ccc",pointerEvents:"none"},a),A),ic(c)),{},{payload:g,payloadIndex:x,className:at("recharts-tooltip-cursor",R)});return T.createElement(Mr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},T.createElement(rQ,{cursor:c,cursorComp:E,cursorProps:M}))}function aQ(e){var t=AX(),n=MO(),r=cc(),i=PX();return t==null||n==null||r==null||i==null?null:T.createElement(iQ,Y0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var l2=T.createContext(null),oQ=()=>T.useContext(l2),wv={exports:{}},_D;function sQ(){return _D||(_D=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||c,g),A=n?n+d:d;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],x]:c._events[A].push(x):(c._events[A]=x,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,x=m.length,A=new Array(x);g<x;g++)A[g]=m[g].fn;return A},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,g,x,A){var E=n?n+d:d;if(!this._events[E])return!1;var _=this._events[E],C=arguments.length,I,D;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),C){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,g),!0;case 5:return _.fn.call(_.context,h,m,g,x),!0;case 6:return _.fn.call(_.context,h,m,g,x,A),!0}for(D=1,I=new Array(C-1);D<C;D++)I[D-1]=arguments[D];_.fn.apply(_.context,I)}else{var k=_.length,P;for(D=0;D<k;D++)switch(_[D].once&&this.removeListener(d,_[D].fn,void 0,!0),C){case 1:_[D].fn.call(_[D].context);break;case 2:_[D].fn.call(_[D].context,h);break;case 3:_[D].fn.call(_[D].context,h,m);break;case 4:_[D].fn.call(_[D].context,h,m,g);break;default:if(!I)for(P=1,I=new Array(C-1);P<C;P++)I[P-1]=arguments[P];_[D].fn.apply(_[D].context,I)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,g){var x=n?n+d:d;if(!this._events[x])return this;if(!h)return s(this,x),this;var A=this._events[x];if(A.fn)A.fn===h&&(!g||A.once)&&(!m||A.context===m)&&s(this,x);else{for(var E=0,_=[],C=A.length;E<C;E++)(A[E].fn!==h||g&&!A[E].once||m&&A[E].context!==m)&&_.push(A[E]);_.length?this._events[x]=_.length===1?_[0]:_:s(this,x)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(wv)),wv.exports}var lQ=sQ();const uQ=Or(lQ);var Fu=new uQ,K0="recharts.syncEvent.tooltip",TD="recharts.syncEvent.brush";function u2(e,t){if(t){var n=Number.parseInt(t,10);if(!Yr(n))return e?.[n]}}var cQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},c2=Vn({name:"options",initialState:cQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dQ=c2.reducer,{createEventEmitter:fQ}=c2.actions;function hQ(e){return e.tooltip.syncInteraction}var mQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d2=Vn({name:"chartData",initialState:mQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:CD,setDataStartEndIndexes:pQ,setComputedData:she}=d2.actions,gQ=d2.reducer,yQ=["x","y"];function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){vQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vQ(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e,t){if(e==null)return{};var n,r,i=SQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EQ(){var e=Ae(Nx),t=Ae(Dx),n=Nt(),r=Ae(WR),i=Ae(Zi),a=cc(),s=em(),u=Ae(c=>c.rootProps.className);T.useEffect(()=>{if(e==null)return oc;var c=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:A,y:E}=x,_=wQ(x,yQ),{x:C,y:I,width:D,height:k}=h.payload.sourceViewBox,P=As(As({},_),{},{x:s.x+(D?(A-C)/D:0)*s.width,y:s.y+(k?(E-I)/k:0)*s.height});n(As(As({},h),{},{payload:As(As({},h.payload),{},{coordinate:P})}))}else n(h);return}if(i!=null){var R;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},z=r(i,M);R=i[z]}else r==="value"&&(R=i.find(U=>String(U.value)===h.payload.label));var{coordinate:B}=h.payload;if(R==null||h.payload.active===!1||B==null||s==null){n(V0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:$,y:W}=B,Y=Math.min($,s.x+s.width),K=Math.min(W,s.y+s.height),G={x:a==="horizontal"?R.coordinate:Y,y:a==="horizontal"?K:R.coordinate},ne=V0({active:h.payload.active,coordinate:G,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(ne)}}};return Fu.on(K0,c),()=>{Fu.off(K0,c)}},[u,n,t,e,r,i,a,s])}function AQ(){var e=Ae(Nx),t=Ae(Dx),n=Nt();T.useEffect(()=>{if(e==null)return oc;var r=(i,a,s)=>{t!==s&&e===i&&n(pQ(a))};return Fu.on(TD,r),()=>{Fu.off(TD,r)}},[n,t,e])}function _Q(){var e=Nt();T.useEffect(()=>{e(fQ())},[e]),EQ(),AQ()}function TQ(e,t,n,r,i,a){var s=Ae(x=>OX(x,e,t)),u=Ae(Dx),c=Ae(Nx),d=Ae(WR),h=Ae(hQ),m=h?.active,g=em();T.useEffect(()=>{if(!m&&c!=null&&u!=null){var x=V0({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g});Fu.emit(K0,c,x,u)}},[m,n,s,i,r,u,c,d,a,g])}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ID(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e){return e.dataKey}function PQ(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(s7,t)}var PD=[],kQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!il.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kD(e){var t,n,r=xn(e,kQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:A,useTranslate3d:E,wrapperStyle:_,cursor:C,shared:I,trigger:D,defaultIndex:k,portal:P,axisId:R}=r,M=Nt(),z=typeof k=="number"?String(k):k;T.useEffect(()=>{M(NJ({shared:I,trigger:D,axisId:R,active:i,defaultIndex:z}))},[M,I,D,R,i,z]);var B=em(),$=jO(),W=SJ(I),{activeIndex:Y,isActive:K}=(t=Ae(ke=>LX(ke,W,D,z)))!==null&&t!==void 0?t:{},G=Ae(ke=>MX(ke,W,D,z)),ne=Ae(ke=>o2(ke,W,D,z)),U=Ae(ke=>RX(ke,W,D,z)),te=G,ce=oQ(),fe=(n=i??K)!==null&&n!==void 0?n:!1,[Ie,j]=eO([te,fe]),ae=W==="axis"?ne:void 0;TQ(W,D,U,ae,Y,fe);var me=P??ce;if(me==null||B==null||W==null)return null;var ge=te??PD;fe||(ge=PD),d&&ge.length&&(ge=Kk(ge.filter(ke=>ke.value!=null&&(ke.hide!==!0||r.includeHidden)),g,IQ));var Te=ge.length>0,Re=T.createElement(m7,{allowEscapeViewBox:a,animationDuration:s,animationEasing:u,isAnimationActive:h,active:fe,coordinate:U,hasPayload:Te,offset:m,position:x,reverseDirection:A,useTranslate3d:E,viewBox:B,wrapperStyle:_,lastBoundingBox:Ie,innerRef:j,hasPortalFromProps:!!P},PQ(c,ID(ID({},r),{},{payload:ge,label:ae,active:fe,activeIndex:Y,coordinate:U,accessibilityLayer:$})));return T.createElement(T.Fragment,null,rl.createPortal(Re,me),fe&&T.createElement(aQ,{cursor:C,tooltipEventType:W,coordinate:U,payload:ge,index:Y}))}var f2=e=>null;f2.displayName="Cell";function OQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LQ{constructor(t){OQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){UQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UQ(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $Q={cacheSize:2e3,enableCache:!0},h2=jQ({},$Q),RD=new LQ(h2.cacheSize),GQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MD="recharts_measurement_span";function zQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(u)}var LD=(e,t)=>{try{var n=document.getElementById(MD);n||(n=document.createElement("span"),n.setAttribute("id",MD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,GQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Nu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||il.isSsr)return{width:0,height:0};if(!h2.enableCache)return LD(t,n);var r=zQ(t,n),i=RD.get(r);if(i)return i;var a=LD(t,n);return RD.set(r,a),a},jD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VQ=Object.keys(m2),Ms="NaN";function WQ(e,t){return e*m2[t]}class zn{static parse(t){var n,[,r,i]=(n=FQ.exec(t))!==null&&n!==void 0?n:[];return new zn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Yr(t)&&(this.unit=""),n!==""&&!HQ.test(n)&&(this.num=NaN,this.unit=""),VQ.includes(n)&&(this.num=WQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Yr(this.num)}}function p2(e){if(e.includes(Ms))return Ms;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=jD.exec(t))!==null&&n!==void 0?n:[],s=zn.parse(r??""),u=zn.parse(a??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return Ms;t=t.replace(jD,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,g]=(d=UD.exec(t))!==null&&d!==void 0?d:[],x=zn.parse(h??""),A=zn.parse(g??""),E=m==="+"?x.add(A):x.subtract(A);if(E.isNaN())return Ms;t=t.replace(UD,E.toString())}return t}var BD=/\(([^()]*)\)/;function YQ(e){for(var t=e,n;(n=BD.exec(t))!=null;){var[,r]=n;t=t.replace(BD,p2(r))}return t}function KQ(e){var t=e.replace(/\s+/g,"");return t=YQ(t),t=p2(t),t}function JQ(e){try{return KQ(e)}catch{return Ms}}function Sv(e){var t=JQ(e.slice(5,-1));return t===Ms?"":t}var XQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QQ=["dx","dy","angle","className","breakAll"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(null,arguments)}function qD(e,t){if(e==null)return{};var n,r,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g2=/[ \f\n\r\t\v\u2028\u2029]+/,y2=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Et(t)||(n?i=t.toString().split(""):i=t.toString().split(g2));var a=i.map(u=>({word:u,width:Nu(u,r).width})),s=n?0:Nu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function eZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var v2=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:u}=a,c=i[i.length-1];if(c&&u!=null&&(t==null||r||c.width+u+n<Number(t)))c.words.push(s),c.width+=u+n;else{var d={words:[s],width:u};i.push(d)}return i},[]),b2=e=>e.reduce((t,n)=>t.width>n.width?t:n),tZ="",$D=(e,t,n,r,i,a,s,u)=>{var c=e.slice(0,t),d=y2({breakAll:n,style:r,children:c+tZ});if(!d)return[!1,[]];var h=v2(d.wordsWithComputedWidth,a,s,u),m=h.length>i||b2(h).width>Number(a);return[m,h]},nZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:u,breakAll:c}=e,d=Ee(a),h=String(s),m=v2(t,r,n,i);if(!d||i)return m;var g=m.length>a||b2(m).width>Number(r);if(!g)return m;for(var x=0,A=h.length-1,E=0,_;x<=A&&E<=h.length-1;){var C=Math.floor((x+A)/2),I=C-1,[D,k]=$D(h,I,c,u,a,r,n,i),[P]=$D(h,C,c,u,a,r,n,i);if(!D&&!P&&(x=C+1),D&&P&&(A=C-1),!D&&P){_=k;break}E++}return _||m},GD=e=>{var t=Et(e)?[]:e.toString().split(g2);return[{words:t,width:void 0}]},rZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!il.isSsr){var u,c,d=y2({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return GD(r);return nZ({breakAll:a,children:r,maxLines:s,style:i},u,c,t,!!n)}return GD(r)},x2="#808080",iZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:x2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zx=T.forwardRef((e,t)=>{var n=xn(e,iZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=qD(n,XQ),g=T.useMemo(()=>rZ({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:x,dy:A,angle:E,className:_,breakAll:C}=m,I=qD(m,QQ);if(!ui(r)||!ui(i)||g.length===0)return null;var D=Number(r)+(Ee(x)?x:0),k=Number(i)+(Ee(A)?A:0);if(!Mt(D)||!Mt(k))return null;var P;switch(h){case"start":P=Sv("calc(".concat(s,")"));break;case"middle":P=Sv("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=Sv("calc(".concat(g.length-1," * -").concat(a,")"));break}var R=[];if(c){var M=g[0].width,{width:z}=m;R.push("scale(".concat(Ee(z)&&Ee(M)?z/M:1,")"))}return E&&R.push("rotate(".concat(E,", ").concat(D,", ").concat(k,")")),R.length&&(I.transform=R.join(" ")),T.createElement("text",J0({},Rn(I),{ref:t,x:D,y:k,className:at("recharts-text",_),textAnchor:d,fill:u.includes("url")?x2:u}),g.map((B,$)=>{var W=B.words.join(C?"":" ");return T.createElement("tspan",{x:D,dy:$===0?P:a,key:"".concat(W,"-").concat($)},W)}))});Zx.displayName="Text";var aZ=["labelRef"];function oZ(e,t){if(e==null)return{};var n,r,i=sZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){lZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(null,arguments)}var w2=T.createContext(null),dZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:u}=e,c=T.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return T.createElement(w2.Provider,{value:c},u)},S2=()=>{var e=T.useContext(w2),t=em();return e||RO(t)},fZ=T.createContext(null),hZ=()=>{var e=T.useContext(fZ),t=Ae(QR);return e||t},mZ=e=>{var{value:t,formatter:n}=e,r=Et(e.children)?t:e.children;return typeof n=="function"?n(r):r},ew=e=>e!=null&&typeof e=="function",pZ=(e,t)=>{var n=Hn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},gZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:g,clockWise:x}=i,A=(d+h)/2,E=pZ(m,g),_=E>=0?1:-1,C,I;switch(t){case"insideStart":C=m+_*a,I=x;break;case"insideEnd":C=g-_*a,I=!x;break;case"end":C=g+_*a,I=x;break;default:throw new Error("Unsupported position ".concat(t))}I=E<=0?I:!I;var D=vn(u,c,A,C),k=vn(u,c,A,C+(I?1:-1)*359),P="M".concat(D.x,",").concat(D.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(I?0:1,`,
    `).concat(k.x,",").concat(k.y),R=Et(e.id)?Ru("recharts-radial-line-"):e.id;return T.createElement("text",ki({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:R,d:P})),T.createElement("textPath",{xlinkHref:"#".concat(R)},n))},yZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:c}=e,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=vn(r,i,s+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x,y:A}=vn(r,i,g,d);return{x,y:A,textAnchor:"middle",verticalAnchor:"middle"}},X0=e=>"cx"in e&&Ee(e.cx),vZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!X0(n)&&(a=n);var{x:s,y:u,upperWidth:c,lowerWidth:d,height:h}=t,m=s,g=s+(c-d)/2,x=(m+g)/2,A=(c+d)/2,E=m+c/2,_=h>=0?1:-1,C=_*r,I=_>0?"end":"start",D=_>0?"start":"end",k=c>=0?1:-1,P=k*r,R=k>0?"end":"start",M=k>0?"start":"end";if(i==="top"){var z={x:m+c/2,y:u-C,textAnchor:"middle",verticalAnchor:I};return Rt(Rt({},z),a?{height:Math.max(u-a.y,0),width:c}:{})}if(i==="bottom"){var B={x:g+d/2,y:u+h+C,textAnchor:"middle",verticalAnchor:D};return Rt(Rt({},B),a?{height:Math.max(a.y+a.height-(u+h),0),width:d}:{})}if(i==="left"){var $={x:x-P,y:u+h/2,textAnchor:R,verticalAnchor:"middle"};return Rt(Rt({},$),a?{width:Math.max($.x-a.x,0),height:h}:{})}if(i==="right"){var W={x:x+A+P,y:u+h/2,textAnchor:M,verticalAnchor:"middle"};return Rt(Rt({},W),a?{width:Math.max(a.x+a.width-W.x,0),height:h}:{})}var Y=a?{width:A,height:h}:{};return i==="insideLeft"?Rt({x:x+P,y:u+h/2,textAnchor:M,verticalAnchor:"middle"},Y):i==="insideRight"?Rt({x:x+A-P,y:u+h/2,textAnchor:R,verticalAnchor:"middle"},Y):i==="insideTop"?Rt({x:m+c/2,y:u+C,textAnchor:"middle",verticalAnchor:D},Y):i==="insideBottom"?Rt({x:g+d/2,y:u+h-C,textAnchor:"middle",verticalAnchor:I},Y):i==="insideTopLeft"?Rt({x:m+P,y:u+C,textAnchor:M,verticalAnchor:D},Y):i==="insideTopRight"?Rt({x:m+c-P,y:u+C,textAnchor:R,verticalAnchor:D},Y):i==="insideBottomLeft"?Rt({x:g+P,y:u+h-C,textAnchor:M,verticalAnchor:I},Y):i==="insideBottomRight"?Rt({x:g+d-P,y:u+h-C,textAnchor:R,verticalAnchor:I},Y):i&&typeof i=="object"&&(Ee(i.x)||Ui(i.x))&&(Ee(i.y)||Ui(i.y))?Rt({x:s+Kr(i.x,A),y:u+Kr(i.y,h),textAnchor:"end",verticalAnchor:"end"},Y):Rt({x:E,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},Y)},bZ={angle:0,offset:5,zIndex:sn.label,position:"middle",textBreakAll:!1};function Ta(e){var t=xn(e,bZ),{viewBox:n,position:r,value:i,children:a,content:s,className:u="",textBreakAll:c,labelRef:d}=t,h=hZ(),m=S2(),g=r==="center"?m:h??m,x,A,E;if(n==null?x=g:X0(n)?x=n:x=RO(n),!x||Et(i)&&Et(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var _=Rt(Rt({},t),{},{viewBox:x});if(T.isValidElement(s)){var{labelRef:C}=_,I=oZ(_,aZ);return T.cloneElement(s,I)}if(typeof s=="function"){if(A=T.createElement(s,_),T.isValidElement(A))return A}else A=mZ(t);var D=Rn(t);if(X0(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gZ(t,r,A,D,x);E=yZ(x,t.offset,t.position)}else E=vZ(t,x);return T.createElement(Mr,{zIndex:t.zIndex},T.createElement(Zx,ki({ref:d,className:at("recharts-label",u)},D,E,{textAnchor:eZ(D.textAnchor)?D.textAnchor:E.textAnchor,breakAll:c}),A))}Ta.displayName="Label";var xZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?T.createElement(Ta,ki({key:"label-implicit"},r)):ui(e)?T.createElement(Ta,ki({key:"label-implicit",value:e},r)):T.isValidElement(e)?e.type===Ta?T.cloneElement(e,Rt({key:"label-implicit"},r)):T.createElement(Ta,ki({key:"label-implicit",content:e},r)):ew(e)?T.createElement(Ta,ki({key:"label-implicit",content:e},r)):e&&typeof e=="object"?T.createElement(Ta,ki({},e,{key:"label-implicit"},r)):null};function wZ(e){var{label:t,labelRef:n}=e,r=S2();return xZ(t,r,n)||null}var Ev={},Av={},HD;function SZ(){return HD||(HD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Av)),Av}var _v={},FD;function EZ(){return FD||(FD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(_v)),_v}var VD;function AZ(){return VD||(VD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SZ(),n=EZ(),r=Fb();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Ev)),Ev}var Tv,WD;function _Z(){return WD||(WD=1,Tv=AZ().last),Tv}var TZ=_Z();const CZ=Or(TZ);var NZ=["valueAccessor"],DZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh.apply(null,arguments)}function YD(e,t){if(e==null)return{};var n,r,i=IZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PZ=e=>Array.isArray(e.value)?CZ(e.value):e.value,E2=T.createContext(void 0),A2=E2.Provider,_2=T.createContext(void 0);_2.Provider;function kZ(){return T.useContext(E2)}function OZ(){return T.useContext(_2)}function Af(e){var{valueAccessor:t=PZ}=e,n=YD(e,NZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:u}=n,c=YD(n,DZ),d=kZ(),h=OZ(),m=d||h;return!m||!m.length?null:T.createElement(Mr,{zIndex:u??sn.label},T.createElement(Ir,{className:"recharts-label-list"},m.map((g,x)=>{var A,E=Et(r)?t(g,x):Kt(g&&g.payload,r),_=Et(a)?{}:{id:"".concat(a,"-").concat(x)};return T.createElement(Ta,dh({key:"label-".concat(x)},Rn(g),c,_,{fill:(A=n.fill)!==null&&A!==void 0?A:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:s,viewBox:g.viewBox,index:x,zIndex:0}))})))}Af.displayName="LabelList";function T2(e){var{label:t}=e;return t?t===!0?T.createElement(Af,{key:"labelList-implicit"}):T.isValidElement(t)||ew(t)?T.createElement(Af,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(Af,dh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(null,arguments)}var C2=e=>{var{cx:t,cy:n,r,className:i}=e,a=at("recharts-dot",i);return Ee(t)&&Ee(n)&&Ee(r)?T.createElement("circle",Q0({},Wr(e),Hb(e),{className:a,cx:t,cy:n,r})):null},RZ={radiusAxis:{},angleAxis:{}},N2=Vn({name:"polarAxis",initialState:RZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:lhe,removeRadiusAxis:uhe,addAngleAxis:che,removeAngleAxis:dhe}=N2.actions,MZ=N2.reducer,Cv={exports:{}},ut={};var KD;function LZ(){if(KD)return ut;KD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function A(E){if(typeof E=="object"&&E!==null){var _=E.$$typeof;switch(_){case e:switch(E=E.type,E){case n:case i:case r:case c:case d:case g:return E;default:switch(E=E&&E.$$typeof,E){case s:case u:case m:case h:return E;case a:return E;default:return _}}case t:return _}}}return ut.ContextConsumer=a,ut.ContextProvider=s,ut.Element=e,ut.ForwardRef=u,ut.Fragment=n,ut.Lazy=m,ut.Memo=h,ut.Portal=t,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=c,ut.SuspenseList=d,ut.isContextConsumer=function(E){return A(E)===a},ut.isContextProvider=function(E){return A(E)===s},ut.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},ut.isForwardRef=function(E){return A(E)===u},ut.isFragment=function(E){return A(E)===n},ut.isLazy=function(E){return A(E)===m},ut.isMemo=function(E){return A(E)===h},ut.isPortal=function(E){return A(E)===t},ut.isProfiler=function(E){return A(E)===i},ut.isStrictMode=function(E){return A(E)===r},ut.isSuspense=function(E){return A(E)===c},ut.isSuspenseList=function(E){return A(E)===d},ut.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===c||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===s||E.$$typeof===a||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},ut.typeOf=A,ut}var JD;function jZ(){return JD||(JD=1,Cv.exports=LZ()),Cv.exports}var UZ=jZ(),XD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QD=null,Nv=null,D2=e=>{if(e===QD&&Array.isArray(Nv))return Nv;var t=[];return T.Children.forEach(e,n=>{Et(n)||(UZ.isFragment(n)?t=t.concat(D2(n.props.children)):t.push(n))}),Nv=t,QD=e,t};function BZ(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>XD(i)):r=[XD(t)],D2(e).forEach(i=>{var a=zs(i,"type.displayName")||zs(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var I2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Dv={},ZD;function qZ(){return ZD||(ZD=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Dv)),Dv}var Iv,eI;function $Z(){return eI||(eI=1,Iv=qZ().isPlainObject),Iv}var GZ=$Z();const zZ=Or(GZ);function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){HZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HZ(e,t,n){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh.apply(null,arguments)}var rI=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},WZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YZ=e=>{var t=xn(e,WZ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:u}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,g=T.useRef(null),[x,A]=T.useState(-1),E=T.useRef(i),_=T.useRef(a),C=T.useRef(s),I=T.useRef(n),D=T.useRef(r),k=rm(e,"trapezoid-");if(T.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var G=g.current.getTotalLength();G&&A(G)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var P=at("recharts-trapezoid",u);if(!m)return T.createElement("g",null,T.createElement("path",fh({},Rn(t),{className:P,d:rI(n,r,i,a,s)})));var R=E.current,M=_.current,z=C.current,B=I.current,$=D.current,W="0px ".concat(x===-1?1:x,"px"),Y="".concat(x,"px 0px"),K=BO(["strokeDasharray"],d,c);return T.createElement(nm,{animationId:k,key:k,canBegin:x>0,duration:d,easing:c,isActive:m,begin:h},G=>{var ne=Pt(R,i,G),U=Pt(M,a,G),te=Pt(z,s,G),ce=Pt(B,n,G),fe=Pt($,r,G);g.current&&(E.current=ne,_.current=U,C.current=te,I.current=ce,D.current=fe);var Ie=G>0?{transition:K,strokeDasharray:Y}:{strokeDasharray:W};return T.createElement("path",fh({},Rn(t),{className:P,d:rI(ce,fe,ne,U,te),ref:g,style:nI(nI({},Ie),t.style)}))})},KZ=["option","shapeType","propTransformer","activeClassName"];function JZ(e,t){if(e==null)return{};var n,r,i=XZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tee(e,t){return hh(hh({},t),e)}function nee(e,t){return e==="symbols"}function aI(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return T.createElement(zO,n);case"trapezoid":return T.createElement(YZ,n);case"sector":return T.createElement(VO,n);case"symbols":if(nee(t))return T.createElement(zb,n);break;case"curve":return T.createElement(UO,n);default:return null}}function ree(e){return T.isValidElement(e)?e.props:e}function P2(e){var{option:t,shapeType:n,propTransformer:r=tee,activeClassName:i="recharts-active-shape"}=e,a=JZ(e,KZ),s;if(T.isValidElement(t))s=T.cloneElement(t,hh(hh({},a),ree(t)));else if(typeof t=="function")s=t(a);else if(zZ(t)&&typeof t!="boolean"){var u=r(t,a);s=T.createElement(aI,{shapeType:n,elementProps:u})}else{var c=a;s=T.createElement(aI,{shapeType:n,elementProps:c})}return a.isActive?T.createElement(Ir,{className:i},s):s}var k2=(e,t)=>{var n=Nt();return(r,i)=>a=>{e?.(r,i,a),n($M({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},O2=e=>{var t=Nt();return(n,r)=>i=>{e?.(n,r,i),t(DJ())}},R2=(e,t)=>{var n=Nt();return(r,i)=>a=>{e?.(r,i,a),n(IJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function M2(e){var{tooltipEntrySettings:t}=e,n=Nt(),r=Tn(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(_J(t)):i.current!==t&&n(TJ({prev:i.current,next:t})),i.current=t)},[t,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(CJ(i.current)),i.current=null)},[n]),null}function L2(e){var{legendPayload:t}=e,n=Nt(),r=Tn(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(q8(t)):i.current!==t&&n($8({prev:i.current,next:t})),i.current=t)},[n,r,t]),T.useLayoutEffect(()=>()=>{i.current&&(n(G8(i.current)),i.current=null)},[n]),null}var Pv,iee=()=>{var[e]=T.useState(()=>Ru("uid-"));return e},aee=(Pv=Uq.useId)!==null&&Pv!==void 0?Pv:iee;function j2(e,t){var n=aee();return t||(e?"".concat(e,"-").concat(n):n)}var oee=T.createContext(void 0),U2=e=>{var{id:t,type:n,children:r}=e,i=j2("recharts-".concat(n),t);return T.createElement(oee.Provider,{value:i},r(i))},see={cartesianItems:[],polarItems:[]},B2=Vn({name:"graphicalItems",initialState:see,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:wt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Vr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:wt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Vr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:wt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:wt()},removePolarGraphicalItem:{reducer(e,t){var n=Vr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:wt()}}}),{addCartesianGraphicalItem:lee,replaceCartesianGraphicalItem:uee,removeCartesianGraphicalItem:cee,addPolarGraphicalItem:fhe,removePolarGraphicalItem:hhe}=B2.actions,dee=B2.reducer,fee=e=>{var t=Nt(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?t(lee(e)):n.current!==e&&t(uee({prev:n.current,next:e})),n.current=e},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(t(cee(n.current)),n.current=null)},[t]),null},q2=T.memo(fee),hee=["points"];function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){mee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mee(e,t,n){return(t=pee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pee(e){var t=gee(e,"string");return typeof t=="symbol"?t:t+""}function gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(null,arguments)}function yee(e,t){if(e==null)return{};var n,r,i=vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bee(e){var{option:t,dotProps:n,className:r}=e;if(T.isValidElement(t))return T.cloneElement(t,n);if(typeof t=="function")return t(n);var i=at(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,u=yee(a,hee);return T.createElement(C2,mh({},u,{className:i}))}function xee(e,t){return e==null?!1:t?!0:e.length===1}function wee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:u,clipPathId:c,zIndex:d=sn.scatter}=e;if(!xee(t,n))return null;var h=I2(n),m=Lz(n),g=t.map((A,E)=>{var _,C,I=kv(kv(kv({r:3},s),m),{},{index:E,cx:(_=A.x)!==null&&_!==void 0?_:void 0,cy:(C=A.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:A.value,payload:A.payload,points:t});return T.createElement(bee,{key:"dot-".concat(E),option:n,dotProps:I,className:i})}),x={};return u&&c!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),T.createElement(Mr,{zIndex:d},T.createElement(Ir,mh({className:r},x),g))}function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ee={xAxis:{},yAxis:{},zAxis:{}},$2=Vn({name:"cartesianAxis",initialState:_ee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:wt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:wt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:wt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:wt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:wt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:wt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:wt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:wt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:wt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=lI(lI({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Tee,replaceXAxis:Cee,removeXAxis:Nee,addYAxis:Dee,replaceYAxis:Iee,removeYAxis:Pee,addZAxis:mhe,replaceZAxis:phe,removeZAxis:ghe,updateYAxisWidth:kee}=$2.actions,Oee=$2.reducer,Ree=re([cn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Mee=re([Ree,Yi,Ki],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),tw=()=>Ae(Mee),Lee=()=>Ae(bX);function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Ov(Ov(Ov({},u),ic(i)),Hb(i)),d;return T.isValidElement(i)?d=T.cloneElement(i,c):typeof i=="function"?d=i(c):d=T.createElement(C2,c),T.createElement(Ir,{className:"recharts-active-dot",clipPath:s},d)};function $ee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=sn.activeDot}=e,u=Ae(Io),c=Lee();if(t==null||c==null)return null;var d=t.find(h=>c.includes(h.payload));return Et(d)?null:T.createElement(Mr,{zIndex:s},T.createElement(qee,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Gee="Invariant failed";function G2(e,t){throw new Error(Gee)}var zee=["x","y"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(null,arguments)}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){Hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=Vee(e,"string");return typeof t=="symbol"?t:t+""}function Vee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wee(e,t){if(e==null)return{};var n,r,i=Yee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kee(e,t){var{x:n,y:r}=e,i=Wee(e,zee),a="".concat(n),s=parseInt(a,10),u="".concat(r),c=parseInt(u,10),d="".concat(t.height||i.height),h=parseInt(d,10),m="".concat(t.width||i.width),g=parseInt(m,10);return xu(xu(xu(xu(xu({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function ph(e){return T.createElement(P2,Z0({shapeType:"rectangle",propTransformer:Kee,activeClassName:"recharts-active-bar"},e))}var Jee=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ee(t))return t;var a=Ee(r)||Et(r);return a?t(r,i):(a||G2(),n)}},Xee={},z2=Vn({name:"errorBars",initialState:Xee,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:yhe,replaceErrorBar:vhe,removeErrorBar:bhe}=z2.actions,Qee=z2.reducer,Zee=["children"];function ete(e,t){if(e==null)return{};var n,r,i=tte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rte=T.createContext(nte);function H2(e){var{children:t}=e,n=ete(e,Zee);return T.createElement(rte.Provider,{value:n},t)}function nw(e,t){var n,r,i=Ae(d=>Xi(d,e)),a=Ae(d=>Qi(d,t)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,u=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function F2(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=tw(),{needClipX:a,needClipY:s,needClip:u}=nw(t,n);if(!u||!i)return null;var{x:c,y:d,width:h,height:m}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?c:c-h/2,y:s?d:d-m/2,width:a?h:h*2,height:s?m:m*2}))}function ite(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Mt(e.zIndex)?e.zIndex:t}var Rv={exports:{}},Mv={};var dI;function ate(){if(dI)return Mv;dI=1;var e=Zs();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,u=e.useDebugValue;return Mv.useSyncExternalStoreWithSelector=function(c,d,h,m,g){var x=i(null);if(x.current===null){var A={hasValue:!1,value:null};x.current=A}else A=x.current;x=s(function(){function _(P){if(!C){if(C=!0,I=P,P=m(P),g!==void 0&&A.hasValue){var R=A.value;if(g(R,P))return D=R}return D=P}if(R=D,n(I,P))return R;var M=m(P);return g!==void 0&&g(R,M)?(I=P,R):(I=P,D=M)}var C=!1,I,D,k=h===void 0?null:h;return[function(){return _(d())},k===null?void 0:function(){return _(k())}]},[d,h,m,g]);var E=r(c,x[0],x[1]);return a(function(){A.hasValue=!0,A.value=E},[E]),u(E),E},Mv}var fI;function ote(){return fI||(fI=1,Rv.exports=ate()),Rv.exports}ote();var ste=T.version.startsWith("19"),lte=Symbol.for(ste?"react.transitional.element":"react.element"),ute=Symbol.for("react.portal"),cte=Symbol.for("react.fragment"),dte=Symbol.for("react.strict_mode"),fte=Symbol.for("react.profiler"),hte=Symbol.for("react.consumer"),mte=Symbol.for("react.context"),V2=Symbol.for("react.forward_ref"),pte=Symbol.for("react.suspense"),gte=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),yte=Symbol.for("react.lazy"),vte=V2,bte=rw;function xte(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case lte:switch(e=e.type,e){case cte:case fte:case dte:case pte:case gte:return e;default:switch(e=e&&e.$$typeof,e){case mte:case V2:case yte:case rw:return e;case hte:return e;default:return t}}case ute:return t}}}function wte(e){return xte(e)===rw}function Ste(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let u=!1,c,d,h,m,g;function x(I,D){return c=I,d=D,h=e(c,d),m=t(r,d),g=n(h,m,d),u=!0,g}function A(){return h=e(c,d),t.dependsOnOwnProps&&(m=t(r,d)),g=n(h,m,d),g}function E(){return e.dependsOnOwnProps&&(h=e(c,d)),t.dependsOnOwnProps&&(m=t(r,d)),g=n(h,m,d),g}function _(){const I=e(c,d),D=!s(I,h);return h=I,D&&(g=n(h,m,d)),g}function C(I,D){const k=!a(D,d),P=!i(I,c,D,d);return c=I,d=D,k&&P?A():k?E():P?_():g}return function(D,k){return u?C(D,k):x(D,k)}}function Ete(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const a=t(e,i),s=n(e,i),u=r(e,i);return Ste(a,s,u,e,i)}function Ate(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...a)=>t(i(...a)))}return n}function eb(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function hI(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function W2(e,t){return function(r,{displayName:i}){const a=function(u,c){return a.dependsOnOwnProps?a.mapToProps(u,c):a.mapToProps(u,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(u,c){a.mapToProps=e,a.dependsOnOwnProps=hI(e);let d=a(u,c);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=hI(d),d=a(u,c)),d},a}}function iw(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function _te(e){return e&&typeof e=="object"?eb(t=>Ate(e,t)):e?typeof e=="function"?W2(e):iw(e,"mapDispatchToProps"):eb(t=>({dispatch:t}))}function Tte(e){return e?typeof e=="function"?W2(e):iw(e,"mapStateToProps"):eb(()=>({}))}function Cte(e,t,n){return{...n,...e,...t}}function Nte(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let a=!1,s;return function(c,d,h){const m=e(c,d,h);return a?i(m,s)||(s=m):(a=!0,s=m),s}}}function Dte(e){return e?typeof e=="function"?Nte(e):iw(e,"mergeProps"):()=>Cte}function Ite(e){e()}function Pte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ite(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var mI={notify(){},get:()=>[]};function Y2(e,t){let n,r=mI,i=0,a=!1;function s(E){h();const _=r.subscribe(E);let C=!1;return()=>{C||(C=!0,_(),m())}}function u(){r.notify()}function c(){A.onStateChange&&A.onStateChange()}function d(){return a}function h(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=Pte())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=mI)}function g(){a||(a=!0,h())}function x(){a&&(a=!1,m())}const A={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>r};return A}var kte=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ote=kte(),Rte=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Mte=Rte(),Lte=()=>Ote||Mte?T.useLayoutEffect:T.useEffect,gh=Lte();function pI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _f(e,t){if(pI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!pI(e[n[i]],t[n[i]]))return!1;return!0}var jte={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ute={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Bte={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},K2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qte={[vte]:Bte,[bte]:K2};function gI(e){return wte(e)?K2:qte[e.$$typeof]||jte}var $te=Object.defineProperty,Gte=Object.getOwnPropertyNames,yI=Object.getOwnPropertySymbols,zte=Object.getOwnPropertyDescriptor,Hte=Object.getPrototypeOf,vI=Object.prototype;function tb(e,t){if(typeof t!="string"){if(vI){const a=Hte(t);a&&a!==vI&&tb(e,a)}let n=Gte(t);yI&&(n=n.concat(yI(t)));const r=gI(e),i=gI(t);for(let a=0;a<n.length;++a){const s=n[a];if(!Ute[s]&&!(i&&i[s])&&!(r&&r[s])){const u=zte(t,s);try{$te(e,s,u)}catch{}}}}return e}var Fte=Symbol.for("react-redux-context"),Vte=typeof globalThis<"u"?globalThis:{};function Wte(){if(!T.createContext)return{};const e=Vte[Fte]??=new Map;let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var J2=Wte(),Yte=[null,null];function Kte(e,t,n){gh(()=>e(...t),n)}function Jte(e,t,n,r,i,a){e.current=r,n.current=!1,i.current&&(i.current=null,a())}function Xte(e,t,n,r,i,a,s,u,c,d,h){if(!e)return()=>{};let m=!1,g=null;const x=()=>{if(m||!u.current)return;const E=t.getState();let _,C;try{_=r(E,i.current)}catch(I){C=I,g=I}C||(g=null),_===a.current?s.current||d():(a.current=_,c.current=_,s.current=!0,h())};return n.onStateChange=x,n.trySubscribe(),x(),()=>{if(m=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function Qte(e,t){return e===t}function Zte(e,t,n,{pure:r,areStatesEqual:i=Qte,areOwnPropsEqual:a=_f,areStatePropsEqual:s=_f,areMergedPropsEqual:u=_f,forwardRef:c=!1,context:d=J2}={}){const h=d,m=Tte(e),g=_te(t),x=Dte(n),A=!!e;return _=>{const C=_.displayName||_.name||"Component",I=`Connect(${C})`,D={shouldHandleStateChanges:A,displayName:I,wrappedComponentName:C,WrappedComponent:_,initMapStateToProps:m,initMapDispatchToProps:g,initMergeProps:x,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:u};function k(M){const[z,B,$]=T.useMemo(()=>{const{reactReduxForwardedRef:de,...mt}=M;return[M.context,de,mt]},[M]),W=T.useMemo(()=>{let de=h;return z?.Consumer,de},[z,h]),Y=T.useContext(W),K=!!M.store&&!!M.store.getState&&!!M.store.dispatch,G=!!Y&&!!Y.store,ne=K?M.store:Y.store,U=G?Y.getServerState:ne.getState,te=T.useMemo(()=>Ete(ne.dispatch,D),[ne]),[ce,fe]=T.useMemo(()=>{if(!A)return Yte;const de=Y2(ne,K?void 0:Y.subscription),mt=de.notifyNestedSubs.bind(de);return[de,mt]},[ne,K,Y]),Ie=T.useMemo(()=>K?Y:{...Y,subscription:ce},[K,Y,ce]),j=T.useRef(void 0),ae=T.useRef($),me=T.useRef(void 0),ge=T.useRef(!1),Te=T.useRef(!1),Re=T.useRef(void 0);gh(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const ke=T.useMemo(()=>()=>me.current&&$===ae.current?me.current:te(ne.getState(),$),[ne,$]),At=T.useMemo(()=>mt=>ce?Xte(A,ne,ce,te,ae,j,ge,Te,me,fe,mt):()=>{},[ce]);Kte(Jte,[ae,j,ge,$,me,fe]);let oe;try{oe=T.useSyncExternalStore(At,ke,U?()=>te(U(),$):ke)}catch(de){throw Re.current&&(de.message+=`
The error may be correlated with this previous error:
${Re.current.stack}

`),de}gh(()=>{Re.current=void 0,me.current=void 0,j.current=oe});const Le=T.useMemo(()=>T.createElement(_,{...oe,ref:B}),[B,_,oe]);return T.useMemo(()=>A?T.createElement(W.Provider,{value:Ie},Le):Le,[W,Le,Ie])}const R=T.memo(k);if(R.WrappedComponent=_,R.displayName=k.displayName=I,c){const z=T.forwardRef(function($,W){return T.createElement(R,{...$,reactReduxForwardedRef:W})});return z.displayName=I,z.WrappedComponent=_,tb(z,_)}return tb(R,_)}}var X2=Zte;function ene(e){const{children:t,context:n,serverState:r,store:i}=e,a=T.useMemo(()=>{const c=Y2(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);gh(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const u=n||J2;return T.createElement(u.Provider,{value:a},t)}var Q2=ene,tne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function nne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Em(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(tne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!_f(e[r],t[r]))return!1}else if(!nne(e[r],t[r]))return!1;return!0}var rne=["onMouseEnter","onMouseLeave","onClick"],ine=["value","background","tooltipPosition"],ane=["id"],one=["onMouseEnter","onClick","onMouseLeave"];function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(null,arguments)}function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sne(e,t,n){return(t=lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(e,t){if(e==null)return{};var n,r,i=cne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Kh(n,t),payload:e}]},fne=T.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:u,tooltipType:c}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Kh(a,t),hide:s,type:c,color:i,unit:u}};return T.createElement(M2,{tooltipEntrySettings:d})});function hne(e){var t=Ae(Io),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:u,onClick:c}=a,d=yh(a,rne),h=k2(s,r),m=O2(u),g=R2(c,r);if(!i||n==null)return null;var x=ic(i);return T.createElement(Mr,{zIndex:ite(i,sn.barBackground)},n.map((A,E)=>{var{value:_,background:C,tooltipPosition:I}=A,D=yh(A,ine);if(!C)return null;var k=h(A,E),P=m(A,E),R=g(A,E),M=kn(kn(kn(kn(kn({option:i,isActive:String(E)===t},D),{},{fill:"#eee"},C),x),Gh(d,A,E)),{},{onMouseEnter:k,onMouseLeave:P,onClick:R,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return T.createElement(ph,Hi({key:"background-bar-".concat(E)},M))}))}function mne(e){var{showLabels:t,children:n,rects:r}=e,i=r?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return kn(kn({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return T.createElement(A2,{value:t?i:void 0},n)}function pne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,u=Ae(Io),c=Ae(t2),d=n&&String(a)===u&&(c==null||s===c),h=d?n:t;return d?T.createElement(Mr,{zIndex:sn.activeBar},T.createElement(ph,Hi({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:s}))):T.createElement(ph,Hi({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:s}))}function gne(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return T.createElement(ph,Hi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function yne(e){var t,{data:n,props:r}=e,i=(t=Wr(r))!==null&&t!==void 0?t:{},{id:a}=i,s=yh(i,ane),{shape:u,dataKey:c,activeBar:d}=r,{onMouseEnter:h,onClick:m,onMouseLeave:g}=r,x=yh(r,one),A=k2(h,c),E=O2(g),_=R2(m,c);return n?T.createElement(T.Fragment,null,n.map((C,I)=>T.createElement(Ir,Hi({key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(I),className:"recharts-bar-rectangle"},Gh(x,C,I),{onMouseEnter:A(C,I),onMouseLeave:E(C,I),onClick:_(C,I)}),d?T.createElement(pne,{shape:u,activeBar:d,baseProps:s,entry:C,index:I,dataKey:c}):T.createElement(gne,{shape:u,baseProps:s,entry:C,index:I,dataKey:c})))):null}function vne(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:d,onAnimationStart:h}=t,m=n.current,g=rm(t,"recharts-bar-"),[x,A]=T.useState(!1),E=!x,_=T.useCallback(()=>{typeof d=="function"&&d(),A(!1)},[d]),C=T.useCallback(()=>{typeof h=="function"&&h(),A(!0)},[h]);return T.createElement(mne,{showLabels:E,rects:r},T.createElement(nm,{animationId:g,begin:s,duration:u,isActive:a,easing:c,onAnimationEnd:_,onAnimationStart:C,key:g},I=>{var D=I===1?r:r?.map((k,P)=>{var R=m&&m[P];if(R)return kn(kn({},k),{},{x:Pt(R.x,k.x,I),y:Pt(R.y,k.y,I),width:Pt(R.width,k.width,I),height:Pt(R.height,k.height,I)});if(i==="horizontal"){var M=Pt(0,k.height,I),z=Pt(k.stackedBarStart,k.y,I);return kn(kn({},k),{},{y:z,height:M})}var B=Pt(0,k.width,I),$=Pt(k.stackedBarStart,k.x,I);return kn(kn({},k),{},{width:B,x:$})});return I>0&&(n.current=D??null),D==null?null:T.createElement(Ir,null,T.createElement(yne,{props:t,data:D}))}),T.createElement(T2,{label:t.label}),t.children)}function bne(e){var t=T.useRef(null);return T.createElement(vne,{previousRectanglesRef:t,props:e})}var Z2=0,xne=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Kt(e,t)}};class wne extends T.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:u,background:c,id:d}=this.props;if(t||n==null)return null;var h=at("recharts-bar",i),m=d;return T.createElement(Ir,{className:h,id:d},u&&T.createElement("defs",null,T.createElement(F2,{clipPathId:m,xAxisId:a,yAxisId:s})),T.createElement(Ir,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},T.createElement(hne,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),T.createElement(bne,this.props)))}}var Sne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Z2,xAxisId:0,yAxisId:0,zIndex:sn.bar};function Ene(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=nw(t,n),g=cc(),x=Tn(),A=BZ(e.children,f2),E=Ae(I=>Xne(I,t,n,x,e.id,A));if(g!=="vertical"&&g!=="horizontal")return null;var _,C=E?.[0];return C==null||C.height==null||C.width==null?_=0:_=g==="vertical"?C.height/2:C.width/2,T.createElement(H2,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:xne,errorBarOffset:_},T.createElement(wne,Hi({},e,{layout:g,needClip:m,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:d,isAnimationActive:h})))}function Ane(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:d,stackedData:h,displayedData:m,offset:g,cells:x,parentViewBox:A,dataStartIndex:E}=e,_=t==="horizontal"?u:s,C=h?_.scale.domain():null,I=ZV({numericAxis:_}),D=_.scale(I);return m.map((k,P)=>{var R,M,z,B,$,W;h?R=WV(h[P+E],C):(R=Kt(k,n),Array.isArray(R)||(R=[I,R]));var Y=Jee(r,Z2)(R[1],P);if(t==="horizontal"){var K,[G,ne]=[u.scale(R[0]),u.scale(R[1])];M=UN({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:k,index:P}),z=(K=ne??G)!==null&&K!==void 0?K:void 0,B=i.size;var U=G-ne;if($=Yr(U)?0:U,W={x:M,y:g.top,width:B,height:g.height},Math.abs(Y)>0&&Math.abs($)<Math.abs(Y)){var te=Hn($||Y)*(Math.abs(Y)-Math.abs($));z-=te,$+=te}}else{var[ce,fe]=[s.scale(R[0]),s.scale(R[1])];if(M=ce,z=UN({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:k,index:P}),B=fe-ce,$=i.size,W={x:g.left,y:z,width:g.width,height:$},Math.abs(Y)>0&&Math.abs(B)<Math.abs(Y)){var Ie=Hn(B||Y)*(Math.abs(Y)-Math.abs(B));B+=Ie}}if(M==null||z==null||B==null||$==null)return null;var j=kn(kn({},k),{},{stackedBarStart:D,x:M,y:z,width:B,height:$,value:h?R:R[1],payload:k,background:W,tooltipPosition:{x:M+B/2,y:z+$/2},parentViewBox:A},x&&x[P]&&x[P].props);return j}).filter(Boolean)}function _ne(e){var t=xn(e,Sne),n=Tn();return T.createElement(U2,{id:t.id,type:"bar"},r=>T.createElement(T.Fragment,null,T.createElement(L2,{legendPayload:dne(t)}),T.createElement(fne,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),T.createElement(q2,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:QV(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),T.createElement(Mr,{zIndex:t.zIndex},T.createElement(Ene,Hi({},t,{id:r})))))}var Tf=T.memo(_ne,Em);Tf.displayName="Bar";function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dne=(e,t)=>t,Ine=(e,t,n)=>n,Pne=(e,t,n,r)=>r,kne=(e,t,n,r,i)=>i,Ec=re([vm,kne],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),One=re([Ec],e=>e?.maxBarSize),Rne=(e,t,n,r,i,a)=>a,wI=(e,t,n)=>{var r=n??e;if(!Et(r))return Kr(r,t,0)},Mne=re([et,vm,Dne,Ine,Pne],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Lne=(e,t,n,r)=>{var i=et(e);return i==="horizontal"?F0(e,"yAxis",n,r):F0(e,"xAxis",t,r)},jne=(e,t,n)=>{var r=et(e);return r==="horizontal"?mD(e,"xAxis",t):mD(e,"yAxis",n)},Une=(e,t,n)=>{var r={},i=e.filter(pm),a=e.filter(d=>d.stackId==null),s=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(s).map(d=>{var[h,m]=d,g=m.map(A=>A.dataKey),x=wI(t,n,m[0].barSize);return{stackId:h,dataKeys:g,barSize:x}}),c=a.map(d=>{var h=[d.dataKey].filter(g=>g!=null),m=wI(t,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...c]},Bne=re([Mne,vK,jne],Une),qne=(e,t,n,r,i)=>{var a,s,u=Ec(e,t,n,r,i);if(u!=null){var c=et(e),d=HR(e),{maxBarSize:h}=u,m=Et(h)?d:h,g,x;return c==="horizontal"?(g=Ma(e,"xAxis",t,r),x=Ra(e,"xAxis",t,r)):(g=Ma(e,"yAxis",n,r),x=Ra(e,"yAxis",n,r)),(a=(s=Hs(g,x,!0))!==null&&s!==void 0?s:m)!==null&&a!==void 0?a:0}},eL=(e,t,n,r)=>{var i=et(e),a,s;return i==="horizontal"?(a=Ma(e,"xAxis",t,r),s=Ra(e,"xAxis",t,r)):(a=Ma(e,"yAxis",n,r),s=Ra(e,"yAxis",n,r)),Hs(a,s)};function $ne(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=Kr(e,n,0,!0),u,c=[];if(Mt(r[0].barSize)){var d=!1,h=n/a,m=r.reduce((C,I)=>C+(I.barSize||0),0);m+=(a-1)*s,m>=n&&(m-=(a-1)*s,s=0),m>=n&&h>0&&(d=!0,h*=.9,m=a*h);var g=(n-m)/2>>0,x={offset:g-s,size:0};u=r.reduce((C,I)=>{var D,k={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:x.offset+x.size+s,size:d?h:(D=I.barSize)!==null&&D!==void 0?D:0}},P=[...C,k];return x=P[P.length-1].position,P},c)}else{var A=Kr(t,n,0,!0);n-2*A-(a-1)*s<=0&&(s=0);var E=(n-2*A-(a-1)*s)/a;E>1&&(E>>=0);var _=Mt(i)?Math.min(E,i):E;u=r.reduce((C,I,D)=>[...C,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:A+(E+s)*D+(E-_)/2,size:_}}],c)}return u}}var Gne=(e,t,n,r,i,a,s)=>{var u=Et(s)?t:s,c=$ne(n,r,i!==a?i:a,e,u);return i!==a&&c!=null&&(c=c.map(d=>nf(nf({},d),{},{position:nf(nf({},d.position),{},{offset:d.position.offset-i/2})}))),c},zne=re([Bne,HR,yK,FR,qne,eL,One],Gne),Hne=(e,t,n,r)=>Ma(e,"xAxis",t,r),Fne=(e,t,n,r)=>Ma(e,"yAxis",n,r),Vne=(e,t,n,r)=>Ra(e,"xAxis",t,r),Wne=(e,t,n,r)=>Ra(e,"yAxis",n,r),Yne=re([zne,Ec],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Kne=(e,t)=>{var n=Ox(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},Jne=re([Lne,Ec],Kne),Xne=re([cn,Zb,Hne,Fne,Vne,Wne,Yne,et,cm,eL,Jne,Ec,Rne],(e,t,n,r,i,a,s,u,c,d,h,m,g)=>{var{chartData:x,dataStartIndex:A,dataEndIndex:E}=c;if(!(m==null||s==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:_}=m,C;if(_!=null&&_.length>0?C=_:C=x?.slice(A,E+1),C!=null)return Ane({layout:u,barSettings:m,pos:s,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:C,offset:e,cells:g,dataStartIndex:A})}}),Qne=e=>{var{chartData:t}=e,n=Nt(),r=Tn();return T.useEffect(()=>r?()=>{}:(n(CD(t)),()=>{n(CD(void 0))}),[t,n,r]),null},SI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tL=Vn({name:"brush",initialState:SI,reducers:{setBrushSettings(e,t){return t.payload==null?SI:t.payload}}}),{setBrushSettings:xhe}=tL.actions,Zne=tL.reducer;function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aw{static create(t){return new aw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}ere(aw,"EPS",1e-4);function rre(e){return(e%180+180)%180}var ire=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=rre(i),s=a*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},are={dots:[],areas:[],lines:[]},nL=Vn({name:"referenceElements",initialState:are,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Vr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Vr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Vr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:whe,removeDot:She,addArea:Ehe,removeArea:Ahe,addLine:_he,removeLine:The}=nL.actions,ore=nL.reducer,sre=T.createContext(void 0),lre=e=>{var{children:t}=e,[n]=T.useState("".concat(Ru("recharts"),"-clip")),r=tw();if(r==null)return null;var{x:i,y:a,width:s,height:u}=r;return T.createElement(sre.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:u,width:s}))),t)};function rL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function ure(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ire(r,n)}function cre(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:u}=e;return t===1?{start:r?i:a,end:r?i+s:a+u}:{start:r?i+s:a+u,end:r?i:a}}function vh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function dre(e,t){return rL(e,t+1)}function fre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:u}=t,c=0,d=1,h=s,m=function(){var A=r?.[c];if(A===void 0)return{v:rL(r,d)};var E=c,_,C=()=>(_===void 0&&(_=n(A,E)),_),I=A.coordinate,D=c===0||vh(e,I,C,h,u);D||(c=0,h=s,d+=1),D&&(h=I+e*(C()/2+i),c+=d)},g;d<=a.length;)if(g=m(),g)return g.v;return[]}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hre(e,t,n){return(t=mre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gre(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:u}=t,{end:c}=t,d=function(g){var x=a[g],A,E=()=>(A===void 0&&(A=n(x,g)),A);if(g===s-1){var _=e*(x.coordinate+e*E()/2-c);a[g]=x=En(En({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else a[g]=x=En(En({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var C=vh(e,x.tickCoord,E,u,c);C&&(c=x.tickCoord-e*(E()/2+i),a[g]=En(En({},x),{},{isShow:!0}))}},h=s-1;h>=0;h--)d(h);return a}function yre(e,t,n,r,i,a){var s=(r||[]).slice(),u=s.length,{start:c,end:d}=t;if(a){var h=r[u-1],m=n(h,u-1),g=e*(h.coordinate+e*m/2-d);if(s[u-1]=h=En(En({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var x=vh(e,h.tickCoord,()=>m,c,d);x&&(d=h.tickCoord-e*(m/2+i),s[u-1]=En(En({},h),{},{isShow:!0}))}}for(var A=a?u-1:u,E=function(I){var D=s[I],k,P=()=>(k===void 0&&(k=n(D,I)),k);if(I===0){var R=e*(D.coordinate-e*P()/2-c);s[I]=D=En(En({},D),{},{tickCoord:R<0?D.coordinate-R*e:D.coordinate})}else s[I]=D=En(En({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var M=vh(e,D.tickCoord,P,c,d);M&&(c=D.tickCoord+e*(P()/2+i),s[I]=En(En({},D),{},{isShow:!0}))}},_=0;_<A;_++)E(_);return s}function ow(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:u,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(Ee(c)||il.isSsr){var g;return(g=dre(i,Ee(c)?c:0))!==null&&g!==void 0?g:[]}var x=[],A=u==="top"||u==="bottom"?"width":"height",E=h&&A==="width"?Nu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(D,k)=>{var P=typeof d=="function"?d(D.value,k):D.value;return A==="width"?ure(Nu(P,{fontSize:t,letterSpacing:n}),E,m):Nu(P,{fontSize:t,letterSpacing:n})[A]},C=i.length>=2?Hn(i[1].coordinate-i[0].coordinate):1,I=cre(a,C,A);return c==="equidistantPreserveStart"?fre(C,I,_,i,s):(c==="preserveStart"||c==="preserveStartEnd"?x=yre(C,I,_,i,s,c==="preserveStartEnd"):x=gre(C,I,_,i,s),x.filter(D=>D.isShow))}var vre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+a,d=s+c+u+(n?r:0);return Math.round(d)}return 0},bre=["axisLine","width","height","className","hide","ticks","axisType"];function xre(e,t){if(e==null)return{};var n,r,i=wre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Po.apply(null,arguments)}function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:sn.axis};function _re(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var d=zt(zt(zt({},c),Wr(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);d=zt(zt({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!s||a==="right"&&s);d=zt(zt({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return T.createElement("line",Po({},d,{className:at("recharts-cartesian-axis-line",zs(u,"className"))}))}function Tre(e,t,n,r,i,a,s,u,c){var d,h,m,g,x,A,E=u?-1:1,_=e.tickSize||s,C=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,g=n+ +!u*i,m=g-E*_,A=m-E*c,x=C;break;case"left":m=g=e.coordinate,h=t+ +!u*r,d=h-E*_,x=d-E*c,A=C;break;case"right":m=g=e.coordinate,h=t+ +u*r,d=h+E*_,x=d+E*c,A=C;break;default:d=h=e.coordinate,g=n+ +u*i,m=g+E*_,A=m+E*c,x=C;break}return{line:{x1:d,y1:m,x2:h,y2:g},tick:{x,y:A}}}function Cre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Dre(e){var{option:t,tickProps:n,value:r}=e,i,a=at(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))i=T.cloneElement(t,zt(zt({},n),{},{className:a}));else if(typeof t=="function")i=t(zt(zt({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=at(s,t?.className)),i=T.createElement(Zx,Po({},n,{className:s}),r)}return i}var Ire=T.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:u,padding:c,tickTextProps:d,orientation:h,mirror:m,x:g,y:x,width:A,height:E,tickSize:_,tickMargin:C,fontSize:I,letterSpacing:D,getTicksConfig:k,events:P,axisType:R}=e,M=ow(zt(zt({},k),{},{ticks:n}),I,D),z=Cre(h,m),B=Nre(h,m),$=Wr(k),W=ic(r),Y={};typeof i=="object"&&(Y=i);var K=zt(zt({},$),{},{fill:"none"},Y),G=M.map(te=>zt({entry:te},Tre(te,g,x,A,E,h,_,m,C))),ne=G.map(te=>{var{entry:ce,line:fe}=te;return T.createElement(Ir,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&T.createElement("line",Po({},K,fe,{className:at("recharts-cartesian-axis-tick-line",zs(i,"className"))})))}),U=G.map((te,ce)=>{var{entry:fe,tick:Ie}=te,j=zt(zt(zt(zt({textAnchor:z,verticalAnchor:B},$),{},{stroke:"none",fill:a},W),Ie),{},{index:ce,payload:fe,visibleTicksCount:M.length,tickFormatter:s,padding:c},d);return T.createElement(Ir,Po({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},Gh(P,fe,ce)),r&&T.createElement(Dre,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(fe.value,ce):fe.value).concat(u||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},U.length>0&&T.createElement(Mr,{zIndex:sn.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},U)),ne.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},ne))}),Pre=T.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:u,axisType:c}=e,d=xre(e,bre),[h,m]=T.useState(""),[g,x]=T.useState(""),A=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return vre({ticks:A.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=T.useCallback(_=>{if(_){var C=_.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=C;var I=C[0];if(I){var D=window.getComputedStyle(I),k=D.fontSize,P=D.letterSpacing;(k!==h||P!==g)&&(m(k),x(P))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Mr,{zIndex:e.zIndex},T.createElement(Ir,{className:at("recharts-cartesian-axis",a)},T.createElement(_re,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Wr(e)}),T.createElement(Ire,{ref:E,axisType:c,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),T.createElement(dZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},T.createElement(wZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),sw=T.forwardRef((e,t)=>{var n=xn(e,Li);return T.createElement(Pre,Po({},n,{ref:t}))});sw.displayName="CartesianAxis";var kre=["x1","y1","x2","y2","key"],Ore=["offset"],Rre=["xAxisId","yAxisId"],Mre=["xAxisId","yAxisId"];function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){Lre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lre(e,t,n){return(t=jre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wo.apply(null,arguments)}function bh(e,t){if(e==null)return{};var n,r,i=Bre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:u}=e;return T.createElement("rect",{x:r,y:i,ry:u,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iL(e){var{option:t,lineItemProps:n}=e,r;if(T.isValidElement(t))r=T.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:u,y2:c,key:d}=n,h=bh(n,kre),m=(i=Wr(h))!==null&&i!==void 0?i:{},{offset:g}=m,x=bh(m,Ore);r=T.createElement("line",wo({},x,{x1:a,y1:s,x2:u,y2:c,fill:"none",key:d}))}return r}function $re(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,u=bh(e,Rre),c=i.map((d,h)=>{var m=An(An({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return T.createElement(iL,{key:"line-".concat(h),option:r,lineItemProps:m})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Gre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,u=bh(e,Mre),c=i.map((d,h)=>{var m=An(An({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return T.createElement(iL,{option:r,lineItemProps:m,key:"line-".concat(h)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function zre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var x=!d[g+1],A=x?i+s-m:d[g+1]-m;if(A<=0)return null;var E=g%t.length;return T.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:A,width:a,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Hre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var d=c.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==d[0]&&d.unshift(0);var h=d.map((m,g)=>{var x=!d[g+1],A=x?i+s-m:d[g+1]-m;if(A<=0)return null;var E=g%n.length;return T.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:A,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Fre=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return NO(ow(An(An(An({},Li),n),{},{ticks:DO(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Vre=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return NO(ow(An(An(An({},Li),n),{},{ticks:DO(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Wre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:sn.grid};function nb(e){var t=tx(),n=nx(),r=MO(),i=An(An({},xn(e,Wre)),{},{x:Ee(e.x)?e.x:r.left,y:Ee(e.y)?e.y:r.top,width:Ee(e.width)?e.width:r.width,height:Ee(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:u,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:g,verticalValues:x}=i,A=Tn(),E=Ae(B=>pD(B,"xAxis",a,A)),_=Ae(B=>pD(B,"yAxis",s,A));if(!ci(d)||!ci(h)||!Ee(u)||!Ee(c))return null;var C=i.verticalCoordinatesGenerator||Fre,I=i.horizontalCoordinatesGenerator||Vre,{horizontalPoints:D,verticalPoints:k}=i;if((!D||!D.length)&&typeof I=="function"){var P=g&&g.length,R=I({yAxis:_?An(An({},_),{},{ticks:P?g:_.ticks}):void 0,width:t??d,height:n??h,offset:r},P?!0:m);Vf(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(D=R)}if((!k||!k.length)&&typeof C=="function"){var M=x&&x.length,z=C({xAxis:E?An(An({},E),{},{ticks:M?x:E.ticks}):void 0,width:t??d,height:n??h,offset:r},M?!0:m);Vf(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(k=z)}return T.createElement(Mr,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(qre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(zre,wo({},i,{horizontalPoints:D})),T.createElement(Hre,wo({},i,{verticalPoints:k})),T.createElement($re,wo({},i,{offset:r,horizontalPoints:D,xAxis:E,yAxis:_})),T.createElement(Gre,wo({},i,{offset:r,verticalPoints:k,xAxis:E,yAxis:_}))))}nb.displayName="CartesianGrid";var aL=(e,t,n,r)=>Ma(e,"xAxis",t,r),oL=(e,t,n,r)=>Ra(e,"xAxis",t,r),sL=(e,t,n,r)=>Ma(e,"yAxis",n,r),lL=(e,t,n,r)=>Ra(e,"yAxis",n,r),Yre=re([et,aL,sL,oL,lL],(e,t,n,r,i)=>Ua(e,"xAxis")?Hs(t,r,!1):Hs(n,i,!1)),Kre=(e,t,n,r,i)=>i;function Jre(e){return e.type==="line"}var Xre=re([vm,Kre],(e,t)=>e.filter(Jre).find(n=>n.id===t)),Qre=re([et,aL,sL,oL,lL,Xre,Yre,cm],(e,t,n,r,i,a,s,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:g}=a,x;if(g!=null&&g.length>0?x=g:x=c?.slice(d,h+1),x!=null)return bie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:s,displayedData:x})}});function Zre(e){var t=ic(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),u=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(u)||u<0)&&(u=r),{r:s,strokeWidth:u}}return{r:n,strokeWidth:r}}var eie=["id"],tie=["type","layout","connectNulls","needClip","shape"],nie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(null,arguments)}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){rie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rie(e,t,n){return(t=iie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lw(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Kh(n,t),payload:e}]},lie=T.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:u,unit:c,tooltipType:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Kh(s,t),hide:u,type:d,color:r,unit:c}};return T.createElement(M2,{tooltipEntrySettings:h})}),uL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function uie(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var cie=(e,t,n)=>{var r=n.reduce((m,g)=>m+g);if(!r)return uL(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>a){u=[...n.slice(0,c),a-d];break}var h=u.length%2===0?[0,s]:[s];return[...uie(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function die(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:u}=r,c=lw(r,eie),d=Wr(c);return T.createElement(wee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:d,needClip:s,clipPathId:t})}function fie(e){var{showLabels:t,children:n,points:r}=e,i=T.useMemo(()=>r?.map(a=>{var s,u,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return oi(oi({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(A2,{value:t?i:void 0},n)}function CI(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:u,connectNulls:c,needClip:d,shape:h}=a,m=lw(a,tie),g=oi(oi({},Rn(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:u,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(P2,Vu({shapeType:"curve",option:h},g,{pathRef:n})),T.createElement(die,{points:r,clipPathId:t,props:a}))}function hie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function mie(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:g,width:x,height:A,onAnimationEnd:E,onAnimationStart:_}=n,C=i.current,I=rm(s,"recharts-line-"),D=T.useRef(I),[k,P]=T.useState(!1),R=!k,M=T.useCallback(()=>{typeof E=="function"&&E(),P(!1)},[E]),z=T.useCallback(()=>{typeof _=="function"&&_(),P(!0)},[_]),B=hie(r.current),$=T.useRef(0);D.current!==I&&($.current=a.current,D.current=I);var W=$.current;return T.createElement(fie,{points:s,showLabels:R},n.children,T.createElement(nm,{animationId:I,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:M,onAnimationStart:z,key:I},Y=>{var K=Pt(W,B+W,Y),G=Math.min(K,B),ne;if(c)if(u){var U="".concat(u).split(/[,\s]+/gim).map(fe=>parseFloat(fe));ne=cie(G,B,U)}else ne=uL(B,G);else ne=u==null?void 0:String(u);if(Y>0&&B>0&&(i.current=s,a.current=Math.max(a.current,G)),C){var te=C.length/s.length,ce=Y===1?s:s.map((fe,Ie)=>{var j=Math.floor(Ie*te);if(C[j]){var ae=C[j];return oi(oi({},fe),{},{x:Pt(ae.x,fe.x,Y),y:Pt(ae.y,fe.y,Y)})}return g?oi(oi({},fe),{},{x:Pt(x*2,fe.x,Y),y:Pt(A/2,fe.y,Y)}):oi(oi({},fe),{},{x:fe.x,y:fe.y})});return i.current=ce,T.createElement(CI,{props:n,points:ce,clipPathId:t,pathRef:r,strokeDasharray:ne})}return T.createElement(CI,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ne})}),T.createElement(T2,{label:n.label}))}function pie(e){var{clipPathId:t,props:n}=e,r=T.useRef(null),i=T.useRef(0),a=T.useRef(null);return T.createElement(mie,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var gie=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Kt(e.payload,t)}};class yie extends T.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:u,left:c,width:d,height:h,id:m,needClip:g,zIndex:x}=this.props;if(t)return null;var A=at("recharts-line",i),E=m,{r:_,strokeWidth:C}=Zre(n),I=I2(n),D=_*2+C,k=g?"url(#clipPath-".concat(I?"":"dots-").concat(E,")"):void 0;return T.createElement(Mr,{zIndex:x},T.createElement(Ir,{className:A},g&&T.createElement("defs",null,T.createElement(F2,{clipPathId:E,xAxisId:a,yAxisId:s}),!I&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:c-D/2,y:u-D/2,width:d+D,height:h+D}))),T.createElement(H2,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:gie,errorBarOffset:0},T.createElement(pie,{props:this.props,clipPathId:E}))),T.createElement($ee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var cL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:sn.line,type:"linear"};function vie(e){var t=xn(e,cL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:u,dot:c,hide:d,isAnimationActive:h,label:m,legendType:g,xAxisId:x,yAxisId:A,id:E}=t,_=lw(t,nie),{needClip:C}=nw(x,A),I=tw(),D=cc(),k=Tn(),P=Ae($=>Qre($,x,A,k,E));if(D!=="horizontal"&&D!=="vertical"||P==null||I==null)return null;var{height:R,width:M,x:z,y:B}=I;return T.createElement(yie,Vu({},_,{id:E,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:d,label:m,legendType:g,xAxisId:x,yAxisId:A,points:P,layout:D,height:R,width:M,left:z,top:B,needClip:C}))}function bie(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:u,displayedData:c}=e;return c.map((d,h)=>{var m=Kt(d,s);if(t==="horizontal"){var g=jN({axis:n,ticks:i,bandSize:u,entry:d,index:h}),x=Et(m)?null:r.scale(m);return{x:g,y:x,value:m,payload:d}}var A=Et(m)?null:n.scale(m),E=jN({axis:r,ticks:a,bandSize:u,entry:d,index:h});return A==null||E==null?null:{x:A,y:E,value:m,payload:d}}).filter(Boolean)}function xie(e){var t=xn(e,cL),n=Tn();return T.createElement(U2,{id:t.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(L2,{legendPayload:sie(t)}),T.createElement(lie,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),T.createElement(q2,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),T.createElement(vie,Vu({},t,{id:r}))))}var dL=T.memo(xie,Em);dL.displayName="Line";var wie=["domain","range"],Sie=["domain","range"];function NI(e,t){if(e==null)return{};var n,r,i=Eie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function fL(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=NI(e,wie),{domain:a,range:s}=t,u=NI(t,Sie);return!DI(n,a)||!DI(r,s)?!1:Em(i,u)}var Aie=["dangerouslySetInnerHTML","ticks"],_ie=["id"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function II(e,t){if(e==null)return{};var n,r,i=Tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cie(e){var t=Nt(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?t(Tee(e)):n.current!==e&&t(Cee({prev:n.current,next:e})),n.current=e},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(t(Nee(n.current)),n.current=null)},[t]),null}var Nie=e=>{var{xAxisId:t,className:n}=e,r=Ae(Zb),i=Tn(),a="xAxis",s=Ae(_=>cl(_,a,t,i)),u=Ae(_=>MM(_,a,t,i)),c=Ae(_=>PM(_,t)),d=Ae(_=>pJ(_,t)),h=Ae(_=>eM(_,t));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=e,x=II(e,Aie),{id:A}=h,E=II(h,_ie);return T.createElement(sw,rb({},x,E,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:at("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:u,axisType:a}))},Die={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,angle:nn.angle,axisLine:Li.axisLine,height:nn.height,hide:!1,includeHidden:nn.includeHidden,interval:nn.interval,minTickGap:nn.minTickGap,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,tickLine:Li.tickLine,tickSize:Li.tickSize,type:nn.type,xAxisId:0},Iie=e=>{var t=xn(e,Die);return T.createElement(T.Fragment,null,T.createElement(Cie,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),T.createElement(Nie,t))},ib=T.memo(Iie,fL);ib.displayName="XAxis";var Pie=["dangerouslySetInnerHTML","ticks"],kie=["id"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function PI(e,t){if(e==null)return{};var n,r,i=Oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rie(e){var t=Nt(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?t(Dee(e)):n.current!==e&&t(Iee({prev:n.current,next:e})),n.current=e},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(t(Pee(n.current)),n.current=null)},[t]),null}var Mie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=T.useRef(null),s=T.useRef(null),u=Ae(Zb),c=Tn(),d=Nt(),h="yAxis",m=Ae(P=>cl(P,h,t,c)),g=Ae(P=>kM(P,t)),x=Ae(P=>yJ(P,t)),A=Ae(P=>MM(P,h,t,c)),E=Ae(P=>tM(P,t));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!g||ew(i)||T.isValidElement(i)||E==null)){var P=a.current;if(P){var R=P.getCalculatedWidth();Math.round(g.width)!==Math.round(R)&&d(kee({id:t,width:R}))}}},[A,g,d,i,t,r,E]),g==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:_,ticks:C}=e,I=PI(e,Pie),{id:D}=E,k=PI(E,kie);return T.createElement(sw,ab({},I,k,{ref:a,labelRef:s,scale:m,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:at("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:A,axisType:h}))},Lie={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:Li.axisLine,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:Li.tickLine,tickSize:Li.tickSize,type:rn.type,width:rn.width,yAxisId:0},jie=e=>{var t=xn(e,Lie);return T.createElement(T.Fragment,null,T.createElement(Rie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),T.createElement(Mie,t))},Cf=T.memo(jie,fL);Cf.displayName="YAxis";var Uie=(e,t)=>t,uw=re([Uie,et,QR,Qt,XM,Zi,kX,cn],BX),cw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},hL=Pr("mouseClick"),mL=lc();mL.startListening({actionCreator:hL,effect:(e,t)=>{var n=e.payload,r=uw(t.getState(),cw(n));r?.activeIndex!=null&&t.dispatch(PJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var ob=Pr("mouseMove"),pL=lc(),rf=null;pL.startListening({actionCreator:ob,effect:(e,t)=>{var n=e.payload;rf!==null&&cancelAnimationFrame(rf);var r=cw(n);rf=requestAnimationFrame(()=>{var i=t.getState(),a=zx(i,i.tooltip.settings.shared);if(a==="axis"){var s=uw(i,r);s?.activeIndex!=null?t.dispatch(zM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(GM())}rf=null})}});var kI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},gL=Vn({name:"rootProps",initialState:kI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:kI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Bie=gL.reducer,{updateOptions:qie}=gL.actions,yL=Vn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Che}=yL.actions,$ie=yL.reducer,vL=Pr("keyDown"),bL=Pr("focus"),dw=lc();dw.startListening({actionCreator:vL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Hx(i,fl(n),yc(n),Sc(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=Zi(n);if(a==="Enter"){var d=ch(n,"axis","hover",String(i.index));t.dispatch(W0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=wJ(n),m=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,x=u+g*m;if(!(c==null||x>=c.length||x<0)){var A=ch(n,"axis","hover",String(x));t.dispatch(W0({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}}});dw.startListening({actionCreator:bL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=ch(n,"axis","hover",String(a));t.dispatch(W0({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ar=Pr("externalEvent"),xL=lc(),Lv=new Map;xL.startListening({actionCreator:Ar,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Lv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var u=t.getState(),c={activeCoordinate:gX(u),activeDataKey:t2(u),activeIndex:Io(u),activeLabel:e2(u),activeTooltipIndex:Io(u),isTooltipActive:yX(u)};n(c,r)}finally{Lv.delete(i)}});Lv.set(i,s)}}});var Gie=re([dl],e=>e.tooltipItemPayloads),zie=re([Gie,xc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),wL=Pr("touchMove"),SL=lc();SL.startListening({actionCreator:wL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=zx(r,r.tooltip.settings.shared);if(i==="axis"){var a=uw(r,cw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&t.dispatch(zM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(o8),h=(s=c.getAttribute(s8))!==null&&s!==void 0?s:void 0,m=zie(t.getState(),d,h);t.dispatch($M({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var Hie=tO({brush:Zne,cartesianAxis:Oee,chartData:gQ,errorBars:Qee,graphicalItems:dee,layout:$V,legend:z8,options:dQ,polarAxis:MZ,polarOptions:$ie,referenceElements:ore,rootProps:Bie,tooltip:kJ,zIndex:ZX}),Fie=function(t){return fV({reducer:Hie,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([mL.middleware,pL.middleware,dw.middleware,xL.middleware,SL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(mO({type:"raf"}))},devTools:il.devToolsEnabled})};function Vie(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Tn(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=Fie(t));var s=Vb;return T.createElement(Q2,{context:s,store:a.current},n)}function Wie(e){var{layout:t,margin:n}=e,r=Nt(),i=Tn();return T.useEffect(()=>{i||(r(UV(t)),r(jV(n)))},[r,i,t,n]),null}var Yie=T.memo(Wie,Em);function Kie(e){var t=Nt();return T.useEffect(()=>{t(qie(e))},[t,e]),null}function OI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=j2("".concat(r).concat(t)),a=Nt();return T.useLayoutEffect(()=>(a(XX({zIndex:t,elementId:i,isPanorama:n})),()=>{a(QX({zIndex:t,isPanorama:n}))}),[a,t,i,n]),T.createElement("g",{id:i})}function RI(e){var{children:t,isPanorama:n}=e,r=Ae($X);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(OI,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>T.createElement(OI,{key:s,zIndex:s,isPanorama:n})))}var Jie=["children"];function Xie(e,t){if(e==null)return{};var n,r,i=Qie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(null,arguments)}var Zie={width:"100%",height:"100%",display:"block"},eae=T.forwardRef((e,t)=>{var n=tx(),r=nx(),i=jO();if(!ci(n)||!ci(r))return null;var{children:a,otherAttributes:s,title:u,desc:c}=e,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),T.createElement(Lb,xh({},s,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:Zie,ref:t}),a)}),tae=e=>{var{children:t}=e,n=Ae(Zh);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return T.createElement(Lb,{width:r,height:i,x:s,y:a},t)},MI=T.forwardRef((e,t)=>{var{children:n}=e,r=Xie(e,Jie),i=Tn();return i?T.createElement(tae,null,T.createElement(RI,{isPanorama:!0},n)):T.createElement(eae,xh({ref:t},r),T.createElement(RI,{isPanorama:!1},n))});function nae(){var e=Nt(),[t,n]=T.useState(null),r=Ae(a8);return T.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Mt(a)&&a!==r&&e(qV(a))}},[t,e,r]),n}function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iae(e,t,n){return(t=aae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aae(e){var t=oae(e,"string");return typeof t=="symbol"?t:t+""}function oae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(null,arguments)}var sae=()=>(_Q(),null);function wh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var lae=T.forwardRef((e,t)=>{var n,r,i=T.useRef(null),[a,s]=T.useState({containerWidth:wh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:wh((r=e.style)===null||r===void 0?void 0:r.height)}),u=T.useCallback((d,h)=>{s(m=>{var g=Math.round(d),x=Math.round(h);return m.containerWidth===g&&m.containerHeight===x?m:{containerWidth:g,containerHeight:x}})},[]),c=T.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var g=A=>{var{width:E,height:_}=A[0].contentRect;u(E,_)},x=new ResizeObserver(g);x.observe(d),i.current=x}},[t,u]);return T.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[u]),T.createElement(T.Fragment,null,T.createElement(tm,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",ko({ref:c},e)))}),uae=T.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=T.useState({containerWidth:wh(n),containerHeight:wh(r)}),s=T.useCallback((c,d)=>{a(h=>{var m=Math.round(c),g=Math.round(d);return h.containerWidth===m&&h.containerHeight===g?h:{containerWidth:m,containerHeight:g}})},[]),u=T.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(tm,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",ko({ref:u},e)))}),cae=T.forwardRef((e,t)=>{var{width:n,height:r}=e;return T.createElement(T.Fragment,null,T.createElement(tm,{width:n,height:r}),T.createElement("div",ko({ref:t},e)))}),dae=T.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ui(n)||Ui(r)?T.createElement(uae,ko({},e,{ref:t})):T.createElement(cae,ko({},e,{ref:t}))});function fae(e){return e===!0?lae:dae}var hae=T.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:g,onTouchEnd:x,onTouchMove:A,onTouchStart:E,style:_,width:C,responsive:I,dispatchTouchEvents:D=!0}=e,k=T.useRef(null),P=Nt(),[R,M]=T.useState(null),[z,B]=T.useState(null),$=nae(),W=ex(),Y=W?.width>0?W.width:C,K=W?.height>0?W.height:i,G=T.useCallback(oe=>{$(oe),typeof t=="function"&&t(oe),M(oe),B(oe),oe!=null&&(k.current=oe)},[$,t,M,B]),ne=T.useCallback(oe=>{P(hL(oe)),P(Ar({handler:a,reactEvent:oe}))},[P,a]),U=T.useCallback(oe=>{P(ob(oe)),P(Ar({handler:d,reactEvent:oe}))},[P,d]),te=T.useCallback(oe=>{P(GM()),P(Ar({handler:h,reactEvent:oe}))},[P,h]),ce=T.useCallback(oe=>{P(ob(oe)),P(Ar({handler:m,reactEvent:oe}))},[P,m]),fe=T.useCallback(()=>{P(bL())},[P]),Ie=T.useCallback(oe=>{P(vL(oe.key))},[P]),j=T.useCallback(oe=>{P(Ar({handler:s,reactEvent:oe}))},[P,s]),ae=T.useCallback(oe=>{P(Ar({handler:u,reactEvent:oe}))},[P,u]),me=T.useCallback(oe=>{P(Ar({handler:c,reactEvent:oe}))},[P,c]),ge=T.useCallback(oe=>{P(Ar({handler:g,reactEvent:oe}))},[P,g]),Te=T.useCallback(oe=>{P(Ar({handler:E,reactEvent:oe}))},[P,E]),Re=T.useCallback(oe=>{D&&P(wL(oe)),P(Ar({handler:A,reactEvent:oe}))},[P,D,A]),ke=T.useCallback(oe=>{P(Ar({handler:x,reactEvent:oe}))},[P,x]),At=fae(I);return T.createElement(l2.Provider,{value:R},T.createElement(vk.Provider,{value:z},T.createElement(At,{width:Y??_?.width,height:K??_?.height,className:at("recharts-wrapper",r),style:rae({position:"relative",cursor:"default",width:Y,height:K},_),onClick:ne,onContextMenu:j,onDoubleClick:ae,onFocus:fe,onKeyDown:Ie,onMouseDown:me,onMouseEnter:U,onMouseLeave:te,onMouseMove:ce,onMouseUp:ge,onTouchEnd:ke,onTouchMove:Re,onTouchStart:Te,ref:G},T.createElement(sae,null),n)))}),mae=["width","height","responsive","children","className","style","compact","title","desc"];function pae(e,t){if(e==null)return{};var n,r,i=gae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yae=T.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:u,compact:c,title:d,desc:h}=e,m=pae(e,mae),g=Wr(m);return c?T.createElement(T.Fragment,null,T.createElement(tm,{width:n,height:r}),T.createElement(MI,{otherAttributes:g,title:d,desc:h},a)):T.createElement(hae,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(MI,{otherAttributes:g,title:d,desc:h,ref:t},T.createElement(lre,null,a)))});function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}var vae={top:5,right:5,bottom:5,left:5},bae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},EL=T.forwardRef(function(t,n){var r,i=xn(t.categoricalChartProps,bae),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return T.createElement(Vie,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},T.createElement(Qne,{chartData:d.data}),T.createElement(Yie,{layout:i.layout,margin:i.margin}),T.createElement(Kie,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(yae,sb({},i,{ref:n})))}),xae=["axis","item"],wae=T.forwardRef((e,t)=>T.createElement(EL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xae,tooltipPayloadSearcher:u2,categoricalChartProps:e,ref:t})),Sae=["axis"],Eae=T.forwardRef((e,t)=>T.createElement(EL,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Sae,tooltipPayloadSearcher:u2,categoricalChartProps:e,ref:t}));const Aae=[{year:2016,event:"Hired",responsibilities:2,recognition:3},{year:2018,event:"Promotion",responsibilities:4,recognition:4},{year:2020,event:"Expanded Role",responsibilities:7,recognition:5},{year:2022,event:"Added 2 more teams",responsibilities:9,recognition:5},{year:2024,event:"Scope Reduced",responsibilities:5,recognition:3}],_ae=[{metric:"Team Size",you:12,peer:8},{metric:"Managed Depts",you:4,peer:2},{metric:"Pay Level (est.)",you:7,peer:7},{metric:"Support Staff",you:1,peer:3}],Tae=({active:e,payload:t,label:n})=>{if(e&&t&&t.length){const r=t[0].payload;return b.jsxs("div",{className:"p-2 bg-gray-700 text-white rounded-md border border-gray-600 shadow-lg",children:[b.jsx("p",{className:"font-bold",children:`Year: ${n}`}),b.jsx("p",{className:"text-sm text-blue-300",children:`Responsibilities: ${r.responsibilities}`}),b.jsx("p",{className:"text-sm text-green-300",children:`Recognition: ${r.recognition}`}),b.jsx("p",{className:"text-sm font-semibold mt-1",children:`Event: ${r.event}`})]})}return null},Cae=({careerEvents:e,peerComparisons:t})=>{const[n,r]=T.useState(Aae),[i,a]=T.useState(_ae);return T.useEffect(()=>{e&&e.length>0&&r(e),t&&t.length>0&&a(t)},[e,t]),b.jsxs("div",{className:"space-y-12",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Infographic 1: Career Trajectory vs. Responsibilities"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Visualizing your performance history and responsibility growth over time compared to the sudden adverse action."}),b.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md h-96",children:b.jsx(KN,{width:"100%",height:"100%",children:b.jsxs(Eae,{data:n,margin:{top:5,right:20,left:-10,bottom:5},children:[b.jsx(nb,{strokeDasharray:"3 3",strokeOpacity:.2}),b.jsx(ib,{dataKey:"year",stroke:"rgb(156 163 175)"}),b.jsx(Cf,{yAxisId:"left",stroke:"rgb(156 163 175)"}),b.jsx(Cf,{yAxisId:"right",orientation:"right",stroke:"rgb(156 163 175)"}),b.jsx(kD,{content:b.jsx(Tae,{})}),b.jsx(D0,{}),b.jsx(Tf,{yAxisId:"left",dataKey:"responsibilities",name:"Responsibilities (Scale 1-10)",fill:"#3b82f6"}),b.jsx(dL,{yAxisId:"right",type:"monotone",dataKey:"recognition",name:"Positive Recognition (Scale 1-5)",stroke:"#10b981",strokeWidth:2})]})})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:"Infographic 2: Peer Comparison Breakdown"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Comparing your workload, resources, and treatment against similarly situated employees (Comparators)."}),b.jsx("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md h-96",children:b.jsx(KN,{width:"100%",height:"100%",children:b.jsxs(wae,{data:i,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[b.jsx(nb,{strokeDasharray:"3 3",strokeOpacity:.2}),b.jsx(ib,{type:"number",stroke:"rgb(156 163 175)"}),b.jsx(Cf,{dataKey:"metric",type:"category",stroke:"rgb(156 163 175)",width:120}),b.jsx(kD,{contentStyle:{backgroundColor:"rgb(55 65 81)",borderColor:"rgb(75 85 99)",color:"white"}}),b.jsx(D0,{}),b.jsx(Tf,{dataKey:"you",name:"You",fill:"#8b5cf6"}),b.jsx(Tf,{dataKey:"peer",name:"Peer Average",fill:"#ef4444"})]})})})]})]})};var Fr=function(t){var n=t.top,r=t.right,i=t.bottom,a=t.left,s=r-a,u=i-n,c={top:n,right:r,bottom:i,left:a,width:s,height:u,x:a,y:n,center:{x:(r+a)/2,y:(i+n)/2}};return c},fw=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},jI=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Nae=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},jv={top:0,right:0,bottom:0,left:0},hw=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?jv:r,a=t.border,s=a===void 0?jv:a,u=t.padding,c=u===void 0?jv:u,d=Fr(fw(n,i)),h=Fr(jI(n,s)),m=Fr(jI(h,c));return{marginBox:d,borderBox:Fr(n),paddingBox:h,contentBox:m,margin:i,border:s,padding:c}},Er=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&G2(),i},Dae=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Sh=function(t,n){var r=t.borderBox,i=t.border,a=t.margin,s=t.padding,u=Nae(r,n);return hw({borderBox:u,border:i,margin:a,padding:s})},Eh=function(t,n){return n===void 0&&(n=Dae()),Sh(t,n)},AL=function(t,n){var r={top:Er(n.marginTop),right:Er(n.marginRight),bottom:Er(n.marginBottom),left:Er(n.marginLeft)},i={top:Er(n.paddingTop),right:Er(n.paddingRight),bottom:Er(n.paddingBottom),left:Er(n.paddingLeft)},a={top:Er(n.borderTopWidth),right:Er(n.borderRightWidth),bottom:Er(n.borderBottomWidth),left:Er(n.borderLeftWidth)};return hw({borderBox:t,margin:r,padding:i,border:a})},_L=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return AL(n,r)},Wu=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];n=u,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah.apply(null,arguments)}function TL(e,t){}TL.bind(null,"warn");TL.bind(null,"error");function Pa(){}function Iae(e,t){return{...e,...t}}function Cr(e,t,n){const r=t.map(i=>{const a=Iae(n,i.options);return e.addEventListener(i.eventName,i.fn,a),function(){e.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const Pae="Invariant failed";class _h extends Error{}_h.prototype.toString=function(){return this.message};function pe(e,t){throw new _h(Pae)}let kae=class extends Ct.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Pa,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof _h&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Cr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof _h){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const Oae=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Th=e=>e+1,Rae=e=>`
  You have lifted an item in position ${Th(e.source.index)}
`,CL=(e,t)=>{const n=e.droppableId===t.droppableId,r=Th(e.index),i=Th(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},NL=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Mae=e=>{const t=e.destination;if(t)return CL(e.source,t);const n=e.combine;return n?NL(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},UI=e=>`
  The item has returned to its starting position
  of ${Th(e.index)}
`,Lae=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${UI(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${CL(e.source,t)}
    `:n?`
      You have dropped the item.
      ${NL(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${UI(e.source)}
  `},Nf={dragHandleUsageInstructions:Oae,onDragStart:Rae,onDragUpdate:Mae,onDragEnd:Lae};function jae(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function DL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!jae(e[n],t[n]))return!1;return!0}function Ye(e,t){const n=T.useState(()=>({inputs:t,result:e()}))[0],r=T.useRef(!0),i=T.useRef(n),s=r.current||!!(t&&i.current.inputs&&DL(t,i.current.inputs))?i.current:{inputs:t,result:e()};return T.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function Ce(e,t){return Ye(()=>e,t)}const un={x:0,y:0},bn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ar=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ka=(e,t)=>e.x===t.x&&e.y===t.y,hl=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Oo=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Yu=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),BI=(e,t)=>Math.min(...t.map(n=>Yu(e,n))),IL=e=>t=>({x:e(t.x),y:e(t.y)});var Uae=(e,t)=>{const n=Fr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Ac=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),qI=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Bae={top:0,right:0,bottom:0,left:0},qae=(e,t)=>t?Ac(e,t.scroll.diff.displacement):e,$ae=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Gae=(e,t)=>t&&t.shouldClipSubject?Uae(t.pageMarginBox,e):Fr(e);var Ks=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=qae(e.marginBox,r),a=$ae(i,n,t),s=Gae(a,r);return{page:e,withPlaceholder:t,active:s}},mw=(e,t)=>{e.frame||pe();const n=e.frame,r=ar(t,n.scroll.initial),i=hl(r),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Ks({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};function ln(e,t=DL){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const PL=ln(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),kL=ln(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Am=ln(e=>Object.values(e)),zae=ln(e=>Object.values(e));var ml=ln((e,t)=>zae(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function pw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function _m(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Tm=ln((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Hae=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!pw(i))return null;function s(x){const A={type:"COMBINE",combine:{draggableId:x,droppableId:n.descriptor.id}};return{...i,at:A}}const u=i.displaced.all,c=u.length?u[0]:null;if(e)return c?s(c):null;const d=Tm(t,r);if(!c){if(!d.length)return null;const x=d[d.length-1];return s(x.descriptor.id)}const h=d.findIndex(x=>x.descriptor.id===c);h===-1&&pe();const m=h-1;if(m<0)return null;const g=d[m];return s(g.descriptor.id)},pl=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const OL={point:un,value:0},Ku={invisible:{},visible:{},all:[]},Fae={displaced:Ku,displacedBy:OL,at:null};var Dr=(e,t)=>n=>e<=n&&n<=t,RL=e=>{const t=Dr(e.top,e.bottom),n=Dr(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const a=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(a&&s)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&s||d&&a}},Vae=e=>{const t=Dr(e.top,e.bottom),n=Dr(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const gw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ML={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Wae=e=>t=>{const n=Dr(t.top,t.bottom),r=Dr(t.left,t.right);return i=>e===gw?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Yae=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:un;return Ac(e,n)},Kae=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,Jae=(e,t,n)=>n(t)(e),yw=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?Yae(e,t):e;return Kae(a,t,i)&&Jae(a,n,i)},Xae=e=>yw({...e,isVisibleThroughFrameFn:RL}),LL=e=>yw({...e,isVisibleThroughFrameFn:Vae}),Qae=e=>yw({...e,isVisibleThroughFrameFn:Wae(e.destination.axis)}),Zae=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const a=i[e];return a?a.shouldAnimate:!0};function eoe(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Fr(fw(n,r))}function Ju({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:a}){return e.reduce(function(u,c){const d=eoe(c,n),h=c.descriptor.id;if(u.all.push(h),!Xae({target:d,destination:t,viewport:r,withDroppableDisplacement:!0}))return u.invisible[c.descriptor.id]=!0,u;const g=Zae(h,a,i),x={draggableId:h,shouldAnimate:g};return u.visible[h]=x,u},{all:[],visible:{},invisible:{}})}function toe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function $I({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=toe(e,{inHomeList:t});return{displaced:Ku,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Ch({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:a,index:s,forceShouldAnimate:u}){const c=pl(e,n);if(s==null)return $I({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const d=t.find(A=>A.descriptor.index===s);if(!d)return $I({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const h=Tm(e,t),m=t.indexOf(d),g=h.slice(m);return{displaced:Ju({afterDragging:g,destination:n,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:u}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function La(e,t){return!!t.effected[e]}var noe=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const a=r.draggableId,u=n[a].descriptor.index;return La(a,i)?e?u:u-1:e?u+1:u},roe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,a=e?i+1:i-1,s=n[0].descriptor.index,u=n[n.length-1].descriptor.index,c=t?u:u+1;return a<s||a>c?null:a},ioe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:a,previousImpact:s,viewport:u,afterCritical:c})=>{const d=s.at;if(d||pe(),d.type==="REORDER"){const m=roe({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:a});return m==null?null:Ch({draggable:n,insideDestination:a,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:m})}const h=noe({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:d.combine,afterCritical:c});return h==null?null:Ch({draggable:n,insideDestination:a,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:h})},aoe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return La(n,t)?i?un:hl(r.point):i?r.point:un},ooe=({afterCritical:e,impact:t,draggables:n})=>{const r=_m(t);r||pe();const i=r.draggableId,a=n[i].page.borderBox.center,s=aoe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return bn(a,s)};const jL=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,soe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,vw=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,GI=({axis:e,moveRelativeTo:t,isMoving:n})=>Oo(e.line,t.marginBox[e.end]+jL(e,n),vw(e,t.marginBox,n)),zI=({axis:e,moveRelativeTo:t,isMoving:n})=>Oo(e.line,t.marginBox[e.start]-soe(e,n),vw(e,t.marginBox,n)),loe=({axis:e,moveInto:t,isMoving:n})=>Oo(e.line,t.contentBox[e.start]+jL(e,n),vw(e,t.contentBox,n));var uoe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const a=ml(r.descriptor.id,n),s=t.page,u=r.axis;if(!a.length)return loe({axis:u,moveInto:r.page,isMoving:s});const{displaced:c,displacedBy:d}=e,h=c.all[0];if(h){const g=n[h];if(La(h,i))return zI({axis:u,moveRelativeTo:g.page,isMoving:s});const x=Sh(g.page,d.point);return zI({axis:u,moveRelativeTo:x,isMoving:s})}const m=a[a.length-1];if(m.descriptor.id===t.descriptor.id)return s.borderBox.center;if(La(m.descriptor.id,i)){const g=Sh(m.page,hl(i.displacedBy.point));return GI({axis:u,moveRelativeTo:g,isMoving:s})}return GI({axis:u,moveRelativeTo:m.page,isMoving:s})},lb=(e,t)=>{const n=e.frame;return n?bn(t,n.scroll.diff.displacement):t};const coe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const a=t.page.borderBox.center,s=e.at;return!n||!s?a:s.type==="REORDER"?uoe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):ooe({impact:e,draggables:r,afterCritical:i})};var Cm=e=>{const t=coe(e),n=e.droppable;return n?lb(n,t):t},UL=(e,t)=>{const n=ar(t,e.scroll.initial),r=hl(n);return{frame:Fr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function HI(e,t){return e.map(n=>t[n])}function doe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var foe=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const a=UL(t,bn(t.scroll.current,i)),s=n.frame?mw(n,bn(n.frame.scroll.current,i)):n,u=e.displaced,c=Ju({afterDragging:HI(u.all,r),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:u,forceShouldAnimate:!1}),d=Ju({afterDragging:HI(u.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:u,forceShouldAnimate:!1}),h={},m={},g=[u,c,d];return u.all.forEach(A=>{const E=doe(A,g);if(E){m[A]=E;return}h[A]=!0}),{...e,displaced:{all:u.all,invisible:h,visible:m}}},hoe=(e,t)=>bn(e.scroll.diff.displacement,t),bw=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=hoe(n,e),i=ar(r,t.page.borderBox.center);return bn(t.client.borderBox.center,i)},BL=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=ar(n,e.page.borderBox.center),c={target:Ac(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return a?Qae(c):LL(c)},moe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:u,afterCritical:c})=>{if(!n.isEnabled)return null;const d=ml(n.descriptor.id,r),h=pl(t,n),m=Hae({isMovingForward:e,draggable:t,destination:n,insideDestination:d,previousImpact:i})||ioe({isMovingForward:e,isInHomeList:h,draggable:t,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:a,afterCritical:c});if(!m)return null;const g=Cm({impact:m,draggable:t,droppable:n,draggables:r,afterCritical:c});if(BL({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:bw({pageBorderBoxCenter:g,draggable:t,viewport:a}),impact:m,scrollJumpRequest:null};const A=ar(g,s),E=foe({impact:m,viewport:a,destination:n,draggables:r,maxScrollChange:A});return{clientSelection:u,impact:E,scrollJumpRequest:A}};const Pn=e=>{const t=e.subject.active;return t||pe(),t};var poe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const a=n.subject.active;if(!a)return null;const s=n.axis,u=Dr(a[s.start],a[s.end]),c=Am(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>RL(i.frame)(Pn(h))).filter(h=>{const m=Pn(h);return e?a[s.crossAxisEnd]<m[s.crossAxisEnd]:m[s.crossAxisStart]<a[s.crossAxisStart]}).filter(h=>{const m=Pn(h),g=Dr(m[s.start],m[s.end]);return u(m[s.start])||u(m[s.end])||g(a[s.start])||g(a[s.end])}).sort((h,m)=>{const g=Pn(h)[s.crossAxisStart],x=Pn(m)[s.crossAxisStart];return e?g-x:x-g}).filter((h,m,g)=>Pn(h)[s.crossAxisStart]===Pn(g[0])[s.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>Dr(Pn(h)[s.start],Pn(h)[s.end])(t[s.line]));return d.length===1?d[0]:d.length>1?d.sort((h,m)=>Pn(h)[s.start]-Pn(m)[s.start])[0]:c.sort((h,m)=>{const g=BI(t,qI(Pn(h))),x=BI(t,qI(Pn(m)));return g!==x?g-x:Pn(h)[s.start]-Pn(m)[s.start]})[0]};const FI=(e,t)=>{const n=e.page.borderBox.center;return La(e.descriptor.id,t)?ar(n,t.displacedBy.point):n},goe=(e,t)=>{const n=e.page.borderBox;return La(e.descriptor.id,t)?Ac(n,hl(t.displacedBy.point)):n};var yoe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>LL({target:goe(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,u)=>{const c=Yu(e,lb(n,FI(s,i))),d=Yu(e,lb(n,FI(u,i)));return c<d?-1:d<c?1:s.descriptor.index-u.descriptor.index})[0]||null,_c=ln(function(t,n){const r=n[t.line];return{value:r,point:Oo(t.line,r)}});const voe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Oo(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],c=ml(e.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+t[r.line]-i;return c<=0?null:Oo(r.line,c)},qL=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),$L=(e,t,n)=>{const r=e.frame;pl(t,e)&&pe(),e.subject.withPlaceholder&&pe();const i=_c(e.axis,t.displaceBy).point,a=voe(e,i,n),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const h=Ks({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:h}}const u=a?bn(r.scroll.max,a):r.scroll.max,c=qL(r,u),d=Ks({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},boe=e=>{const t=e.subject.withPlaceholder;t||pe();const n=e.frame;if(!n){const s=Ks({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||pe();const i=qL(n,r),a=Ks({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:a,frame:i}};var xoe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:a,viewport:s,afterCritical:u})=>{if(!t){if(n.length)return null;const m={displaced:Ku,displacedBy:OL,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},g=Cm({impact:m,draggable:r,droppable:a,draggables:i,afterCritical:u}),x=pl(r,a)?a:$L(a,r,i);return BL({draggable:r,destination:x,newPageBorderBoxCenter:g,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const c=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],d=(()=>{const m=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?m:m+1})(),h=_c(a.axis,r.displaceBy);return Ch({draggable:r,insideDestination:n,destination:a,viewport:s,displacedBy:h,last:Ku,index:d})},woe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:a,viewport:s,afterCritical:u})=>{const c=poe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:s});if(!c)return null;const d=ml(c.descriptor.id,i),h=yoe({pageBorderBoxCenter:t,viewport:s,destination:c,insideDestination:d,afterCritical:u}),m=xoe({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:s,afterCritical:u});if(!m)return null;const g=Cm({impact:m,draggable:n,droppable:c,draggables:i,afterCritical:u});return{clientSelection:bw({pageBorderBoxCenter:g,draggable:n,viewport:s}),impact:m,scrollJumpRequest:null}},sr=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Soe=(e,t)=>{const n=sr(e);return n?t[n]:null};var Eoe=({state:e,type:t})=>{const n=Soe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],a=n||i,s=a.axis.direction,u=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(u&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:m,droppables:g}=e.dimensions;return u?moe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):woe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:m,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function mo(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function GL(e){const t=Dr(e.top,e.bottom),n=Dr(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function Aoe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function _oe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(a=>{const s=a.axis,u=Oo(a.axis.line,e.center[s.line],a.page.borderBox.center[s.crossAxisLine]);return{id:a.descriptor.id,distance:Yu(r,u)}}).sort((a,s)=>s.distance-a.distance);return i[0]?i[0].id:null}function Toe({pageBorderBox:e,draggable:t,droppables:n}){const r=Am(n).filter(i=>{if(!i.isEnabled)return!1;const a=i.subject.active;if(!a||!Aoe(e,a))return!1;if(GL(a)(e.center))return!0;const s=i.axis,u=a.center[s.crossAxisLine],c=e[s.crossAxisStart],d=e[s.crossAxisEnd],h=Dr(a[s.crossAxisStart],a[s.crossAxisEnd]),m=h(c),g=h(d);return!m&&!g?!0:m?c<u:d>u});return r.length?r.length===1?r[0].descriptor.id:_oe({pageBorderBox:e,draggable:t,candidates:r}):null}const zL=(e,t)=>Fr(Ac(e,t));var Coe=(e,t)=>{const n=e.frame;return n?zL(t,n.scroll.diff.value):t};function HL({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Noe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Doe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:a,afterCritical:s})=>{const u=n.axis,c=_c(n.axis,t.displaceBy),d=c.value,h=e[u.start],m=e[u.end],x=Tm(t,r).find(E=>{const _=E.descriptor.id,C=E.page.borderBox.center[u.line],I=La(_,s),D=HL({displaced:i,id:_});return I?D?m<=C:h<C-d:D?m<=C+d:h<C})||null,A=Noe({draggable:t,closest:x,inHomeList:pl(t,n)});return Ch({draggable:t,insideDestination:r,destination:n,viewport:a,last:i,displacedBy:c,index:A})};const Ioe=4;var Poe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:a})=>{if(!r.isCombineEnabled)return null;const s=r.axis,u=_c(r.axis,e.displaceBy),c=u.value,d=t[s.start],h=t[s.end],g=Tm(e,i).find(A=>{const E=A.descriptor.id,_=A.page.borderBox,I=_[s.size]/Ioe,D=La(E,a),k=HL({displaced:n.displaced,id:E});return D?k?h>_[s.start]+I&&h<_[s.end]-I:d>_[s.start]-c+I&&d<_[s.end]-c-I:k?h>_[s.start]+c+I&&h<_[s.end]+c-I:d>_[s.start]+I&&d<_[s.end]-I});return g?{displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:r.descriptor.id}}}:null},FL=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:a,afterCritical:s})=>{const u=zL(t.page.borderBox,e),c=Toe({pageBorderBox:u,draggable:t,droppables:r});if(!c)return Fae;const d=r[c],h=ml(d.descriptor.id,n),m=Coe(d,u);return Poe({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:s})||Doe({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:s})},xw=(e,t)=>({...e,[t.descriptor.id]:t});const koe=({previousImpact:e,impact:t,droppables:n})=>{const r=sr(e),i=sr(t);if(!r||r===i)return n;const a=n[r];if(!a.subject.withPlaceholder)return n;const s=boe(a);return xw(n,s)};var Ooe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const a=koe({previousImpact:r,impact:i,droppables:n}),s=sr(i);if(!s)return a;const u=n[s];if(pl(e,u)||u.subject.withPlaceholder)return a;const c=$L(u,e,t);return xw(a,c)},Du=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:a})=>{const s=r||e.viewport,u=n||e.dimensions,c=t||e.current.client.selection,d=ar(c,e.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:bn(e.initial.client.borderBoxCenter,d)},m={selection:bn(h.selection,s.scroll.current),borderBoxCenter:bn(h.borderBoxCenter,s.scroll.current),offset:bn(h.offset,s.scroll.diff.value)},g={client:h,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:u,viewport:s,current:g};const x=u.draggables[e.critical.draggable.id],A=i||FL({pageOffset:m.offset,draggable:x,draggables:u.draggables,droppables:u.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),E=Ooe({draggable:x,impact:A,previousImpact:e.impact,draggables:u.draggables,droppables:u.droppables});return{...e,current:g,dimensions:{draggables:u.draggables,droppables:E},impact:A,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null}};function Roe(e,t){return e.map(n=>t[n])}var VL=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const a=e.displaced,s=Roe(a.all,n),u=Ju({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...e,displaced:u}},WL=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:a})=>{const s=Cm({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a});return bw({pageBorderBoxCenter:s,draggable:t,viewport:i})},YL=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&pe();const r=e.impact,i=n||e.viewport,a=t||e.dimensions,{draggables:s,droppables:u}=a,c=s[e.critical.draggable.id],d=sr(r);d||pe();const h=u[d],m=VL({impact:r,viewport:i,destination:h,draggables:s}),g=WL({impact:m,draggable:c,droppable:h,draggables:s,viewport:i,afterCritical:e.afterCritical});return Du({impact:m,clientSelection:g,state:e,dimensions:a,viewport:i})},Moe=e=>({index:e.index,droppableId:e.droppableId}),KL=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=_c(t.axis,e.displaceBy),a=ml(t.descriptor.id,n),s=a.indexOf(e);s===-1&&pe();const u=a.slice(s+1),c=u.reduce((g,x)=>(g[x.descriptor.id]=!0,g),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:Ju({afterDragging:u,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:Moe(e.descriptor)}},afterCritical:d}},Loe=(e,t)=>({draggables:e.draggables,droppables:xw(e.droppables,t)}),joe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Sh(e.client,t),i=Eh(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},Uoe=e=>{const t=e.frame;return t||pe(),t},Boe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const a=i.descriptor.droppableId,s=t[a],c=Uoe(s).scroll.diff.value,d=bn(r,c);return joe({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},qoe=({state:e,published:t})=>{const n=t.modified.map(C=>{const I=e.dimensions.droppables[C.droppableId];return mw(I,C.scroll)}),r={...e.dimensions.droppables,...PL(n)},i=kL(Boe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),a={...e.dimensions.draggables,...i};t.removals.forEach(C=>{delete a[C]});const s={droppables:r,draggables:a},u=sr(e.impact),c=u?s.droppables[u]:null,d=s.draggables[e.critical.draggable.id],h=s.droppables[e.critical.droppable.id],{impact:m,afterCritical:g}=KL({draggable:d,home:h,draggables:a,viewport:e.viewport}),x=c&&c.isCombineEnabled?e.impact:m,A=FL({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:x,viewport:e.viewport,afterCritical:g}),E={...e,phase:"DRAGGING",impact:A,onLiftImpact:m,dimensions:s,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?E:{...E,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const ub=e=>e.movementMode==="SNAP",Uv=(e,t,n)=>{const r=Loe(e.dimensions,t);return!ub(e)||n?Du({state:e,dimensions:r}):YL({state:e,dimensions:r})};function Bv(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const VI={phase:"IDLE",completed:null,shouldFlush:!1};var $oe=(e=VI,t)=>{if(t.type==="FLUSH")return{...VI,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&pe();const{critical:n,clientSelection:r,viewport:i,dimensions:a,movementMode:s}=t.payload,u=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],d={selection:r,borderBoxCenter:u.client.borderBox.center,offset:un},h={client:d,page:{selection:bn(d.selection,i.scroll.initial),borderBoxCenter:bn(d.selection,i.scroll.initial),offset:bn(d.selection,i.scroll.diff.value)}},m=Am(a.droppables).every(E=>!E.isFixedOnPage),{impact:g,afterCritical:x}=KL({draggable:u,home:c,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:h,current:h,isWindowScrollAllowed:m,impact:g,afterCritical:x,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&pe(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||pe(),qoe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;mo(e)||pe();const{client:n}=t.payload;return ka(n,e.current.client.selection)?e:Du({state:e,clientSelection:n,impact:ub(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Bv(e);mo(e)||pe();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const a=mw(i,r);return Uv(e,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;mo(e)||pe();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||pe(),i.isEnabled===r&&pe();const a={...i,isEnabled:r};return Uv(e,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;mo(e)||pe();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||pe(),i.isCombineEnabled===r&&pe();const a={...i,isCombineEnabled:r};return Uv(e,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;mo(e)||pe(),e.isWindowScrollAllowed||pe();const n=t.payload.newScroll;if(ka(e.viewport.scroll.current,n))return Bv(e);const r=UL(e.viewport,n);return ub(e)?YL({state:e,viewport:r}):Du({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!mo(e))return e;const n=t.payload.maxScroll;if(ka(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();const n=Eoe({state:e,type:t.type});return n?Du({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&pe(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||pe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function tt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const Goe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),zoe=e=>({type:"LIFT",payload:e}),Hoe=e=>({type:"INITIAL_PUBLISH",payload:e}),Foe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Voe=()=>({type:"COLLECTION_STARTING",payload:null}),Woe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Yoe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Koe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),JL=e=>({type:"MOVE",payload:e}),Joe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Xoe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Qoe=()=>({type:"MOVE_UP",payload:null}),Zoe=()=>({type:"MOVE_DOWN",payload:null}),ese=()=>({type:"MOVE_RIGHT",payload:null}),tse=()=>({type:"MOVE_LEFT",payload:null}),ww=()=>({type:"FLUSH",payload:null}),nse=e=>({type:"DROP_ANIMATE",payload:e}),Sw=e=>({type:"DROP_COMPLETE",payload:e}),XL=e=>({type:"DROP",payload:e}),rse=e=>({type:"DROP_PENDING",payload:e}),QL=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var ise=e=>({getState:t,dispatch:n})=>r=>i=>{if(!tt(i,"LIFT")){r(i);return}const{id:a,clientSelection:s,movementMode:u}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&n(Sw({completed:c.completed})),t().phase!=="IDLE"&&pe(),n(ww()),n(Goe({draggableId:a,movementMode:u}));const h={draggableId:a,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:m,dimensions:g,viewport:x}=e.startPublishing(h);n(Hoe({critical:m,dimensions:g,clientSelection:s,movementMode:u,viewport:x}))},ase=e=>()=>t=>n=>{tt(n,"INITIAL_PUBLISH")&&e.dragging(),tt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(tt(n,"FLUSH")||tt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Ew={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Xu={opacity:{drop:0,combining:.7},scale:{drop:.75}},ZL={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},so=`${ZL.outOfTheWay}s ${Ew.outOfTheWay}`,Iu={fluid:`opacity ${so}`,snap:`transform ${so}, opacity ${so}`,drop:e=>{const t=`${e}s ${Ew.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${so}`,placeholder:`height ${so}, width ${so}, margin ${so}`},WI=e=>ka(e,un)?void 0:`translate(${e.x}px, ${e.y}px)`,cb={moveTo:WI,drop:(e,t)=>{const n=WI(e);if(n)return t?`${n} scale(${Xu.scale.drop})`:n}},{minDropTime:db,maxDropTime:ej}=ZL,ose=ej-db,YI=1500,sse=.6;var lse=({current:e,destination:t,reason:n})=>{const r=Yu(e,t);if(r<=0)return db;if(r>=YI)return ej;const i=r/YI,a=db+ose*i,s=n==="CANCEL"?a*sse:a;return Number(s.toFixed(2))},use=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:a,droppables:s}=n,u=sr(e),c=u?s[u]:null,d=s[t.descriptor.droppableId],h=WL({impact:e,draggable:t,draggables:a,afterCritical:i,droppable:c||d,viewport:r});return ar(h,t.client.borderBox.center)},cse=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:a})=>!n.at||t!=="DROP"?{impact:VL({draggables:e,impact:a,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ku},didDropInsideDroppable:!0};const dse=({getState:e,dispatch:t})=>n=>r=>{if(!tt(r,"DROP")){n(r);return}const i=e(),a=r.payload.reason;if(i.phase==="COLLECTING"){t(rse({reason:a}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&pe(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||pe();const u=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:m}=cse({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=m?pw(h):null,x=m?_m(h):null,A={index:u.draggable.index,droppableId:u.droppable.id},E={draggableId:d.descriptor.id,type:d.descriptor.type,source:A,reason:a,mode:i.movementMode,destination:g,combine:x},_=use({impact:h,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:E,impact:h};if(!(!ka(i.current.client.offset,_)||!!E.combine)){t(Sw({completed:C}));return}const D=lse({current:i.current.client.offset,destination:_,reason:a});t(nse({newHomeClientOffset:_,dropDuration:D,completed:C}))};var tj=()=>({x:window.pageXOffset,y:window.pageYOffset});function fse(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function hse({onWindowScroll:e}){function t(){e(tj())}const n=Wu(t),r=fse(n);let i=Pa;function a(){return i!==Pa}function s(){a()&&pe(),i=Cr(window,[r])}function u(){a()||pe(),n.cancel(),i(),i=Pa}return{start:s,stop:u,isActive:a}}const mse=e=>tt(e,"DROP_COMPLETE")||tt(e,"DROP_ANIMATE")||tt(e,"FLUSH"),pse=e=>{const t=hse({onWindowScroll:n=>{e.dispatch(Joe({newScroll:n}))}});return n=>r=>{!t.isActive()&&tt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&mse(r)&&t.stop(),n(r)}};var gse=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=a=>{t||n||(t=!0,e(a),clearTimeout(r))};return i.wasCalled=()=>t,i},yse=()=>{const e=[],t=i=>{const a=e.findIndex(u=>u.timerId===i);a===-1&&pe();const[s]=e.splice(a,1);s.callback()};return{add:i=>{const a=setTimeout(()=>t(a)),s={timerId:a,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(a=>{clearTimeout(a.timerId),a.callback()})}}};const vse=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,bse=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,xse=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},wu=(e,t)=>{t()},af=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function qv(e,t,n,r){if(!e){n(r(t));return}const i=gse(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var wse=(e,t)=>{const n=yse();let r=null;const i=(m,g)=>{r&&pe(),wu("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:m,mode:g})})},a=(m,g)=>{r&&pe(),wu("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(af(m,g))})},s=(m,g)=>{r&&pe();const x=af(m,g);r={mode:g,lastCritical:m,lastLocation:x.source,lastCombine:null},n.add(()=>{wu("onDragStart",()=>qv(e().onDragStart,x,t,Nf.onDragStart))})},u=(m,g)=>{const x=pw(g),A=_m(g);r||pe();const E=!xse(m,r.lastCritical);E&&(r.lastCritical=m);const _=!vse(r.lastLocation,x);_&&(r.lastLocation=x);const C=!bse(r.lastCombine,A);if(C&&(r.lastCombine=A),!E&&!_&&!C)return;const I={...af(m,r.mode),combine:A,destination:x};n.add(()=>{wu("onDragUpdate",()=>qv(e().onDragUpdate,I,t,Nf.onDragUpdate))})},c=()=>{r||pe(),n.flush()},d=m=>{r||pe(),r=null,wu("onDragEnd",()=>qv(e().onDragEnd,m,t,Nf.onDragEnd))};return{beforeCapture:i,beforeStart:a,start:s,update:u,flush:c,drop:d,abort:()=>{if(!r)return;const m={...af(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(m)}}},Sse=(e,t)=>{const n=wse(e,t);return r=>i=>a=>{if(tt(a,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(tt(a,"INITIAL_PUBLISH")){const u=a.payload.critical;n.beforeStart(u,a.payload.movementMode),i(a),n.start(u,a.payload.movementMode);return}if(tt(a,"DROP_COMPLETE")){const u=a.payload.completed.result;n.flush(),i(a),n.drop(u);return}if(i(a),tt(a,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const Ese=e=>t=>n=>{if(!tt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&pe(),e.dispatch(Sw({completed:r.completed}))},Ase=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>a=>{if((tt(a,"FLUSH")||tt(a,"DROP_COMPLETE")||tt(a,"DROP_ANIMATION_FINISHED"))&&r(),i(a),!tt(a,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(QL())}};n=requestAnimationFrame(()=>{n=null,t=Cr(window,[s])})}};var _se=e=>()=>t=>n=>{(tt(n,"DROP_COMPLETE")||tt(n,"FLUSH")||tt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Tse=e=>{let t=!1;return()=>n=>r=>{if(tt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(tt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(tt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Cse=e=>tt(e,"DROP_COMPLETE")||tt(e,"DROP_ANIMATE")||tt(e,"FLUSH");var Nse=e=>t=>n=>r=>{if(Cse(r)){e.stop(),n(r);return}if(tt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&pe(),e.start(i);return}n(r),e.scroll(t.getState())};const Dse=e=>t=>n=>{if(t(n),!tt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(XL({reason:r.reason})))},Ise=Mu;var Pse=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:a})=>Yb($oe,Ise(nO(ase(n),_se(e),ise(e),dse,Ese,Ase,Dse,Nse(a),pse,Tse(t),Sse(r,i))));const $v=()=>({additions:{},removals:{},modified:{}});function kse({registry:e,callbacks:t}){let n=$v(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:h}=n,m=Object.keys(c).map(A=>e.draggable.getById(A).getDimension(un)).sort((A,E)=>A.descriptor.index-E.descriptor.index),g=Object.keys(h).map(A=>{const _=e.droppable.getById(A).callbacks.getScrollWhileDragging();return{droppableId:A,scroll:_}}),x={additions:m,removals:Object.keys(d),modified:g};n=$v(),t.publish(x)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=$v())}}}var nj=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=ar({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},rj=()=>{const e=document.documentElement;return e||pe(),e},ij=()=>{const e=rj();return nj({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Ose=()=>{const e=tj(),t=ij(),n=e.y,r=e.x,i=rj(),a=i.clientWidth,s=i.clientHeight,u=r+a,c=n+s;return{frame:Fr({top:n,left:r,right:u,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:un,displacement:un}}}},Rse=({critical:e,scrollOptions:t,registry:n})=>{const r=Ose(),i=r.scroll.current,a=e.droppable,s=n.droppable.getAllByType(a.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),u=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:kL(u),droppables:PL(s)},critical:e,viewport:r}};function KI(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Mse=(e,t)=>{let n=null;const r=kse({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,x)=>{e.droppable.exists(g)||pe(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:x})},a=(g,x)=>{n&&(e.droppable.exists(g)||pe(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:x}))},s=(g,x)=>{n&&(e.droppable.exists(g)||pe(),t.updateDroppableScroll({id:g,newScroll:x}))},u=(g,x)=>{n&&e.droppable.getById(g).callbacks.scroll(x)},c=()=>{if(!n)return;r.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(x=>x.callbacks.dragStopped()),n.unsubscribe(),n=null},d=g=>{n||pe();const x=n.critical.draggable;g.type==="ADDITION"&&KI(e,x,g.value)&&r.add(g.value),g.type==="REMOVAL"&&KI(e,x,g.value)&&r.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:u,updateDroppableScroll:s,startPublishing:g=>{n&&pe();const x=e.draggable.getById(g.draggableId),A=e.droppable.getById(x.descriptor.droppableId),E={draggable:x.descriptor,droppable:A.descriptor},_=e.subscribe(d);return n={critical:E,unsubscribe:_},Rse({critical:E,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:c}},aj=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Lse=e=>{window.scrollBy(e.x,e.y)};const jse=ln(e=>Am(e).filter(t=>!(!t.isEnabled||!t.frame))),Use=(e,t)=>jse(t).find(r=>(r.frame||pe(),GL(r.frame.pageMarginBox)(e)))||null;var Bse=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Use(e,n)};const Qu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var qse=(e,t,n=()=>Qu)=>{const r=n(),i=e[t.size]*r.startFromPercentage,a=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:a}},oj=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Aw=1,$se=(e,t,n=()=>Qu)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Aw;const a=1-oj({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(a);return Math.ceil(s)},Gse=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,a=r.durationDampening.stopDampeningAt,s=t,u=a,d=Date.now()-s;if(d>=a)return e;if(d<i)return Aw;const h=oj({startOfRange:i,endOfRange:u,current:d}),m=e*r.ease(h);return Math.ceil(m)},JI=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=$se(e,t,i);return a===0?0:r?Math.max(Gse(a,n,i),Aw):a},XI=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=qse(e,r,a);return t[r.end]<t[r.start]?JI({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*JI({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a})},zse=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Hse=IL(e=>e===0?0:e);var sj=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},u=XI({container:t,distanceToEdges:s,dragStartTime:e,axis:gw,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),c=XI({container:t,distanceToEdges:s,dragStartTime:e,axis:ML,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=Hse({x:c,y:u});if(ka(d,un))return null;const h=zse({container:t,subject:n,proposedScroll:d});return h?ka(h,un)?null:h:null};const Fse=IL(e=>e===0?0:e>0?1:-1),_w=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=bn(t,r),a={x:e(i.x,n.x),y:e(i.y,n.y)};return ka(a,un)?null:a}})(),lj=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Fse(n),a=_w({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},Tw=(e,t)=>lj({current:e.scroll.current,max:e.scroll.max,change:t}),Vse=(e,t)=>{if(!Tw(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return _w({current:r,max:n,change:t})},Cw=(e,t)=>{const n=e.frame;return n?lj({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Wse=(e,t)=>{const n=e.frame;return!n||!Cw(e,t)?null:_w({current:n.scroll.current,max:n.scroll.max,change:t})};var Yse=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=sj({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return s&&Tw(e,s)?s:null},Kse=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=e.frame;if(!s)return null;const u=sj({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:a});return u&&Cw(e,u)?u:null},QI=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,g=Yse({dragStartTime:t,viewport:m,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(g){r(g);return}}const d=Bse({center:s,destination:sr(e.impact),droppables:e.dimensions.droppables});if(!d)return;const h=Kse({dragStartTime:t,droppable:d,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});h&&i(d.descriptor.id,h)},Jse=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Qu})=>{const r=Wu(e),i=Wu(t);let a=null;const s=d=>{a||pe();const{shouldUseTimeDampening:h,dragStartTime:m}=a;QI({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{a&&pe();const h=Date.now();let m=!1;const g=()=>{m=!0};QI({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),a={dragStartTime:h,shouldUseTimeDampening:m},m&&s(d)},stop:()=>{a&&(r.cancel(),i.cancel(),a=null)},scroll:s}},Xse=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(u,c)=>{const d=bn(u.current.client.selection,c);e({client:d})},i=(u,c)=>{if(!Cw(u,c))return c;const d=Wse(u,c);if(!d)return t(u.descriptor.id,c),null;const h=ar(c,d);return t(u.descriptor.id,h),ar(c,h)},a=(u,c,d)=>{if(!u||!Tw(c,d))return d;const h=Vse(c,d);if(!h)return n(d),null;const m=ar(d,h);return n(m),ar(d,m)};return u=>{const c=u.scrollJumpRequest;if(!c)return;const d=sr(u.impact);d||pe();const h=i(u.dimensions.droppables[d],c);if(!h)return;const m=u.viewport,g=a(u.isWindowScrollAllowed,m,h);g&&r(u,g)}},Qse=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=Jse({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),a=Xse({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&a(c)}},start:i.start,stop:i.stop}};const Js="data-rfd",Xs=(()=>{const e=`${Js}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),fb=(()=>{const e=`${Js}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Zse=(()=>{const e=`${Js}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ZI={contextId:`${Js}-scroll-container-context-id`},ele=e=>t=>`[${t}="${e}"]`,Su=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),tle="pointer-events: none;";var nle=e=>{const t=ele(e),n=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Xs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:tle,dropAnimating:u}}})(),r=(()=>{const u=`
      transition: ${Iu.outOfTheWay};
    `;return{selector:t(fb.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),i={selector:t(Zse.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Su(s,"always"),resting:Su(s,"resting"),dragging:Su(s,"dragging"),dropAnimating:Su(s,"dropAnimating"),userCancel:Su(s,"userCancel")}};const lr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect,Gv=()=>{const e=document.querySelector("head");return e||pe(),e},eP=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function rle(e,t){const n=Ye(()=>nle(e),[e]),r=T.useRef(null),i=T.useRef(null),a=Ce(ln(m=>{const g=i.current;g||pe(),g.textContent=m}),[]),s=Ce(m=>{const g=r.current;g||pe(),g.textContent=m},[]);lr(()=>{!r.current&&!i.current||pe();const m=eP(t),g=eP(t);return r.current=m,i.current=g,m.setAttribute(`${Js}-always`,e),g.setAttribute(`${Js}-dynamic`,e),Gv().appendChild(m),Gv().appendChild(g),s(n.always),a(n.resting),()=>{const x=A=>{const E=A.current;E||pe(),Gv().removeChild(E),A.current=null};x(r),x(i)}},[t,s,a,n.always,n.resting,e]);const u=Ce(()=>a(n.dragging),[a,n.dragging]),c=Ce(m=>{if(m==="DROP"){a(n.dropAnimating);return}a(n.userCancel)},[a,n.dropAnimating,n.userCancel]),d=Ce(()=>{i.current&&a(n.resting)},[a,n.resting]);return Ye(()=>({dragging:u,dropping:c,resting:d}),[u,c,d])}function uj(e,t){return Array.from(e.querySelectorAll(t))}var cj=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function Nm(e){return e instanceof cj(e).HTMLElement}function ile(e,t){const n=`[${Xs.contextId}="${e}"]`,r=uj(document,n);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Xs.draggableId)===t);return!i||!Nm(i)?null:i}function ale(e){const t=T.useRef({}),n=T.useRef(null),r=T.useRef(null),i=T.useRef(!1),a=Ce(function(g,x){const A={id:g,focus:x};return t.current[g]=A,function(){const _=t.current;_[g]!==A&&delete _[g]}},[]),s=Ce(function(g){const x=ile(e,g);x&&x!==document.activeElement&&x.focus()},[e]),u=Ce(function(g,x){n.current===g&&(n.current=x)},[]),c=Ce(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const g=n.current;g&&s(g)}))},[s]),d=Ce(function(g){n.current=null;const x=document.activeElement;x&&x.getAttribute(Xs.draggableId)===g&&(n.current=g)},[]);return lr(()=>(i.current=!0,function(){i.current=!1;const g=r.current;g&&cancelAnimationFrame(g)}),[]),Ye(()=>({register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:u}),[a,d,c,u])}function ole(){const e={draggables:{},droppables:{}},t=[];function n(m){return t.push(m),function(){const x=t.indexOf(m);x!==-1&&t.splice(x,1)}}function r(m){t.length&&t.forEach(g=>g(m))}function i(m){return e.draggables[m]||null}function a(m){const g=i(m);return g||pe(),g}const s={register:m=>{e.draggables[m.descriptor.id]=m,r({type:"ADDITION",value:m})},update:(m,g)=>{const x=e.draggables[g.descriptor.id];x&&x.uniqueId===m.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const g=m.descriptor.id,x=i(g);x&&m.uniqueId===x.uniqueId&&(delete e.draggables[g],e.droppables[m.descriptor.droppableId]&&r({type:"REMOVAL",value:m}))},getById:a,findById:i,exists:m=>!!i(m),getAllByType:m=>Object.values(e.draggables).filter(g=>g.descriptor.type===m)};function u(m){return e.droppables[m]||null}function c(m){const g=u(m);return g||pe(),g}const d={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const g=u(m.descriptor.id);g&&m.uniqueId===g.uniqueId&&delete e.droppables[m.descriptor.id]},getById:c,findById:u,exists:m=>!!u(m),getAllByType:m=>Object.values(e.droppables).filter(g=>g.descriptor.type===m)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:d,subscribe:n,clean:h}}function sle(){const e=Ye(ole,[]);return T.useEffect(()=>function(){e.clean()},[e]),e}var Nw=Ct.createContext(null),Nh=()=>{const e=document.body;return e||pe(),e};const lle={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ule=e=>`rfd-announcement-${e}`;function cle(e){const t=Ye(()=>ule(e),[e]),n=T.useRef(null);return T.useEffect(function(){const a=document.createElement("div");return n.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ah(a.style,lle),Nh().appendChild(a),function(){setTimeout(function(){const c=Nh();c.contains(a)&&c.removeChild(a),a===n.current&&(n.current=null)})}},[t]),Ce(i=>{const a=n.current;if(a){a.textContent=i;return}},[])}const dle={separator:"::"};function Dw(e,t=dle){const n=Ct.useId();return Ye(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function fle({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function hle({contextId:e,text:t}){const n=Dw("hidden-text",{separator:"-"}),r=Ye(()=>fle({contextId:e,uniqueId:n}),[n,e]);return T.useEffect(function(){const a=document.createElement("div");return a.id=r,a.textContent=t,a.style.display="none",Nh().appendChild(a),function(){const u=Nh();u.contains(a)&&u.removeChild(a)}},[r,t]),r}var Dm=Ct.createContext(null);function dj(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),t}function mle(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&pe();const u={abandon:s};return e=u,u}function i(){e||pe(),e=null}function a(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:a}}function Zu(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const ple=9,gle=13,Iw=27,fj=32,yle=33,vle=34,ble=35,xle=36,wle=37,Sle=38,Ele=39,Ale=40,_le={[gle]:!0,[ple]:!0};var hj=e=>{_le[e.keyCode]&&e.preventDefault()};const Im=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),mj=0,tP=5;function Tle(e,t){return Math.abs(t.x-e.x)>=tP||Math.abs(t.y-e.y)>=tP}const nP={type:"IDLE"};function Cle({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:a,clientX:s,clientY:u}=i;if(a!==mj)return;const c={x:s,y:u},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&pe();const h=d.point;if(!Tle(h,c))return;i.preventDefault();const m=d.actions.fluidLift(c);r({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:i=>{const a=n();if(a.type!=="DRAGGING"){e();return}i.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===Iw){i.preventDefault(),e();return}hj(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const a=n();if(a.type==="IDLE"&&pe(),a.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:Im,fn:e}]}function Nle(e){const t=T.useRef(nP),n=T.useRef(Pa),r=Ye(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==mj||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const g=e.findClosestDraggableId(m);if(!g)return;const x=e.tryGetLock(g,s,{sourceEvent:m});if(!x)return;m.preventDefault();const A={x:m.clientX,y:m.clientY};n.current(),d(x,A)}}),[e]),i=Ye(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const m=e.findClosestDraggableId(h);if(!m)return;const g=e.findOptionsForDraggable(m);g&&(g.shouldRespectForcePress||e.canGetLock(m)&&h.preventDefault())}}),[e]),a=Ce(function(){const m={passive:!1,capture:!0};n.current=Cr(window,[i,r],m)},[i,r]),s=Ce(()=>{t.current.type!=="IDLE"&&(t.current=nP,n.current(),a())},[a]),u=Ce(()=>{const h=t.current;s(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[s]),c=Ce(function(){const m={capture:!0,passive:!1},g=Cle({cancel:u,completed:s,getPhase:()=>t.current,setPhase:x=>{t.current=x}});n.current=Cr(window,g,m)},[u,s]),d=Ce(function(m,g){t.current.type!=="IDLE"&&pe(),t.current={type:"PENDING",point:g,actions:m},c()},[c]);lr(function(){return a(),function(){n.current()}},[a])}function Dle(){}const Ile={[vle]:!0,[yle]:!0,[xle]:!0,[ble]:!0};function Ple(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===Iw){i.preventDefault(),n();return}if(i.keyCode===fj){i.preventDefault(),r();return}if(i.keyCode===Ale){i.preventDefault(),e.moveDown();return}if(i.keyCode===Sle){i.preventDefault(),e.moveUp();return}if(i.keyCode===Ele){i.preventDefault(),e.moveRight();return}if(i.keyCode===wle){i.preventDefault(),e.moveLeft();return}if(Ile[i.keyCode]){i.preventDefault();return}hj(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Im,fn:n}]}function kle(e){const t=T.useRef(Dle),n=Ye(()=>({eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==fj)return;const s=e.findClosestDraggableId(a);if(!s)return;const u=e.tryGetLock(s,h,{sourceEvent:a});if(!u)return;a.preventDefault();let c=!0;const d=u.snapLift();t.current();function h(){c||pe(),c=!1,t.current(),r()}t.current=Cr(window,Ple(d,h),{capture:!0,passive:!1})}}),[e]),r=Ce(function(){const a={passive:!1,capture:!0};t.current=Cr(window,[n],a)},[n]);lr(function(){return r(),function(){t.current()}},[r])}const zv={type:"IDLE"},Ole=120,Rle=.15;function Mle({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Iw&&n.preventDefault(),e()}},{eventName:Im,fn:e}]}function Lle({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:a,clientY:s}=r.touches[0],u={x:a,y:s};r.preventDefault(),i.actions.move(u)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&pe();const a=r.touches[0];if(!a||!(a.force>=Rle))return;const u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&e();return}if(u){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:Im,fn:e}]}function jle(e){const t=T.useRef(zv),n=T.useRef(Pa),r=Ce(function(){return t.current},[]),i=Ce(function(x){t.current=x},[]),a=Ye(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const A=e.findClosestDraggableId(x);if(!A)return;const E=e.tryGetLock(A,u,{sourceEvent:x});if(!E)return;const _=x.touches[0],{clientX:C,clientY:I}=_,D={x:C,y:I};n.current(),m(E,D)}}),[e]),s=Ce(function(){const x={capture:!0,passive:!1};n.current=Cr(window,[a],x)},[a]),u=Ce(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(zv),n.current(),s())},[s,i]),c=Ce(()=>{const g=t.current;u(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[u]),d=Ce(function(){const x={capture:!0,passive:!1},A={cancel:c,completed:u,getPhase:r},E=Cr(window,Lle(A),x),_=Cr(window,Mle(A),x);n.current=function(){E(),_()}},[c,r,u]),h=Ce(function(){const x=r();x.type!=="PENDING"&&pe();const A=x.actions.fluidLift(x.point);i({type:"DRAGGING",actions:A,hasMoved:!1})},[r,i]),m=Ce(function(x,A){r().type!=="IDLE"&&pe();const E=setTimeout(h,Ole);i({type:"PENDING",point:A,actions:x,longPressTimerId:E}),d()},[d,r,i,h]);lr(function(){return s(),function(){n.current();const A=r();A.type==="PENDING"&&(clearTimeout(A.longPressTimerId),i(zv))}},[r,s,i]),lr(function(){return Cr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Ule=["input","button","textarea","select","option","optgroup","video","audio"];function pj(e,t){if(t==null)return!1;if(Ule.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:pj(e,t.parentElement)}function Ble(e,t){const n=t.target;return Nm(n)?pj(e,n):!1}var qle=e=>Fr(e.getBoundingClientRect()).center;function $le(e){return e instanceof cj(e).Element}const Gle=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function gj(e,t){return e==null?null:e[Gle](t)?e:gj(e.parentElement,t)}function zle(e,t){return e.closest?e.closest(t):gj(e,t)}function Hle(e){return`[${Xs.contextId}="${e}"]`}function Fle(e,t){const n=t.target;if(!$le(n))return null;const r=Hle(e),i=zle(n,r);return!i||!Nm(i)?null:i}function Vle(e,t){const n=Fle(e,t);return n?n.getAttribute(Xs.draggableId):null}function Wle(e,t){const n=`[${fb.contextId}="${e}"]`,i=uj(document,n).find(a=>a.getAttribute(fb.id)===t);return!i||!Nm(i)?null:i}function Yle(e){e.preventDefault()}function of({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function yj({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!aj(t.getState(),r))}function Kle({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:a,sourceEvent:s}){if(!yj({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),d=Wle(t,c.descriptor.id);if(!d||s&&!c.options.canDragInteractiveElements&&Ble(d,s))return null;const h=e.claim(a||Pa);let m="PRE_DRAG";function g(){return c.options.shouldRespectForcePress}function x(){return e.isActive(h)}function A(P,R){of({expected:P,phase:m,isLockActive:x,shouldWarn:!0})&&n.dispatch(R())}const E=A.bind(null,"DRAGGING");function _(P){function R(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(R(),pe()),n.dispatch(zoe(P.liftActionArgs)),m="DRAGGING";function M(z,B={shouldBlockNextClick:!1}){if(P.cleanup(),B.shouldBlockNextClick){const $=Cr(window,[{eventName:"click",fn:Yle,options:{once:!0,passive:!1,capture:!0}}]);setTimeout($)}R(),n.dispatch(XL({reason:z}))}return{isActive:()=>of({expected:"DRAGGING",phase:m,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:g,drop:z=>M("DROP",z),cancel:z=>M("CANCEL",z),...P.actions}}function C(P){const R=Wu(z=>{E(()=>JL({client:z}))});return{..._({liftActionArgs:{id:i,clientSelection:P,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function I(){const P={moveUp:()=>E(Qoe),moveRight:()=>E(ese),moveDown:()=>E(Zoe),moveLeft:()=>E(tse)};return _({liftActionArgs:{id:i,clientSelection:qle(d),movementMode:"SNAP"},cleanup:Pa,actions:P})}function D(){of({expected:"PRE_DRAG",phase:m,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>of({expected:"PRE_DRAG",phase:m,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:C,snapLift:I,abort:D}}const Jle=[Nle,kle,jle];function Xle({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const a=[...i?Jle:[],...r||[]],s=T.useState(()=>mle())[0],u=Ce(function(_,C){Zu(_)&&!Zu(C)&&s.tryAbandon()},[s]);lr(function(){let _=t.getState();return t.subscribe(()=>{const I=t.getState();u(_,I),_=I})},[s,t,u]),lr(()=>s.tryAbandon,[s.tryAbandon]);const c=Ce(E=>yj({lockAPI:s,registry:n,store:t,draggableId:E}),[s,n,t]),d=Ce((E,_,C)=>Kle({lockAPI:s,registry:n,contextId:e,store:t,draggableId:E,forceSensorStop:_||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,s,n,t]),h=Ce(E=>Vle(e,E),[e]),m=Ce(E=>{const _=n.draggable.findById(E);return _?_.options:null},[n.draggable]),g=Ce(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(ww()))},[s,t]),x=Ce(()=>s.isClaimed(),[s]),A=Ye(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:m,tryReleaseLock:g,isLockClaimed:x}),[c,d,h,m,g,x]);for(let E=0;E<a.length;E++)a[E](A)}const Qle=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};rl.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Zle=e=>({...Qu,...e.autoScrollerOptions,durationDampening:{...Qu.durationDampening,...e.autoScrollerOptions}});function Eu(e){return e.current||pe(),e.current}function eue(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:a}=e,s=T.useRef(null),u=dj(e),c=Ce(()=>Qle(u.current),[u]),d=Ce(()=>Zle(u.current),[u]),h=cle(t),m=hle({contextId:t,text:a}),g=rle(t,i),x=Ce($=>{Eu(s).dispatch($)},[]),A=Ye(()=>EN({publishWhileDragging:Foe,updateDroppableScroll:Woe,updateDroppableIsEnabled:Yoe,updateDroppableIsCombineEnabled:Koe,collectionStarting:Voe},x),[x]),E=sle(),_=Ye(()=>Mse(E,A),[E,A]),C=Ye(()=>Qse({scrollWindow:Lse,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:d,...EN({move:JL},x)}),[_.scrollDroppable,x,d]),I=ale(t),D=Ye(()=>Pse({announce:h,autoScroller:C,dimensionMarshal:_,focusMarshal:I,getResponders:c,styleMarshal:g}),[h,C,_,I,c,g]);s.current=D;const k=Ce(()=>{const $=Eu(s);$.getState().phase!=="IDLE"&&$.dispatch(ww())},[]),P=Ce(()=>{const $=Eu(s).getState();return $.phase==="DROP_ANIMATING"?!0:$.phase==="IDLE"?!1:$.isDragging},[]),R=Ye(()=>({isDragging:P,tryAbort:k}),[P,k]);n(R);const M=Ce($=>aj(Eu(s).getState(),$),[]),z=Ce(()=>mo(Eu(s).getState()),[]),B=Ye(()=>({marshal:_,focus:I,contextId:t,canLift:M,isMovementAllowed:z,dragHandleUsageInstructionsId:m,registry:E}),[t,_,m,I,M,z,E]);return Xle({contextId:t,store:D,registry:E,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),T.useEffect(()=>k,[k]),Ct.createElement(Dm.Provider,{value:B},Ct.createElement(Q2,{context:Nw,store:D},e.children))}function tue(){return Ct.useId()}function nue(e){const t=tue(),n=e.dragHandleUsageInstructions||Nf.dragHandleUsageInstructions;return Ct.createElement(kae,null,r=>Ct.createElement(eue,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const rP={dragging:5e3,dropAnimating:4500},rue=(e,t)=>t?Iu.drop(t.duration):e?Iu.snap:Iu.fluid,iue=(e,t)=>{if(e)return t?Xu.opacity.drop:Xu.opacity.combining},aue=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function oue(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:a}=e,s=!!i,u=aue(e),c=!!a,d=c?cb.drop(r,s):cb.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:rue(u,a),transform:d,opacity:iue(s,c),zIndex:c?rP.dropAnimating:rP.dragging,pointerEvents:"none"}}function sue(e){return{transform:cb.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function lue(e){return e.type==="DRAGGING"?oue(e):sue(e)}function uue(e,t,n=un){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),a=AL(i,r),s=Eh(a,n),u={client:a,tagName:t.tagName.toLowerCase(),display:r.display},c={x:a.marginBox.width,y:a.marginBox.height};return{descriptor:e,placeholder:u,displaceBy:c,client:a,page:s}}function cue(e){const t=Dw("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:u}=e,c=Ye(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:u}),[a,u,s]),d=Ce(x=>{const A=i();return A||pe(),uue(n,A,x)},[n,i]),h=Ye(()=>({uniqueId:t,descriptor:n,options:c,getDimension:d}),[n,d,c,t]),m=T.useRef(h),g=T.useRef(!0);lr(()=>(r.draggable.register(m.current),()=>r.draggable.unregister(m.current)),[r.draggable]),lr(()=>{if(g.current){g.current=!1;return}const x=m.current;m.current=h,r.draggable.update(h,x)},[h,r.draggable])}var Pw=Ct.createContext(null);function Dh(e){const t=T.useContext(e);return t||pe(),t}function due(e){e.preventDefault()}const fue=e=>{const t=T.useRef(null),n=Ce((R=null)=>{t.current=R},[]),r=Ce(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=Dh(Dm),{type:u,droppableId:c}=Dh(Pw),d=Ye(()=>({id:e.draggableId,index:e.index,type:u,droppableId:c}),[e.draggableId,e.index,u,c]),{children:h,draggableId:m,isEnabled:g,shouldRespectForcePress:x,canDragInteractiveElements:A,isClone:E,mapped:_,dropAnimationFinished:C}=e;if(!E){const R=Ye(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:A,shouldRespectForcePress:x,isEnabled:g}),[d,s,r,A,x,g]);cue(R)}const I=Ye(()=>g?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:due}:null,[i,a,m,g]),D=Ce(R=>{_.type==="DRAGGING"&&_.dropping&&R.propertyName==="transform"&&rl.flushSync(C)},[C,_]),k=Ye(()=>{const R=lue(_),M=_.type==="DRAGGING"&&_.dropping?D:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":m,style:R,onTransitionEnd:M},dragHandleProps:I}},[i,I,m,_,D,n]),P=Ye(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Ct.createElement(Ct.Fragment,null,h(k,_.snapshot,P))};var vj=(e,t)=>e===t,bj=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const hue=e=>e.combine?e.combine.draggableId:null,mue=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function pue(){const e=ln((i,a)=>({x:i,y:a})),t=ln((i,a,s=null,u=null,c=null)=>({isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:s,combineWith:u,combineTargetFor:null})),n=ln((i,a,s,u,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:a,offset:i,dimension:s,forceShouldAnimate:h,snapshot:t(a,u,c,d,null)}}));return(i,a)=>{if(Zu(i)){if(i.critical.draggable.id!==a.draggableId)return null;const s=i.current.client.offset,u=i.dimensions.draggables[a.draggableId],c=sr(i.impact),d=mue(i.impact),h=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,u,a.isClone,c,d,h)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==a.draggableId)return null;const u=a.isClone,c=i.dimensions.draggables[a.draggableId],d=s.result,h=d.mode,m=bj(d),g=hue(d),A={duration:i.dropDuration,curve:Ew.drop,moveTo:i.newHomeClientOffset,opacity:g?Xu.opacity.drop:null,scale:g?Xu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:A,draggingOver:m,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,u,m,g,A)}}}return null}}function xj(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const gue={mapped:{type:"SECONDARY",offset:un,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:xj(null)}};function yue(){const e=ln((s,u)=>({x:s,y:u})),t=ln(xj),n=ln((s,u=null,c)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:u,shouldAnimateDisplacement:c,snapshot:t(u)}})),r=s=>s?n(un,s,!0):null,i=(s,u,c,d)=>{const h=c.displaced.visible[s],m=!!(d.inVirtualList&&d.effected[s]),g=_m(c),x=g&&g.draggableId===s?u:null;if(!h){if(!m)return r(x);if(c.displaced.invisible[s])return null;const _=hl(d.displacedBy.point),C=e(_.x,_.y);return n(C,x,!0)}if(m)return r(x);const A=c.displacedBy.point,E=e(A.x,A.y);return n(E,x,h.shouldAnimate)};return(s,u)=>{if(Zu(s))return s.critical.draggable.id===u.draggableId?null:i(u.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const c=s.completed;return c.result.draggableId===u.draggableId?null:i(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const vue=()=>{const e=pue(),t=yue();return(r,i)=>e(r,i)||t(r,i)||gue},bue={dropAnimationFinished:QL},xue=X2(vue,bue,null,{context:Nw,areStatePropsEqual:vj})(fue);function wj(e){return Dh(Pw).isUsingCloneFor===e.draggableId&&!e.isClone?null:Ct.createElement(xue,e)}function wue(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Ct.createElement(wj,Ah({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Sj=e=>t=>e===t,Sue=Sj("scroll"),Eue=Sj("auto"),iP=(e,t)=>t(e.overflowX)||t(e.overflowY),Aue=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return iP(n,Sue)||iP(n,Eue)},_ue=()=>!1,Ej=e=>e==null?null:e===document.body?_ue()?e:null:e===document.documentElement?null:Aue(e)?e:Ej(e.parentElement);var hb=e=>({x:e.scrollLeft,y:e.scrollTop});const Aj=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Aj(e.parentElement):!1;var Tue=e=>{const t=Ej(e),n=Aj(e);return{closestScrollable:t,isFixedOnPage:n}},Cue=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:a,page:s,closest:u})=>{const c=(()=>{if(!u)return null;const{scrollSize:g,client:x}=u,A=nj({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:x,scrollSize:g,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:A,diff:{value:un,displacement:un}}}})(),d=i==="vertical"?gw:ML,h=Ks({page:s,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:t,client:a,page:s,frame:c,subject:h}};const Nue=(e,t)=>{const n=_L(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,a=r+t.scrollHeight,s=i+t.scrollWidth,c=fw({top:r,right:s,bottom:a,left:i},n.border);return hw({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var Due=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:u})=>{const c=n.closestScrollable,d=Nue(e,c),h=Eh(d,r),m=(()=>{if(!c)return null;const x=_L(c),A={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:x,page:Eh(x,r),scroll:hb(c),scrollSize:A,shouldClipSubject:u}})();return Cue({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:m})};const Iue={passive:!1},Pue={passive:!0};var aP=e=>e.shouldPublishImmediately?Iue:Pue;const sf=e=>e&&e.env.closestScrollable||null;function kue(e){const t=T.useRef(null),n=Dh(Dm),r=Dw("droppable"),{registry:i,marshal:a}=n,s=dj(e),u=Ye(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=T.useRef(u),d=Ye(()=>ln((k,P)=>{t.current||pe();const R={x:k,y:P};a.updateDroppableScroll(u.id,R)}),[u.id,a]),h=Ce(()=>{const k=t.current;return!k||!k.env.closestScrollable?un:hb(k.env.closestScrollable)},[]),m=Ce(()=>{const k=h();d(k.x,k.y)},[h,d]),g=Ye(()=>Wu(m),[m]),x=Ce(()=>{const k=t.current,P=sf(k);if(k&&P||pe(),k.scrollOptions.shouldPublishImmediately){m();return}g()},[g,m]),A=Ce((k,P)=>{t.current&&pe();const R=s.current,M=R.getDroppableRef();M||pe();const z=Tue(M),B={ref:M,descriptor:u,env:z,scrollOptions:P};t.current=B;const $=Due({ref:M,descriptor:u,env:z,windowScroll:k,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),W=z.closestScrollable;return W&&(W.setAttribute(ZI.contextId,n.contextId),W.addEventListener("scroll",x,aP(B.scrollOptions))),$},[n.contextId,u,x,s]),E=Ce(()=>{const k=t.current,P=sf(k);return k&&P||pe(),hb(P)},[]),_=Ce(()=>{const k=t.current;k||pe();const P=sf(k);t.current=null,P&&(g.cancel(),P.removeAttribute(ZI.contextId),P.removeEventListener("scroll",x,aP(k.scrollOptions)))},[x,g]),C=Ce(k=>{const P=t.current;P||pe();const R=sf(P);R||pe(),R.scrollTop+=k.y,R.scrollLeft+=k.x},[]),I=Ye(()=>({getDimensionAndWatchScroll:A,getScrollWhileDragging:E,dragStopped:_,scroll:C}),[_,A,E,C]),D=Ye(()=>({uniqueId:r,descriptor:u,callbacks:I}),[I,u,r]);lr(()=>(c.current=D.descriptor,i.droppable.register(D),()=>{t.current&&_(),i.droppable.unregister(D)}),[I,u,_,D,a,i.droppable]),lr(()=>{t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),lr(()=>{t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Hv(){}const oP={width:0,height:0,margin:Bae},Oue=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?oP:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Rue=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Oue({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Iu.placeholder:null}},Mue=e=>{const t=T.useRef(null),n=Ce(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=e,[u,c]=T.useState(e.animate==="open");T.useEffect(()=>u?r!=="open"?(n(),c(!1),Hv):t.current?Hv:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):Hv,[r,u,n]);const d=Ce(m=>{m.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=Rue({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return Ct.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var Lue=Ct.memo(Mue);class jue extends Ct.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const Uue=e=>{const t=T.useContext(Dm);t||pe();const{contextId:n,isMovementAllowed:r}=t,i=T.useRef(null),a=T.useRef(null),{children:s,droppableId:u,type:c,mode:d,direction:h,ignoreContainerClipping:m,isDropDisabled:g,isCombineEnabled:x,snapshot:A,useClone:E,updateViewportMaxScroll:_,getContainerForClone:C}=e,I=Ce(()=>i.current,[]),D=Ce((W=null)=>{i.current=W},[]);Ce(()=>a.current,[]);const k=Ce((W=null)=>{a.current=W},[]),P=Ce(()=>{r()&&_({maxScroll:ij()})},[r,_]);kue({droppableId:u,type:c,mode:d,direction:h,isDropDisabled:g,isCombineEnabled:x,ignoreContainerClipping:m,getDroppableRef:I});const R=Ye(()=>Ct.createElement(jue,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:W,data:Y,animate:K})=>Ct.createElement(Lue,{placeholder:Y,onClose:W,innerRef:k,animate:K,contextId:n,onTransitionEnd:P})),[n,P,e.placeholder,e.shouldAnimatePlaceholder,k]),M=Ye(()=>({innerRef:D,placeholder:R,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":n}}),[n,u,R,D]),z=E?E.dragging.draggableId:null,B=Ye(()=>({droppableId:u,type:c,isUsingCloneFor:z}),[u,z,c]);function $(){if(!E)return null;const{dragging:W,render:Y}=E,K=Ct.createElement(wj,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(G,ne)=>Y(G,ne,W));return zz.createPortal(K,C())}return Ct.createElement(Pw.Provider,{value:B},s(M,A),$())};function Bue(){return document.body||pe(),document.body}const sP={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Bue},_j=e=>{let t={...e},n;for(n in sP)e[n]===void 0&&(t={...t,[n]:sP[n]});return t},Fv=(e,t)=>e===t.droppable.type,lP=(e,t)=>t.draggables[e.draggable.id],que=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ln(a=>({draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}})),r=ln((a,s,u,c,d,h)=>{const m=d.descriptor.id;if(d.descriptor.droppableId===a){const A=h?{render:h,dragging:n(d.descriptor)}:null,E={isDraggingOver:u,draggingOverWith:u?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:E,useClone:A}}if(!s)return t;if(!c)return e;const x={isDraggingOver:u,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(a,s)=>{const u=_j(s),c=u.droppableId,d=u.type,h=!u.isDropDisabled,m=u.renderClone;if(Zu(a)){const g=a.critical;if(!Fv(d,g))return t;const x=lP(g,a.dimensions),A=sr(a.impact)===c;return r(c,h,A,A,x,m)}if(a.phase==="DROP_ANIMATING"){const g=a.completed;if(!Fv(d,g.critical))return t;const x=lP(g.critical,a.dimensions);return r(c,h,bj(g.result)===c,sr(g.impact)===c,x,m)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){const g=a.completed;if(!Fv(d,g.critical))return t;const x=sr(g.impact)===c,A=!!(g.impact.at&&g.impact.at.type==="COMBINE"),E=g.critical.droppable.id===c;return x?A?e:t:E?e:t}return t}},$ue={updateViewportMaxScroll:Xoe},Gue=X2(que,$ue,(e,t,n)=>({..._j(n),...e,...t}),{context:Nw,areStatePropsEqual:vj})(Uue),zue={email:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-yellow-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("title",{children:"Email Icon"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]}),document:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-blue-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("title",{children:"Document Icon"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]}),statement:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-green-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("title",{children:"Statement Icon"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]}),other:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-gray-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("title",{children:"Other Evidence Icon"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]})},Hue=({onAdd:e})=>{const[t,n]=T.useState(!1),[r,i]=T.useState(""),a=s=>{s.preventDefault(),r.trim()&&(e(r),i(""),n(!1))};return t?b.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-3 w-full md:w-80 lg:w-96 flex-shrink-0",children:b.jsxs("form",{onSubmit:a,children:[b.jsx("input",{type:"text",value:r,onChange:s=>i(s.target.value),placeholder:"Enter column title...",className:"w-full p-2 border border-blue-500 rounded-md bg-white dark:bg-gray-700 focus:outline-none",autoFocus:!0}),b.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[b.jsx("button",{type:"submit",className:"px-4 py-1.5 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition",children:"Add Column"}),b.jsx("button",{type:"button",onClick:()=>n(!1),className:"p-1.5 text-gray-500 hover:text-gray-800 dark:hover:text-gray-200",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}):b.jsx("div",{className:"w-full md:w-80 lg:w-96 flex-shrink-0",children:b.jsx("button",{onClick:()=>n(!0),className:"w-full p-3 bg-gray-200 dark:bg-gray-700/50 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition",children:"+ Add another column"})})},Fue=({board:e,onDragEnd:t,onSaveEvidence:n,onDeleteEvidence:r,onRenameColumn:i,onDeleteColumn:a,onAddColumn:s})=>{const[u,c]=T.useState({isOpen:!1,mode:"add"}),[d,h]=T.useState({content:"",description:"",type:"other"}),[m,g]=T.useState(null),[x,A]=T.useState(""),E=(P,R)=>{c({isOpen:!0,mode:P,evidence:R}),h(P==="edit"&&R?{content:R.content,description:R.description,type:R.type}:{content:"",description:"",type:"other"})},_=()=>{c({isOpen:!1,mode:"add"})},C=P=>{P.preventDefault(),d.content&&(u.mode==="edit"&&u.evidence?n(d,u.evidence.id):n(d),_())},I=(P,R)=>{g(P),A(R)},D=P=>{x.trim()&&i(P,x),g(null),A("")},k=P=>{window.confirm("Are you sure you want to delete this column? All evidence inside will be moved to the Uncategorized column.")&&a(P)};return e?b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Evidence Board"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Drag evidence to allegations, or add new items to build your case."})]}),b.jsx("button",{onClick:()=>E("add"),className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition",children:"Add Evidence"})]}),b.jsx(nue,{onDragEnd:t,children:b.jsxs("div",{className:"flex flex-col md:flex-row overflow-x-auto space-y-4 md:space-y-0 md:space-x-4 items-start pb-4",children:[e.columnOrder.map(P=>{const R=e.columns[P],M=R.evidenceIds.map(z=>e.evidence[z]).filter(Boolean);return b.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-3 w-full md:w-80 lg:w-96 flex-shrink-0",children:[b.jsxs("div",{className:"group flex justify-between items-center p-2 mb-2",children:[m===R.id?b.jsx("input",{type:"text",value:x,onChange:z=>A(z.target.value),onBlur:()=>D(R.id),onKeyDown:z=>z.key==="Enter"&&D(R.id),className:"font-bold text-gray-800 dark:text-white bg-transparent border-b-2 border-blue-500 focus:outline-none flex-grow",autoFocus:!0}):b.jsx("h4",{className:"font-bold text-gray-800 dark:text-white flex-grow",children:R.title}),R.id!=="uncategorized"&&!m&&b.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>I(R.id,R.title),className:"p-1.5 rounded text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-700","aria-label":"Rename column",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.232 5.232z"})})}),b.jsx("button",{onClick:()=>k(R.id),className:"p-1.5 rounded text-gray-500 hover:bg-red-100 dark:hover:bg-red-900/50 hover:text-red-500","aria-label":"Delete column",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),b.jsx(Gue,{droppableId:R.id,children:(z,B)=>b.jsxs("div",{...z.droppableProps,ref:z.innerRef,className:`min-h-[200px] p-2 rounded-md transition-colors ${B.isDraggingOver?"bg-blue-100 dark:bg-blue-900/50":"bg-gray-200/50 dark:bg-gray-700/50"}`,children:[M.map(($,W)=>b.jsx(wue,{draggableId:$.id,index:W,children:(Y,K)=>b.jsxs("div",{ref:Y.innerRef,...Y.draggableProps,...Y.dragHandleProps,className:`group relative p-3 mb-3 bg-white dark:bg-gray-900 rounded-md shadow-sm border-l-4 ${K.isDragging?"shadow-lg ring-2 ring-blue-500":""} border-blue-500`,style:{...Y.draggableProps.style},children:[b.jsxs("div",{className:"flex items-start",children:[zue[$.type],b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-200",children:$.content}),b.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:$.description}),b.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:["Updated: ",new Date($.date).toLocaleString()]})]})]}),b.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>E("edit",$),className:"p-1 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300","aria-label":"Edit item",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.232 5.232z"})})}),b.jsx("button",{onClick:()=>r($.id),className:"p-1 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-red-500","aria-label":"Delete item",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},$.id)),z.placeholder]})})]},R.id)}),b.jsx(Hue,{onAdd:s})]})}),u.isOpen&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50","aria-modal":"true",role:"dialog",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md",children:[b.jsx("h3",{className:"text-xl font-bold mb-4",children:u.mode==="add"?"Add New Evidence":"Edit Evidence"}),b.jsxs("form",{onSubmit:C,children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Content / Title"}),b.jsx("input",{type:"text",id:"content",value:d.content,onChange:P=>h({...d,content:P.target.value}),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),b.jsx("textarea",{id:"description",value:d.description,onChange:P=>h({...d,description:P.target.value}),rows:3,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Type"}),b.jsxs("select",{id:"type",value:d.type,onChange:P=>h({...d,type:P.target.value}),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700",children:[b.jsx("option",{value:"email",children:"Email"}),b.jsx("option",{value:"document",children:"Document"}),b.jsx("option",{value:"statement",children:"Statement"}),b.jsx("option",{value:"other",children:"Other"})]})]})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[b.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 transition",children:"Cancel"}),b.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 transition",children:"Save"})]})]})]})})]}):b.jsx("div",{children:"Loading evidence board..."})},Vue="",Wue="",Yue=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],Kue="https://www.googleapis.com/auth/drive.readonly";let Df=null;function Jue(e){const t=()=>{typeof gapi<"u"&&typeof google<"u"?gapi.load("client",async()=>{await gapi.client.init({apiKey:Vue,discoveryDocs:Yue}),Df=google.accounts.oauth2.initTokenClient({client_id:Wue,scope:Kue,callback:n=>{e(!!n.access_token)}}),gapi.client.getToken()!==null?e(!0):e(!1)}):setTimeout(t,100)};t()}function Xue(){if(!Df){console.error("Google API client not initialized.");return}gapi.client.getToken()===null?Df.requestAccessToken({prompt:"consent"}):Df.requestAccessToken({prompt:""})}function Que(e){const t=gapi.client.getToken();t!==null&&google.accounts.oauth2.revoke(t.access_token,()=>{gapi.client.setToken(null),e()})}async function Zue(e=100,t,n,r){try{let i="(mimeType='application/vnd.google-apps.document' or mimeType='application/pdf') and 'me' in owners";if(t){const s=t.replace(/'/g,"\\'");i+=` and fullText contains '${s}'`}return n&&(i+=` and createdTime >= '${n}T00:00:00Z'`),r&&(i+=` and createdTime <= '${r}T23:59:59Z'`),(await gapi.client.drive.files.list({pageSize:e,fields:"nextPageToken, files(id, name, webViewLink, createdTime, mimeType)",q:i,orderBy:"createdTime desc"})).result.files}catch(i){return console.error("Error listing files:",i.message),[]}}async function ece(e,t){try{return t==="application/vnd.google-apps.document"?(await gapi.client.drive.files.export({fileId:e,mimeType:"text/plain"})).body:t==="application/pdf"?`Cannot read content of PDF files directly in the browser. File Name: [PDF content for fileId ${e}]`:null}catch(n){return console.error("Error getting file content:",n.message),null}}const tce=()=>b.jsx("div",{className:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -start-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"}),nce=({evidence:e})=>{if(e.length===0)return b.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:b.jsx("p",{children:"No evidence found for the selected criteria to display in a timeline."})});const t=[...e].sort((n,r)=>new Date(n.createdDate).getTime()-new Date(r.createdDate).getTime());return b.jsx("div",{className:"relative border-s border-gray-200 dark:border-gray-700 ml-4 mt-8",children:t.map(n=>b.jsxs("div",{className:"mb-10 ms-6",children:[b.jsx(tce,{}),b.jsx("time",{className:"block mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:new Date(n.createdDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.jsx("a",{href:n.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:n.fileName})}),b.jsx("p",{className:"mt-1 text-base font-normal text-gray-500 dark:text-gray-400",children:n.justification}),b.jsx("div",{className:"mt-2 text-sm",children:b.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-purple-900 dark:text-purple-300",children:n.category})})]},n.fileId))})},rce=({allegations:e,onAddToBoard:t,evidenceIdsOnBoard:n})=>{const[r,i]=T.useState(!1),[a,s]=T.useState(!0),[u,c]=T.useState(!1),[d,h]=T.useState({processed:0,total:0}),[m,g]=T.useState([]),[x,A]=T.useState(null),[E,_]=T.useState(""),[C,I]=T.useState(""),[D,k]=T.useState(""),[P,R]=T.useState("list");T.useEffect(()=>{Jue(G=>{i(G),s(!1)})},[]);const M=()=>{a||(r?Que(()=>i(!1)):Xue())},z=T.useCallback(async()=>{c(!0),A(null),g([]),h({processed:0,total:0});try{const G=await Zue(50,E,C,D);if(!G||G.length===0){A("No relevant files (Google Docs, PDFs) found with the current search criteria in your Google Drive."),c(!1);return}h({processed:0,total:G.length});const ne=[];for(let U=0;U<G.length;U++){const te=G[U];h(fe=>({...fe,processed:U+1}));const ce=await ece(te.id,te.mimeType);if(ce){const fe=await Sz(ce,e);fe?.isRelevant&&ne.push({fileId:te.id,fileName:te.name,fileUrl:te.webViewLink,createdDate:te.createdTime,relevanceType:fe.relevanceType,specificAllegation:fe.specificAllegation,proactiveCategory:fe.proactiveCategory,justification:fe.justification,category:fe.category})}}g(ne)}catch(G){A(`An error occurred during the scan: ${G.message}`),console.error(G)}finally{c(!1)}},[e,E,C,D]),B=G=>G.reduce((ne,U)=>{const te=U.specificAllegation||U.proactiveCategory||"Uncategorized";return(ne[te]=ne[te]||[]).push(U),ne},{}),$=B(m.filter(G=>G.relevanceType==="specific")),W=B(m.filter(G=>G.relevanceType==="proactive")),Y=({item:G})=>{const ne=G.relevanceType==="specific",U=ne?"Direct Evidence":G.proactiveCategory,te=ne?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",ce=ne?"bg-blue-50 dark:bg-blue-900/30 border-blue-500":"bg-purple-50 dark:bg-purple-900/30 border-purple-500",fe=n.has(`drive-${G.fileId}`);return b.jsxs("li",{className:`p-4 rounded-lg border-l-4 ${ce}`,children:[b.jsxs("div",{className:"flex items-start sm:items-center justify-between flex-col sm:flex-row gap-2",children:[b.jsxs("div",{className:"flex items-center space-x-3 truncate",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),b.jsx("a",{href:G.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-gray-900 dark:text-gray-200 hover:underline truncate",title:G.fileName,children:G.fileName})]}),U&&b.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0 ${te}`,children:U})]}),b.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:[b.jsx("strong",{className:"text-gray-700 dark:text-gray-200",children:"Justification:"})," ",G.justification]}),b.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[b.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[b.jsxs("span",{children:["Category: ",b.jsx("span",{className:"font-medium",children:G.category})]}),b.jsxs("span",{className:"ml-4",children:["Created: ",new Date(G.createdDate).toLocaleDateString()]})]}),fe?b.jsxs("span",{className:"inline-flex items-center text-xs font-semibold text-green-700 dark:text-green-300",children:[b.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"On Board"]}):b.jsx("button",{onClick:()=>t(G),className:"text-xs font-semibold text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors","aria-label":`Add ${G.fileName} to evidence board`,children:"+ Add to Board"})]})]})},K=()=>{const G=Object.keys($).sort(),ne=Object.keys(W).sort();return b.jsxs("div",{className:"mt-8 space-y-6",children:[G.map(U=>b.jsxs("div",{children:[b.jsxs("h5",{className:"font-bold text-blue-600 dark:text-blue-400",children:["Allegation: ",U]}),b.jsx("ul",{className:"mt-2 space-y-3",children:$[U].map(te=>b.jsx(Y,{item:te},te.fileId))})]},U)),ne.length>0&&b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[b.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Contextual & Proactive Evidence"}),ne.map(U=>b.jsxs("div",{className:"mt-4",children:[b.jsx("h5",{className:"font-bold text-purple-600 dark:text-purple-400",children:U}),b.jsx("ul",{className:"mt-2 space-y-3",children:W[U].map(te=>b.jsx(Y,{item:te},te.fileId))})]},U))]})]})};return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Evidence Discovery from Google Drive"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Securely connect and scan your Google Drive for relevant documents, emails, and more."})]}),b.jsx("button",{onClick:M,disabled:a,className:`mt-4 sm:mt-0 px-4 py-2 font-semibold rounded-md transition ${a?"bg-gray-400 text-white cursor-not-allowed":r?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:a?"Initializing...":r?"Disconnect Google Drive":"Connect Google Drive"})]}),r&&b.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"keywords",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Keywords"}),b.jsx("input",{type:"text",id:"keywords",value:E,onChange:G=>_(G.target.value),placeholder:"e.g., performance review, unfair",className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Start Date"}),b.jsx("input",{type:"date",id:"startDate",value:C,onChange:G=>I(G.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"End Date"}),b.jsx("input",{type:"date",id:"endDate",value:D,onChange:G=>k(G.target.value),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm p-2 bg-gray-50 dark:bg-gray-700"})]})]}),b.jsx("button",{onClick:z,disabled:u,className:"w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-300 disabled:cursor-not-allowed transition",children:u?"Scanning...":"Start Scan"})]}),u&&b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"flex justify-between mb-1",children:[b.jsx("span",{className:"text-base font-medium text-blue-700 dark:text-white",children:"Scanning Files"}),b.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-white",children:[d.processed," / ",d.total]})]}),b.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:b.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d.processed/d.total*100}%`}})})]}),x&&b.jsx("p",{className:"text-red-500 mt-4",children:x}),m.length>0&&!u&&b.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Discovered Evidence"}),b.jsxs("div",{className:"flex space-x-1 rounded-lg bg-gray-200 dark:bg-gray-700 p-1",children:[b.jsx("button",{onClick:()=>R("list"),className:`px-3 py-1 text-sm font-medium rounded-md transition ${P==="list"?"bg-white dark:bg-gray-900 shadow text-blue-600":"text-gray-600 dark:text-gray-300"}`,children:"List"}),b.jsx("button",{onClick:()=>R("timeline"),className:`px-3 py-1 text-sm font-medium rounded-md transition ${P==="timeline"?"bg-white dark:bg-gray-900 shadow text-blue-600":"text-gray-600 dark:text-gray-300"}`,children:"Timeline"})]})]}),P==="list"?b.jsx(K,{}):b.jsx(nce,{evidence:m})]}),m.length===0&&!u&&d.total>0&&b.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center py-4",children:"Scan complete. No relevant documents were found based on the provided criteria."})]})},ice=({analysisResults:e,complaintText:t,jobDescriptionText:n,actualDutiesText:r,characterProfileText:i,handbookUrl:a,generateLetter:s,letterContent:u,onLetterGenerated:c})=>{const[d,h]=T.useState(u),[m,g]=T.useState(!1),[x,A]=T.useState(null),[E,_]=T.useState("demand");T.useEffect(()=>{h(u)},[u]);const C=async()=>{g(!0),A(null),h(null);try{const P=await s(e,t,n,r,i,a,E);P?(h(P),c(P)):A("Failed to generate the letter. Please try again.")}catch(P){A("An unexpected error occurred."),console.error(P)}finally{g(!1)}},I=T.useCallback(P=>{const R=new Set;return P?.responseStrategies&&P.responseStrategies.forEach(M=>{M.instances.forEach(z=>{z.attachments.forEach(B=>{R.add(B.name)})})}),Array.from(R)},[]),D=()=>{if(!d){alert("No letter generated to export.");return}const P=I(e),M=`

--- NOTE: The following documents were identified as relevant and should be manually attached. Please ensure they are included with this communication. ---
${P.length>0?P.map(K=>`- ${K}`).join(`
`):"- No specific attachments identified for this communication, but review your evidence board for relevant documents -"}
`;let z=d;const B=/\[\s*(ATTACHMENTS|DOCUMENTS|EVIDENCE|ATTACHMENT LIST)\s*\]/gi;B.test(d)?z=d.replace(B,M):z+=M;const $=`${E==="demand"?"Demand_Letter":"Settlement_Proposal"}.txt`,W=new Blob([z],{type:"text/plain;charset=utf-8"}),Y=document.createElement("a");Y.href=URL.createObjectURL(W),Y.download=$,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(Y.href)},k=()=>{d&&navigator.clipboard.writeText(d).then(()=>{alert("Letter copied to clipboard!")},P=>{console.error("Could not copy text: ",P),alert("Failed to copy letter.")})};return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Draft Your Formal Letter"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 mb-4",children:"Select a tone, then generate a professional letter based on your case analysis. Review and edit the draft carefully before sending."}),b.jsx("div",{className:"max-w-md mx-auto",children:b.jsxs("div",{role:"radiogroup","aria-label":"Select letter tone",className:"flex space-x-2 rounded-lg bg-gray-200 dark:bg-gray-700 p-1 mb-6 text-center",children:[b.jsxs("button",{role:"radio","aria-checked":E==="demand",onClick:()=>_("demand"),className:`w-full px-3 py-2 text-sm font-medium rounded-md transition ${E==="demand"?"bg-white dark:bg-gray-900 shadow text-blue-600":"text-gray-600 dark:text-gray-300"}`,children:[b.jsx("span",{className:"font-bold",children:"Use Demand Tone"}),b.jsx("span",{className:"block text-xs",children:"Formal, assertive, and ready to litigate."})]}),b.jsxs("button",{role:"radio","aria-checked":E==="settlement",onClick:()=>_("settlement"),className:`w-full px-3 py-2 text-sm font-medium rounded-md transition ${E==="settlement"?"bg-white dark:bg-gray-900 shadow text-blue-600":"text-gray-600 dark:text-gray-300"}`,children:[b.jsx("span",{className:"font-bold",children:"Use Settlement Tone"}),b.jsx("span",{className:"block text-xs",children:"Courteous, cooperative, seeks early resolution."})]})]})}),!d&&!m&&b.jsx("div",{className:"text-center py-8",children:b.jsx("button",{onClick:C,className:"px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Generate Draft Letter"})}),m&&b.jsx(Ou,{}),x&&b.jsx("p",{className:"text-red-500 mt-4 text-center",children:x}),d&&b.jsxs("div",{children:[b.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none p-6 border border-gray-200 dark:border-gray-700 rounded-md bg-gray-50 dark:bg-gray-900/50 whitespace-pre-wrap font-serif",children:d}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[b.jsx("button",{onClick:C,disabled:m,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:m?"Regenerating...":"Regenerate"}),b.jsx("button",{onClick:D,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Export Letter"}),b.jsx("button",{onClick:k,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-600 hover:bg-gray-700",children:"Copy to Clipboard"})]})]})]})},ace=({results:e,onGetSuggestions:t,suggestions:n,isSuggesting:r,onExportSection:i,onUpdateUserNotes:a})=>b.jsxs("div",{className:"space-y-8 mt-8",children:[b.jsxs(Gr,{title:"Information Gaps to Address",sectionKey:"informationGaps",onGetSuggestions:t,suggestion:n.informationGaps,isSuggesting:r.informationGaps,onExport:i,onUpdateUserNotes:a,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Your AI attorney has identified areas where your narrative could be strengthened with more detail. Addressing these points will help build a more robust case."}),b.jsx("ul",{className:"space-y-4",children:e.informationGaps.map((s,u)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border-l-4 border-red-500",children:[b.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.area}),b.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:s.question}),b.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:[b.jsx("span",{className:"font-bold",children:"Rationale:"})," ",s.rationale]})]},u))})]}),b.jsxs(Gr,{title:"Potential Investigator Questions",sectionKey:"investigatorQuestions",onGetSuggestions:t,suggestion:n.investigatorQuestions,isSuggesting:r.investigatorQuestions,onExport:i,onUpdateUserNotes:a,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Anticipate these questions from the company's investigator or lawyer. Preparing your answers will be critical."}),b.jsx("ul",{className:"space-y-4",children:e.investigatorQuestions.map((s,u)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:['"',s.question,'"']}),b.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 mt-1",children:["Purpose: ",s.purpose]})]},u))})]}),b.jsxs(Gr,{title:"Provide More Data: Key Metrics to Strengthen Your Case",sectionKey:"quantitativeDataPrompts",onGetSuggestions:t,suggestion:n.quantitativeDataPrompts,isSuggesting:r.quantitativeDataPrompts,onExport:i,onUpdateUserNotes:a,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"The AI has identified areas where specific data could significantly strengthen your claims. Answer the following questions and incorporate the data into your narrative."}),b.jsx("ul",{className:"space-y-4",children:e.quantitativeDataPrompts.map((s,u)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border-l-4 border-indigo-500",children:[b.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.prompt}),b.jsxs("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 mt-1",children:[b.jsx("span",{className:"font-bold",children:"Rationale:"})," ",s.rationale]})]},u))})]}),b.jsxs(Gr,{title:"Strategic Questions to Establish Culture Shift",sectionKey:"cultureShiftQuestions",onGetSuggestions:t,suggestion:n.cultureShiftQuestions,isSuggesting:r.cultureShiftQuestions,onExport:i,onUpdateUserNotes:a,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Use these questions in depositions with company witnesses (e.g., former colleagues, HR, managers) to build a narrative about the negative changes in the work environment."}),b.jsx("ul",{className:"space-y-4",children:e.cultureShiftQuestions.map((s,u)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:['"',s.question,'"']}),b.jsxs("p",{className:"text-sm text-teal-600 dark:text-teal-400 mt-1",children:["Objective: ",s.objective]})]},u))})]}),b.jsxs(Gr,{title:"Questions to Portray Company Culture & Leadership",sectionKey:"culturePortraitQuestions",onGetSuggestions:t,suggestion:n.culturePortraitQuestions,isSuggesting:r.culturePortraitQuestions,onExport:i,onUpdateUserNotes:a,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"These questions are designed to elicit detailed descriptions of the company's day-to-day environment, focusing on the issues stemming from inexperienced leadership."}),b.jsx("ul",{className:"space-y-6",children:e.culturePortraitQuestions.map((s,u)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.primaryQuestion}),b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 italic",children:["Objective: ",s.objective]}),b.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300 dark:border-gray-600",children:[b.jsx("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Follow-up Questions:"}),b.jsx("ul",{className:"space-y-2 mt-2",children:s.followUps.map((c,d)=>b.jsxs("li",{className:"text-sm",children:[b.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:["If response is ",c.ifResponseIs,":"]}),b.jsxs("span",{className:"ml-2 text-gray-800 dark:text-gray-200",children:['"',c.followUpQuestion,'"']})]},d))})]})]},u))})]}),b.jsxs(Gr,{title:"Investigative Questions on ADA & Accommodations",sectionKey:"adaAccommodationQuestions",onGetSuggestions:t,suggestion:n.adaAccommodationQuestions,isSuggesting:r.adaAccommodationQuestions,onExport:i,onUpdateUserNotes:a,children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"These questions are designed to scrutinize the company's procedures and actions regarding your ADA accommodation requests, particularly those related to autism, and to highlight any inconsistencies or discriminatory practices."}),b.jsx("ul",{className:"space-y-4",children:e.adaAccommodationQuestions.map((s,u)=>b.jsxs("li",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200 pr-4",children:['"',s.question,'"']}),b.jsx("span",{className:"flex-shrink-0 px-2 py-0.5 text-xs font-medium rounded-full bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300",children:s.focus})]}),b.jsxs("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 mt-1",children:["Objective: ",s.objective]})]},u))})]})]}),oce=({question:e,onAnalyze:t,onToggleDiscovery:n,onToggleEvidence:r,confidenceScore:i,analysisResult:a,caseLawResults:s,discoveryStatus:u={needDiscovery:!1,haveEvidence:!1}})=>{const[c,d]=T.useState(!1),h=()=>{t&&(t(e.id),d(!0))},m=g=>g?g>=85?"text-green-600":g>=70?"text-yellow-600":"text-red-600":"text-gray-500";return b.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors group border-b border-gray-100",children:[b.jsxs("div",{className:"flex justify-between items-start gap-4 mb-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-100 text-blue-600 font-bold rounded-lg text-sm",children:["Q",e.id]}),b.jsx("h3",{className:"text-base font-medium text-gray-900",children:e.question})]}),b.jsxs("div",{className:"flex gap-2",children:[t&&b.jsx("button",{onClick:h,className:"p-2 text-purple-600 hover:bg-purple-50 rounded transition-all",title:"Analyze with AI",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),b.jsx("button",{onClick:()=>navigator.clipboard.writeText(e.answer),className:"p-2 text-gray-400 hover:text-blue-600 transition-all",title:"Copy Answer",children:b.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),b.jsxs("div",{className:"pl-11",children:[b.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 bg-gray-50 p-4 rounded-lg border border-gray-100 mb-3",children:b.jsx("div",{dangerouslySetInnerHTML:{__html:e.answer.replace(/\n/g,"<br/>")}})}),b.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 border-t border-gray-100 pt-3",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[n&&b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:u.needDiscovery,onChange:g=>n(e.id,g.target.checked),className:"rounded text-blue-600"}),"Need Discovery"]}),r&&b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",checked:u.haveEvidence,onChange:g=>r(e.id,g.target.checked),className:"rounded text-green-600"}),"Have Evidence"]})]}),i!==void 0&&b.jsxs("div",{className:`font-medium ${m(i)}`,children:[i,"% Confidence"]})]}),c&&a&&b.jsxs("div",{className:"mt-3 bg-purple-50 p-3 rounded border border-purple-100 text-sm",children:[b.jsx("div",{className:"font-semibold text-purple-900 mb-1",children:"AI Analysis:"}),b.jsx("p",{className:"text-gray-700",children:a})]}),c&&s&&s.length>0&&b.jsxs("div",{className:"mt-3 bg-blue-50 p-4 rounded border border-blue-200",children:[b.jsxs("div",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Relevant Case Law (",s.length," cases found)"]}),b.jsx("div",{className:"space-y-3",children:s.map((g,x)=>b.jsxs("div",{className:"bg-white p-3 rounded border border-blue-100",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("div",{className:"font-bold text-gray-900",children:g.case_name}),b.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded ${g.relevance_score>=95?"bg-green-100 text-green-800":g.relevance_score>=90?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[g.relevance_score,"% Match"]})]}),b.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[b.jsx("span",{className:"font-semibold",children:g.jurisdiction}),"  ",g.claim_type,"  ",g.outcome]}),b.jsxs("div",{className:"text-sm space-y-2",children:[b.jsxs("div",{children:[b.jsx("span",{className:"font-semibold text-gray-700",children:"Key Facts:"}),b.jsx("p",{className:"text-gray-600",children:g.key_facts})]}),b.jsxs("div",{children:[b.jsx("span",{className:"font-semibold text-gray-700",children:"Legal Holding:"}),b.jsx("p",{className:"text-gray-600 italic",children:g.legal_holding})]}),b.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[b.jsx("span",{className:"font-semibold text-blue-900",children:"Why This Helps Your Case:"}),b.jsx("p",{className:"text-blue-800",children:g.why_relevant})]}),g.settlement_amount&&b.jsxs("div",{className:"text-green-700 font-semibold",children:["Settlement: ",g.settlement_amount]})]})]},x))})]})]})]})},sce=({questions:e,onUpdateQuestion:t,onLoadPreFilled:n,onAnalyzeQuestion:r,onToggleDiscovery:i,onToggleEvidence:a,confidenceScores:s={},analysisResults:u={},discoveryStatuses:c={}})=>{const[d,h]=T.useState(""),[m,g]=T.useState([]),[x,A]=T.useState(!1),E=T.useMemo(()=>{const k=d.toLowerCase();return k?e.filter(P=>P.question.toLowerCase().includes(k)||P.answer.toLowerCase().includes(k)||P.section.toLowerCase().includes(k)):e},[e,d]),_=T.useMemo(()=>{const k={};return E.forEach(P=>{k[P.section]||(k[P.section]=[]),k[P.section].push(P)}),k},[E]),C=k=>{g(P=>P.includes(k)?P.filter(R=>R!==k):[...P,k])},I=()=>{g(Object.keys(_))},D=()=>{g([])};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Legal Questions Database"}),b.jsxs("p",{className:"text-gray-500 mt-1",children:["Comprehensive list of ",e.length," legal questions.",x?" (Editing Mode)":""]})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx("button",{onClick:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium transition-colors",children:"Load Pre-Filled Answers"}),b.jsx("button",{onClick:()=>A(!x),className:`px-4 py-2 border rounded-lg text-sm font-medium transition-colors ${x?"bg-blue-100 text-blue-700 border-blue-300":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:x?"Done Editing":"Edit Answers"}),b.jsx("button",{onClick:I,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm font-medium transition-colors",children:"Expand All"}),b.jsx("button",{onClick:D,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm font-medium transition-colors",children:"Collapse All"})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),b.jsx("input",{type:"text",placeholder:"Search questions, answers, or sections...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",value:d,onChange:k=>h(k.target.value)})]})]}),b.jsx("div",{className:"space-y-6",children:Object.entries(_).map(([k,P])=>b.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[b.jsxs("button",{onClick:()=>C(k),className:"w-full px-6 py-4 bg-gray-50 flex justify-between items-center hover:bg-gray-100 transition-colors",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:[P.length," Questions"]}),b.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${m.includes(k)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),m.includes(k)&&b.jsx("div",{className:"divide-y divide-gray-100",children:P.map(R=>b.jsx("div",{children:x?b.jsxs("div",{className:"p-6 border-b border-gray-100",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsxs("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-100 text-blue-600 font-bold rounded-lg text-sm",children:["Q",R.id]}),b.jsx("h3",{className:"text-base font-medium text-gray-900",children:R.question})]}),b.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:4,value:R.answer,onChange:M=>t(R.id,M.target.value),placeholder:"Enter answer..."})]}):b.jsx(oce,{question:R,onAnalyze:r,onToggleDiscovery:i,onToggleEvidence:a,confidenceScore:s[R.id],analysisResult:u[R.id],discoveryStatus:c[R.id]})},R.id))})]},k))})]})},lce=({onAnalyze:e,analysis:t,isAnalyzing:n,protectedActivityDate:r})=>{const[i,a]=T.useState(""),[s,u]=T.useState(""),c=()=>{if(!i.trim()||!s){alert("Please provide both the arbitration agreement text and the date it was signed.");return}e(i,s)},d=m=>m>=70?"text-red-600":m>=40?"text-yellow-600":"text-green-600",h=m=>m>=70?"High Unconscionability":m>=40?"Moderate Unconscionability":"Low Unconscionability";return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-6 rounded-lg shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Arbitration Challenge Analyzer"}),b.jsx("p",{className:"text-purple-100",children:"Analyze your arbitration agreement for enforceability issues and determine if your retaliation claim can be litigated outside arbitration."})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Arbitration Agreement Details"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Agreement Was Signed"}),b.jsx("input",{type:"date",value:s,onChange:m=>u(m.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-purple-500 focus:border-purple-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),r&&b.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Your protected activity (complaint) was on: ",b.jsx("strong",{children:new Date(r).toLocaleDateString()})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Arbitration Agreement Text"}),b.jsx("textarea",{value:i,onChange:m=>a(m.target.value),rows:10,className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-purple-500 focus:border-purple-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-mono text-sm",placeholder:"Paste the full text of your arbitration agreement here. Include all clauses, especially those related to scope, costs, and procedures."})]}),b.jsx("button",{onClick:c,disabled:n,className:"w-full px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-lg shadow-md disabled:bg-purple-300 disabled:cursor-not-allowed transition",children:n?" Analyzing Agreement...":" Analyze Arbitration Agreement"})]})]}),t&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Unconscionability Analysis"}),b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Unconscionability Score"}),b.jsxs("p",{className:`text-4xl font-bold ${d(t.unconscionabilityScore)}`,children:[t.unconscionabilityScore,"/100"]}),b.jsx("p",{className:`text-sm font-semibold ${d(t.unconscionabilityScore)}`,children:h(t.unconscionabilityScore)})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Carve-Out Viable?"}),b.jsx("p",{className:`text-2xl font-bold ${t.carveOutViable?"text-green-600":"text-red-600"}`,children:t.carveOutViable?" YES":" NO"})]})]}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:b.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[b.jsx("strong",{children:"Rationale:"})," ",t.carveOutRationale]})})]}),t.proceduralIssues.length>0&&b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Procedural Unconscionability Issues"}),b.jsx("ul",{className:"space-y-2",children:t.proceduralIssues.map((m,g)=>b.jsxs("li",{className:"flex items-start",children:[b.jsx("span",{className:"text-red-500 mr-2",children:""}),b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:m})]},g))})]}),t.substantiveIssues.length>0&&b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Substantive Unconscionability Issues"}),b.jsx("ul",{className:"space-y-2",children:t.substantiveIssues.map((m,g)=>b.jsxs("li",{className:"flex items-start",children:[b.jsx("span",{className:"text-red-500 mr-2",children:""}),b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:m})]},g))})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Legal Arguments for Challenging Arbitration"}),b.jsx("div",{className:"space-y-3",children:t.legalArguments.map((m,g)=>b.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border-l-4 border-blue-500",children:b.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:m})},g))})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Settlement Leverage Points"}),b.jsx("div",{className:"space-y-2",children:t.settlementLeveragePoints.map((m,g)=>b.jsxs("div",{className:"flex items-start",children:[b.jsx("span",{className:"text-green-500 mr-2 text-xl",children:""}),b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:m})]},g))})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Motion to Compel Litigation (Draft)"}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:b.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 dark:text-gray-200 font-mono",children:t.motionTemplate})}),b.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.motionTemplate),alert("Motion template copied to clipboard!")},className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:" Copy to Clipboard"})]}),b.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Export Analysis"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>{const m=JSON.stringify(t,null,2),g=new Blob([m],{type:"application/json"}),x=URL.createObjectURL(g),A=document.createElement("a");A.href=x,A.download="arbitration-analysis.json",A.click()},className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-medium",children:" Download JSON"}),b.jsx("button",{onClick:()=>{const m=`ARBITRATION ANALYSIS REPORT

Unconscionability Score: ${t.unconscionabilityScore}/100
Carve-Out Viable: ${t.carveOutViable?"YES":"NO"}

Rationale:
${t.carveOutRationale}

Procedural Issues:
${t.proceduralIssues.map((E,_)=>`${_+1}. ${E}`).join(`
`)}

Substantive Issues:
${t.substantiveIssues.map((E,_)=>`${_+1}. ${E}`).join(`
`)}

Legal Arguments:
${t.legalArguments.map((E,_)=>`${_+1}. ${E}`).join(`
`)}

Settlement Leverage:
${t.settlementLeveragePoints.map((E,_)=>`${_+1}. ${E}`).join(`
`)}

MOTION TEMPLATE:
${t.motionTemplate}`,g=new Blob([m],{type:"text/plain"}),x=URL.createObjectURL(g),A=document.createElement("a");A.href=x,A.download="arbitration-analysis.txt",A.click()},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md text-sm font-medium",children:" Download Report"})]})]})]})]})},uP=({onAnalyze:e,timeline:t,isAnalyzing:n,initialEvents:r=[],onEventsChange:i})=>{const[a,s]=T.useState(r),[u,c]=T.useState({date:"",type:"other",description:"",significance:""}),d=()=>{if(!u.date||!u.description){alert("Please provide at least a date and description for the event.");return}const E={id:Date.now().toString(),date:u.date,type:u.type,description:u.description,significance:u.significance||"",category:u.category},_=[...a,E].sort((C,I)=>new Date(C.date).getTime()-new Date(I.date).getTime());s(_),i&&i(_),c({date:"",type:"other",description:"",significance:""})},h=E=>{const _=a.filter(C=>C.id!==E);s(_),i&&i(_)},m=()=>{if(a.length<2){alert("Please add at least 2 events (protected activity and adverse action) to analyze the timeline.");return}e(a)},g=E=>({protected_activity:"bg-green-100 text-green-800 border-green-300",adverse_action:"bg-red-100 text-red-800 border-red-300",performance_review:"bg-blue-100 text-blue-800 border-blue-300",meeting:"bg-yellow-100 text-yellow-800 border-yellow-300",policy_change:"bg-purple-100 text-purple-800 border-purple-300",other:"bg-gray-100 text-gray-800 border-gray-300"})[E],x=E=>({protected_activity:"",adverse_action:"",performance_review:"",meeting:"",policy_change:"",other:""})[E],A=E=>({strong:"text-green-600",moderate:"text-yellow-600",weak:"text-red-600"})[E];return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 text-white p-6 rounded-lg shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Timeline & Causation Analyzer"}),b.jsx("p",{className:"text-blue-100",children:"Build a visual timeline of events to establish temporal proximity and causal connection for your retaliation claim."})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Add Timeline Event"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),b.jsx("input",{type:"date",value:u.date||"",onChange:E=>c({...u,date:E.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Type"}),b.jsxs("select",{value:u.type||"other",onChange:E=>c({...u,type:E.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[b.jsx("option",{value:"protected_activity",children:" Protected Activity (Complaint)"}),b.jsx("option",{value:"adverse_action",children:" Adverse Action"}),b.jsx("option",{value:"performance_review",children:" Performance Review"}),b.jsx("option",{value:"meeting",children:" Meeting"}),b.jsx("option",{value:"policy_change",children:" Policy Change"}),b.jsx("option",{value:"other",children:" Other"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),b.jsx("input",{type:"text",value:u.description||"",onChange:E=>c({...u,description:E.target.value}),placeholder:"e.g., Filed formal complaint with HR",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Significance (Optional)"}),b.jsx("textarea",{value:u.significance||"",onChange:E=>c({...u,significance:E.target.value}),rows:2,placeholder:"Why is this event important to your case?",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),b.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md font-medium",children:" Add Event"})]}),a.length>0&&b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[" Timeline Events (",a.length,")"]}),b.jsx("div",{className:"space-y-3",children:a.map(E=>b.jsx("div",{className:`p-4 rounded-lg border-2 ${g(E.type)}`,children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx("span",{className:"text-2xl",children:x(E.type)}),b.jsx("span",{className:"font-semibold",children:new Date(E.date).toLocaleDateString()}),b.jsx("span",{className:"text-xs uppercase font-semibold",children:E.type.replace("_"," ")})]}),b.jsx("p",{className:"text-gray-800 dark:text-gray-200 font-medium",children:E.description}),E.significance&&b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[b.jsx("strong",{children:"Significance:"})," ",E.significance]})]}),b.jsx("button",{onClick:()=>h(E.id),className:"ml-4 text-red-600 hover:text-red-800 font-bold",children:""})]})},E.id))}),b.jsx("button",{onClick:m,disabled:n,className:"mt-6 w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md disabled:bg-blue-300 disabled:cursor-not-allowed transition",children:n?" Analyzing Timeline...":" Analyze Temporal Proximity & Causation"})]}),t&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Temporal Proximity Analysis"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Protected Activity"}),b.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date(t.protectedActivityDate).toLocaleDateString()})]}),b.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Termination"}),b.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date(t.terminationDate).toLocaleDateString()})]}),b.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Days Between"}),b.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.temporalProximityDays})]})]}),b.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-md",children:[b.jsxs("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Causal Connection Strength:",b.jsx("span",{className:`ml-2 ${A(t.causalConnectionStrength)} uppercase`,children:t.causalConnectionStrength})]}),b.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.narrative})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" McDonnell Douglas Prima Facie Case"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-start",children:[b.jsx("span",{className:`text-2xl mr-3 ${t.mcDonnellDouglasAnalysis.protectedActivity?"text-green-600":"text-red-600"}`,children:t.mcDonnellDouglasAnalysis.protectedActivity?"":""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"1. Protected Activity"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.mcDonnellDouglasAnalysis.protectedActivityDescription})]})]}),b.jsxs("div",{className:"flex items-start",children:[b.jsx("span",{className:`text-2xl mr-3 ${t.mcDonnellDouglasAnalysis.adverseAction?"text-green-600":"text-red-600"}`,children:t.mcDonnellDouglasAnalysis.adverseAction?"":""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"2. Adverse Action"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.mcDonnellDouglasAnalysis.adverseActionDescription})]})]}),b.jsxs("div",{className:"flex items-start",children:[b.jsx("span",{className:`text-2xl mr-3 ${t.mcDonnellDouglasAnalysis.causalConnection?"text-green-600":"text-red-600"}`,children:t.mcDonnellDouglasAnalysis.causalConnection?"":""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"3. Causal Connection"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.mcDonnellDouglasAnalysis.causalConnectionRationale})]})]})]})]}),t.interveningEvents.length>0&&b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Intervening Events Supporting Causation"}),b.jsx("ul",{className:"space-y-2",children:t.interveningEvents.map((E,_)=>b.jsxs("li",{className:"flex items-start",children:[b.jsx("span",{className:"text-blue-500 mr-2",children:""}),b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:E})]},_))})]}),b.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Export Timeline"}),b.jsx("button",{onClick:()=>{const E=`TIMELINE ANALYSIS REPORT

Protected Activity: ${new Date(t.protectedActivityDate).toLocaleDateString()}
Termination: ${new Date(t.terminationDate).toLocaleDateString()}
Days Between: ${t.temporalProximityDays}
Causal Connection: ${t.causalConnectionStrength.toUpperCase()}

Narrative:
${t.narrative}

McDonnell Douglas Analysis:
1. Protected Activity: ${t.mcDonnellDouglasAnalysis.protectedActivity?"YES":"NO"}
   ${t.mcDonnellDouglasAnalysis.protectedActivityDescription}

2. Adverse Action: ${t.mcDonnellDouglasAnalysis.adverseAction?"YES":"NO"}
   ${t.mcDonnellDouglasAnalysis.adverseActionDescription}

3. Causal Connection: ${t.mcDonnellDouglasAnalysis.causalConnection?"YES":"NO"}
   ${t.mcDonnellDouglasAnalysis.causalConnectionRationale}

Intervening Events:
${t.interveningEvents.map((D,k)=>`${k+1}. ${D}`).join(`
`)}`,_=new Blob([E],{type:"text/plain"}),C=URL.createObjectURL(_),I=document.createElement("a");I.href=C,I.download="timeline-analysis.txt",I.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium",children:" Download Timeline Report"})]})]})]})},uce=({onCalculate:e,damages:t,isCalculating:n})=>{const[r,i]=T.useState(0),[a,s]=T.useState(""),[u,c]=T.useState(0),[d,h]=T.useState(""),[m,g]=T.useState(0),[x,A]=T.useState(0),[E,_]=T.useState(0),[C,I]=T.useState(0),[D,k]=T.useState(0),[P,R]=T.useState(0),[M,z]=T.useState(""),[B,$]=T.useState(0),[W,Y]=T.useState(""),K=()=>{if(!r||!a){alert("Please provide at least your salary and termination date.");return}e({salary:r,terminationDate:a,newJobSalary:u,newJobStartDate:d,healthInsurance:m,retirement401k:x,paidTimeOff:E,otherBenefits:C,jobSearchExpenses:D,emotionalDistress:P,emotionalDistressJustification:M,reputationalHarm:B,reputationalHarmJustification:W})},G=ne=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(ne);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white p-6 rounded-lg shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Comprehensive Damages Calculator"}),b.jsx("p",{className:"text-green-100",children:"Calculate economic, non-economic, and punitive damages to determine your settlement range."})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Employment & Compensation Information"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Annual Salary at Termination *"}),b.jsx("input",{type:"number",value:r||"",onChange:ne=>i(Number(ne.target.value)),placeholder:"e.g., 85000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Termination Date *"}),b.jsx("input",{type:"date",value:a,onChange:ne=>s(ne.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Job Salary (if applicable)"}),b.jsx("input",{type:"number",value:u||"",onChange:ne=>c(Number(ne.target.value)),placeholder:"e.g., 70000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Job Start Date (if applicable)"}),b.jsx("input",{type:"date",value:d,onChange:ne=>h(ne.target.value),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Lost Benefits (Annual Value)"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Health Insurance (Annual)"}),b.jsx("input",{type:"number",value:m||"",onChange:ne=>g(Number(ne.target.value)),placeholder:"e.g., 12000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"401(k) Match (Annual)"}),b.jsx("input",{type:"number",value:x||"",onChange:ne=>A(Number(ne.target.value)),placeholder:"e.g., 5000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Unpaid PTO Value"}),b.jsx("input",{type:"number",value:E||"",onChange:ne=>_(Number(ne.target.value)),placeholder:"e.g., 3000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Other Benefits (Annual)"}),b.jsx("input",{type:"number",value:C||"",onChange:ne=>I(Number(ne.target.value)),placeholder:"e.g., 2000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Job Search Expenses"}),b.jsx("input",{type:"number",value:D||"",onChange:ne=>k(Number(ne.target.value)),placeholder:"e.g., 1500",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Non-Economic Damages"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Emotional Distress Amount"}),b.jsx("input",{type:"number",value:P||"",onChange:ne=>R(Number(ne.target.value)),placeholder:"e.g., 50000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Emotional Distress Justification"}),b.jsx("textarea",{value:M,onChange:ne=>z(ne.target.value),rows:3,placeholder:"Describe therapy, medical treatment, impact on mental health, etc.",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reputational Harm Amount"}),b.jsx("input",{type:"number",value:B||"",onChange:ne=>$(Number(ne.target.value)),placeholder:"e.g., 25000",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reputational Harm Justification"}),b.jsx("textarea",{value:W,onChange:ne=>Y(ne.target.value),rows:3,placeholder:"Describe damage to professional reputation, difficulty finding new employment, etc.",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-green-500 focus:border-green-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),b.jsx("button",{onClick:K,disabled:n,className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md disabled:bg-green-300 disabled:cursor-not-allowed transition",children:n?" Calculating Damages...":" Calculate Total Damages & Settlement Range"}),t&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Economic Damages"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[b.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Back Pay (",t.economic.backPayMonths," months)"]}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.economic.backPay)})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[b.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Front Pay (",t.economic.frontPayYears," years)"]}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.economic.frontPay)})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Lost Benefits"}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.economic.lostBenefits.total)})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Job Search Expenses"}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.economic.jobSearchExpenses)})]}),b.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-100 dark:bg-blue-900/40 rounded-md border-2 border-blue-300 dark:border-blue-700",children:[b.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:"Total Economic Damages"}),b.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400 text-2xl",children:G(t.economic.total)})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Non-Economic Damages"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Emotional Distress"}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.nonEconomic.emotionalDistress)})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.nonEconomic.emotionalDistressJustification})]}),b.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-md",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Reputational Harm"}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.nonEconomic.reputationalHarm)})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.nonEconomic.reputationalHarmJustification})]}),b.jsxs("div",{className:"flex justify-between items-center p-4 bg-purple-100 dark:bg-purple-900/40 rounded-md border-2 border-purple-300 dark:border-purple-700",children:[b.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:"Total Non-Economic Damages"}),b.jsx("span",{className:"font-bold text-purple-600 dark:text-purple-400 text-2xl",children:G(t.nonEconomic.total)})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Punitive Damages"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-md",children:[b.jsxs("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Eligible for Punitive Damages:",b.jsx("span",{className:`ml-2 ${t.punitive.eligible?"text-green-600":"text-red-600"}`,children:t.punitive.eligible?" YES":" NO"})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.punitive.eligibilityRationale})]}),t.punitive.eligible&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:[b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Punitive Damages Amount"}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.punitive.amount)})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:[b.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Texas Cap"}),b.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:G(t.punitive.texasCap)})]}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.punitive.capCalculation})]})]})]}),b.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg shadow-lg p-6",children:[b.jsx("h3",{className:"text-2xl font-bold mb-4",children:" Settlement Range Recommendations"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-green-100 mb-1",children:"Conservative"}),b.jsx("p",{className:"text-3xl font-bold",children:G(t.settlementRange.conservative)}),b.jsx("p",{className:"text-xs text-green-100 mt-2",children:t.settlementRange.conservativeRationale})]}),b.jsxs("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-lg border-2 border-white",children:[b.jsx("p",{className:"text-sm text-green-100 mb-1",children:"Moderate (Recommended)"}),b.jsx("p",{className:"text-3xl font-bold",children:G(t.settlementRange.moderate)}),b.jsx("p",{className:"text-xs text-green-100 mt-2",children:t.settlementRange.moderateRationale})]}),b.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-green-100 mb-1",children:"Aggressive"}),b.jsx("p",{className:"text-3xl font-bold",children:G(t.settlementRange.aggressive)}),b.jsx("p",{className:"text-xs text-green-100 mt-2",children:t.settlementRange.aggressiveRationale})]})]})]}),b.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-4 border-green-500",children:b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" Total Damages"}),b.jsx("p",{className:"text-4xl font-bold text-green-600",children:G(t.totalDamages)})]})}),b.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-lg border border-green-200 dark:border-green-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Export Damages Report"}),b.jsx("button",{onClick:()=>{const ne=`DAMAGES CALCULATION REPORT

ECONOMIC DAMAGES:
Back Pay (${t.economic.backPayMonths} months): ${G(t.economic.backPay)}
Front Pay (${t.economic.frontPayYears} years): ${G(t.economic.frontPay)}
Lost Benefits: ${G(t.economic.lostBenefits.total)}
Job Search Expenses: ${G(t.economic.jobSearchExpenses)}
Total Economic: ${G(t.economic.total)}

NON-ECONOMIC DAMAGES:
Emotional Distress: ${G(t.nonEconomic.emotionalDistress)}
  ${t.nonEconomic.emotionalDistressJustification}
Reputational Harm: ${G(t.nonEconomic.reputationalHarm)}
  ${t.nonEconomic.reputationalHarmJustification}
Total Non-Economic: ${G(t.nonEconomic.total)}

PUNITIVE DAMAGES:
Eligible: ${t.punitive.eligible?"YES":"NO"}
${t.punitive.eligibilityRationale}
Amount: ${G(t.punitive.amount)}
Texas Cap: ${G(t.punitive.texasCap)}

SETTLEMENT RANGE:
Conservative: ${G(t.settlementRange.conservative)}
  ${t.settlementRange.conservativeRationale}
Moderate: ${G(t.settlementRange.moderate)}
  ${t.settlementRange.moderateRationale}
Aggressive: ${G(t.settlementRange.aggressive)}
  ${t.settlementRange.aggressiveRationale}

TOTAL DAMAGES: ${G(t.totalDamages)}`,U=new Blob([ne],{type:"text/plain"}),te=URL.createObjectURL(U),ce=document.createElement("a");ce.href=te,ce.download="damages-calculation.txt",ce.click()},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium",children:" Download Damages Report"})]})]})]})},cce=({onAnalyze:e,analysis:t,isAnalyzing:n})=>{const[r,i]=T.useState(""),[a,s]=T.useState(""),[u,c]=T.useState([]),[d,h]=T.useState({name:"",role:"",conduct:"",discipline:"",protectedClass:"",notes:""}),m=()=>{if(!d.name||!d.conduct||!d.discipline){alert("Please provide at least name, conduct, and discipline for the comparator.");return}const E={id:Date.now().toString(),name:d.name,role:d.role||"",conduct:d.conduct,discipline:d.discipline,protectedClass:d.protectedClass||"",notes:d.notes||""};c([...u,E]),h({name:"",role:"",conduct:"",discipline:"",protectedClass:"",notes:""})},g=E=>{c(u.filter(_=>_.id!==E))},x=()=>{if(!r||!a){alert("Please provide your alleged misconduct and the discipline you received.");return}if(u.length===0){alert("Please add at least one comparator employee.");return}e(r,a,u)},A=E=>E>=70?"text-red-600":E>=40?"text-yellow-600":"text-green-600";return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 text-white p-6 rounded-lg shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Comparator Evidence & Disparate Treatment"}),b.jsx("p",{className:"text-orange-100",children:"Document similarly situated employees who received different discipline to prove discriminatory treatment."})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Your Situation"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Alleged Misconduct"}),b.jsx("input",{type:"text",value:r,onChange:E=>i(E.target.value),placeholder:"e.g., Berating a direct report",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Discipline You Received"}),b.jsx("input",{type:"text",value:a,onChange:E=>s(E.target.value),placeholder:"e.g., Termination",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Add Comparator Employee"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Employee Name *"}),b.jsx("input",{type:"text",value:d.name||"",onChange:E=>h({...d,name:E.target.value}),placeholder:"e.g., John Smith",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role/Title"}),b.jsx("input",{type:"text",value:d.role||"",onChange:E=>h({...d,role:E.target.value}),placeholder:"e.g., Manager",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Their Conduct *"}),b.jsx("input",{type:"text",value:d.conduct||"",onChange:E=>h({...d,conduct:E.target.value}),placeholder:"e.g., Yelled at employee in meeting",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Discipline They Received *"}),b.jsx("input",{type:"text",value:d.discipline||"",onChange:E=>h({...d,discipline:E.target.value}),placeholder:"e.g., Written warning",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Protected Class"}),b.jsx("input",{type:"text",value:d.protectedClass||"",onChange:E=>h({...d,protectedClass:E.target.value}),placeholder:"e.g., White, male, non-disabled",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),b.jsx("input",{type:"text",value:d.notes||"",onChange:E=>h({...d,notes:E.target.value}),placeholder:"Additional context",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-orange-500 focus:border-orange-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]}),b.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-md font-medium",children:" Add Comparator"})]}),u.length>0&&b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[" Comparator Employees (",u.length,")"]}),b.jsx("div",{className:"space-y-3",children:u.map(E=>b.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-700",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[E.name," ",E.role&&`(${E.role})`]}),b.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:[b.jsx("strong",{children:"Conduct:"})," ",E.conduct]}),b.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[b.jsx("strong",{children:"Discipline:"})," ",E.discipline]}),E.protectedClass&&b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.jsx("strong",{children:"Protected Class:"})," ",E.protectedClass]}),E.notes&&b.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.jsx("strong",{children:"Notes:"})," ",E.notes]})]}),b.jsx("button",{onClick:()=>g(E.id),className:"ml-4 text-red-600 hover:text-red-800 font-bold",children:""})]})},E.id))}),b.jsx("button",{onClick:x,disabled:n,className:"mt-6 w-full px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white font-semibold rounded-lg shadow-md disabled:bg-orange-300 disabled:cursor-not-allowed transition",children:n?" Analyzing Disparate Treatment...":" Analyze Disparate Treatment"})]}),t&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Disparate Treatment Analysis"}),b.jsx("div",{className:"flex items-center justify-between mb-4",children:b.jsxs("div",{children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Disparate Treatment Score"}),b.jsxs("p",{className:`text-4xl font-bold ${A(t.disparateTreatmentScore)}`,children:[t.disparateTreatmentScore,"/100"]}),b.jsx("p",{className:`text-sm font-semibold ${A(t.disparateTreatmentScore)}`,children:t.disparateTreatmentScore>=70?"Strong Evidence":t.disparateTreatmentScore>=40?"Moderate Evidence":"Weak Evidence"})]})}),b.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:b.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.narrative})})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 overflow-x-auto",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:" Comparison Chart"}),b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[b.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white",children:"Employee"}),b.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white",children:"Conduct"}),b.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white",children:"Discipline"}),b.jsx("th",{className:"p-3 text-left text-gray-900 dark:text-white",children:"Protected Class"})]})}),b.jsx("tbody",{children:t.comparisonChart.map((E,_)=>b.jsxs("tr",{className:_%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700/50",children:[b.jsx("td",{className:"p-3 text-gray-900 dark:text-white font-medium",children:E.employee}),b.jsx("td",{className:"p-3 text-gray-700 dark:text-gray-300",children:E.conduct}),b.jsx("td",{className:"p-3 text-gray-700 dark:text-gray-300",children:E.discipline}),b.jsx("td",{className:"p-3 text-gray-700 dark:text-gray-300",children:E.protectedClass})]},_))})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Recommended Discovery Requests"}),b.jsx("div",{className:"space-y-2",children:t.discoveryRequests.map((E,_)=>b.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border-l-4 border-blue-500",children:b.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:E})},_))})]}),b.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-6 rounded-lg border border-orange-200 dark:border-orange-700",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Export Analysis"}),b.jsx("button",{onClick:()=>{const E=`COMPARATOR ANALYSIS REPORT

Your Situation:
Alleged Misconduct: ${t.allegedMisconduct}
Discipline Received: ${t.yourDiscipline}

Disparate Treatment Score: ${t.disparateTreatmentScore}/100

Narrative:
${t.narrative}

Comparison Chart:
${t.comparisonChart.map(D=>`${D.employee} | ${D.conduct} | ${D.discipline} | ${D.protectedClass}`).join(`
`)}

Discovery Requests:
${t.discoveryRequests.map((D,k)=>`${k+1}. ${D}`).join(`
`)}`,_=new Blob([E],{type:"text/plain"}),C=URL.createObjectURL(_),I=document.createElement("a");I.href=C,I.download="comparator-analysis.txt",I.click()},className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-md text-sm font-medium",children:" Download Report"})]})]})]})},lf=e=>({Happy:"",Sad:"",Angry:"",Anxious:"",Calm:"",Excited:"",Fearful:"",Surprised:"",Disgusted:"",Meditation:"",Journal:"",Exercise:"",Program:"",FeelingsCheckIn:"",Topic:"",Appreciation:"",Accomplishment:"",Boundary:"",Quote:"",Home:"",Logs:"",Settings:"",Timer:"",Streak:"",HabitComplete:"",ActivePrograms:"",Export:"",Add:"",Back:"",Complete:"",Warning:"",SelfHelp:"",Education:"",Support:"",News:"",Shop:"",Star:"",User:"",Todo:"",Edit:"",Brain:""})[e]||"",Pm=[{name:"Happy",emoji:"Happy",colorClass:"from-pe-yellow-300 to-pe-yellow-500",secondary:[{name:"Surprised",details:["Energetic","Eager","Aroused","Cheeky","Excited","Playful","Content","Curious","Interested","Inquisitive","Proud"]},{name:"Fearful",details:["Successful","Confident","Accepted","Respected","Powerful","Valued","Courageous","Creative","Peaceful","Trusting","Loving","Thankful","Optimistic","Hopeful","Inspired"]}]},{name:"Surprised",emoji:"Surprised",colorClass:"from-pe-purple-300 to-pe-purple-500",secondary:[{name:"Happy",details:["Energetic","Eager","Aroused","Cheeky","Excited","Playful","Free","Content","Joyful","Curious","Interested","Inquisitive","Proud","Indifferent","Rushed","Overwhelmed","Out of control","Pressured","Apathetic","Sleepy","Unfocussed"]},{name:"Fearful",details:["Shocked","Dismayed","Disillusioned","Perplexed","Astonished","Awe","Tired","Startled","Confused","Amazed","Bad","Helpless","Frightened","Worried","Inadequate","Inferior","Worthless","Insignificant","Excluded"]}]},{name:"Fearful",emoji:"Fearful",colorClass:"from-pe-blue-300 to-pe-blue-500",secondary:[{name:"Angry",details:["Persecuted","Rejected","Nervous","Threatened","Exposed","Let down","Betrayed","Resentful","Humiliated","Disrespected","Ridiculed","Indignant"]},{name:"Sad",details:["Violated","Furious","Jealous","Provoked","Hostile","Infuriated","Annoyed","Withdrawn","Numb","Skeptical","Dismissive","Judgmental","Embarrassed","Appalled","Revolted","Disgusted","Nauseated","Awful","Detestable","Horrified"]}]},{name:"Angry",emoji:"Angry",colorClass:"from-pe-red-400 to-pe-red-600",secondary:[{name:"Disgusted",details:["Persecuted","Rejected","Nervous","Threatened","Exposed","Let down","Betrayed","Resentful","Humiliated","Disrespected","Ridiculed","Indignant","Bitter","Mad","Aggressive","Frustrated","Distant","Critical","Disapproving"]},{name:"Sad",details:["Lonely","Vulnerable","Despair","Depressed","Sensitive","Intimate","Hopeful","Inspired","Isolated","Abandoned","Victimized","Fragile","Grief","Powerless","Ashamed","Repelled","Hurt","Guilty","Hesitant","Remorseful","Disappointed","Empty","Inferior","Embarrassed"]}]},{name:"Disgusted",emoji:"Disgusted",colorClass:"from-pe-lime-400 to-pe-green-600",secondary:[{name:"Sad",details:["Disgusted","Nauseated","Awful","Detestable","Horrified","Lonely","Vulnerable","Despair","Depressed","Sensitive","Intimate","Hopeful","Inspired","Isolated"]},{name:"Happy",details:["Content","Joyful","Curious","Interested","Inquisitive","Proud","Successful","Confident","Accepted","Respected","Powerful","Valued","Courageous","Creative","Peaceful","Trusting","Loving","Thankful","Optimistic"]}]},{name:"Sad",emoji:"Sad",colorClass:"from-pe-gray-400 to-pe-gray-600",secondary:[{name:"Fearful",details:["Lonely","Vulnerable","Despair","Depressed","Sensitive","Intimate","Hopeful","Inspired","Isolated","Abandoned","Victimized","Fragile","Grief","Powerless","Ashamed"]},{name:"Angry",details:["Bitter","Mad","Aggressive","Frustrated","Distant","Critical","Disapproving","Violated","Furious","Jealous","Provoked","Hostile","Infuriated","Annoyed","Withdrawn","Numb","Skeptical","Dismissive","Judgmental","Embarrassed","Appalled","Revolted"]}]}],dce=(e,t)=>{const n=Pm.find(r=>r.name===e);if(n){const r=n.secondary.find(i=>i.name===t);if(r)return r.details}return[]},fce=e=>{const t=Pm.find(n=>n.name===e);return t?t.secondary:[]},hce=e=>{const t=Pm.find(n=>n.name===e);return t?t.colorClass:"bg-gradient-to-br from-charcoal-700 to-charcoal-800"},mce=({isOpen:e,onClose:t,onSave:n})=>{const[r,i]=T.useState(1),[a,s]=T.useState(null),[u,c]=T.useState(null),[d,h]=T.useState(null),[m,g]=T.useState(null),[x,A]=T.useState(0),[E,_]=T.useState(""),C=T.useRef(null),I=T.useRef(null);T.useEffect(()=>(e?(i(1),s(null),c(null),h(null),g(null),A(0),_(""),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),T.useEffect(()=>{if(!e)return;const B=$=>{if($.key==="Tab"&&I.current){const W=I.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),Y=W[0],K=W[W.length-1];$.shiftKey?document.activeElement===Y&&(K?.focus(),$.preventDefault()):document.activeElement===K&&(Y?.focus(),$.preventDefault())}else $.key==="Escape"&&(r>1?M():t())};return document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[e,t,r,a]);const D=B=>{s(B),c(hce(B)),i(2)},k=B=>{h(B),i(3),setTimeout(()=>{I.current?.querySelector(".detailed-feeling-button")?.focus()},100)},P=B=>{g(B),i(4),setTimeout(()=>{const $=I.current?.querySelector(".mood-rating-button");$?$.focus():C.current?.focus()},100)},R=()=>{if(!m||!u||x===0){alert("Please complete all selections (Feeling, Rating).");return}n(m,u,x,E),t()},M=()=>{r===4?(A(0),_(""),i(3),setTimeout(()=>{I.current?.querySelector('button[aria-pressed="true"]')?.focus()},100)):r===3?(g(null),i(2),setTimeout(()=>{I.current?.querySelector('button[aria-pressed="true"]')?.focus()},100)):r===2?(h(null),s(null),c(null),i(1),setTimeout(()=>{I.current?.querySelector('button[aria-pressed="true"]')?.focus()},100)):r===1&&t()};if(!e)return null;const z=u||"bg-gradient-to-br from-charcoal-700 to-charcoal-800";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-[1000] p-5 flex items-center justify-center overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"mood-log-title",children:b.jsxs("div",{ref:I,className:`bg-bg-card rounded-[20px] p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-modal animate-fadeIn transition-all duration-300 ${z}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-5 text-white",children:[b.jsxs("h3",{id:"mood-log-title",className:"text-xl font-bold",children:[lf("FeelingsCheckIn")," Log Your Mood (Step ",r,"/4)"]}),b.jsx("button",{className:"text-white text-3xl cursor-pointer p-0 w-8 h-8 bg-transparent border-none leading-none",onClick:t,"aria-label":"Close mood log modal",children:""})]}),r>1&&b.jsxs("button",{onClick:M,className:"mb-4 btn btn-secondary py-2 px-4 rounded-xl font-semibold text-sm flex items-center gap-1 bg-white bg-opacity-20 text-white hover:bg-opacity-30 transition-all duration-300","aria-label":"Go back to previous step",children:[lf("Back")," Back"]}),r===1&&b.jsxs("div",{className:"mb-6 text-left",children:[b.jsx("label",{className:"block mb-4 font-semibold text-base text-white",children:"1. Select a Primary Emotion:"}),b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3",children:Pm.map(B=>b.jsxs("button",{className:`py-4 px-3 bg-white bg-opacity-20 border-2 border-white border-opacity-30 rounded-xl text-white font-semibold cursor-pointer transition-all duration-300 text-center
                    ${a===B.name?"bg-opacity-40 ring-2 ring-white shadow-lg":"hover:bg-opacity-30"}`,onClick:()=>D(B.name),"aria-pressed":a===B.name,style:{backgroundColor:a===B.name?B.colorClass:void 0},title:B.name,children:[b.jsx("div",{className:"text-4xl mb-1",children:lf(B.emoji)}),B.name]},B.name))})]}),r===2&&a&&b.jsxs("div",{className:"mb-6 text-left",children:[b.jsx("label",{className:"block mb-4 font-semibold text-base text-white",children:"2. Narrow down (Secondary Emotion):"}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:fce(a).map(B=>b.jsx("button",{className:`py-4 px-3 bg-white bg-opacity-20 border-2 border-white border-opacity-30 rounded-xl text-white font-semibold cursor-pointer transition-all duration-300 text-center
                    ${d===B.name?"bg-opacity-40 ring-2 ring-white shadow-lg":"hover:bg-opacity-30"}`,onClick:()=>k(B.name),"aria-pressed":d===B.name,title:B.name,children:B.name},B.name))})]}),r===3&&a&&d&&b.jsxs("div",{className:"mb-6 text-left",children:[b.jsx("label",{className:"block mb-4 font-semibold text-base text-white",children:"3. Select a Detailed Feeling:"}),b.jsx("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-3",children:dce(a,d).map(B=>b.jsx("button",{className:`detailed-feeling-button py-3 px-2 bg-white bg-opacity-10 border-2 border-white border-opacity-20 rounded-xl text-white font-semibold text-sm cursor-pointer transition-all duration-300 text-center
                    ${m===B?"bg-opacity-30 ring-2 ring-white shadow-md":"hover:bg-opacity-20"}`,onClick:()=>P(B),"aria-pressed":m===B,title:B,children:B},B))})]}),r===4&&m&&u&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-6 text-left mt-6",children:[b.jsx("label",{className:"block mb-4 font-semibold text-base text-white",children:"4. Rate Your Mood:"}),b.jsx("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(B=>b.jsx("button",{onClick:()=>A(B),className:`mood-rating-button text-4xl transition-colors duration-200 
                      ${B<=x?"text-mood-3 transform scale-110":"text-charcoal-600 hover:text-mood-3"}`,"aria-label":`${B} star rating`,"aria-pressed":B===x,children:lf("Star")},B))})]}),b.jsxs("div",{className:"mb-6 text-left",children:[b.jsx("label",{htmlFor:"mood-comment",className:"block mb-2 font-semibold text-sm text-white",children:"Comment (optional)"}),b.jsx("textarea",{id:"mood-comment",ref:C,rows:4,className:"w-full p-3 bg-white bg-opacity-10 border-2 border-white border-opacity-20 rounded-xl text-white text-base font-sans focus:outline-none focus:border-white transition-all duration-300 placeholder-white placeholder-opacity-70",placeholder:"Add a quick note about why you feel this way...",value:E,onChange:B=>_(B.target.value),"aria-label":"Optional comments about your mood"})]}),b.jsx("button",{className:"btn btn-primary w-full justify-center py-3 px-6 rounded-xl font-semibold text-base flex items-center gap-2 bg-white text-primary-brand hover:bg-gray-100 transition-all duration-300 transform hover:scale-[1.01] active:scale-[0.99]",onClick:R,"aria-label":"Save Mood Log Entry",disabled:x===0,children:"Save Mood Log"})]})]})})},pce=e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=i=>n(i)}),gce=({profileData:e,onProfileChange:t})=>{const n=(a,s)=>{const u=e.evidence.map(c=>c.id===a?{...c,description:s}:c);t({...e,evidence:u})},r=async a=>{const s=a.target.files;if(!s)return;const u=[...e.evidence];for(const c of Array.from(s)){const d=await pce(c),h={name:c.name,type:c.type,content:d};u.push({id:`img-${Date.now()}-${Math.random()}`,file:h,description:""})}t({...e,evidence:u})},i=a=>{const s=e.evidence.filter(u=>u.id!==a);t({...e,evidence:s})};return b.jsx("div",{className:"space-y-6",children:b.jsxs("div",{children:[b.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Upload and describe images (e.g., awards, team photos):"}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:'Upload supporting images. The AI will use your descriptions and the content of your performance reviews to build a compelling "model employee" narrative.'}),b.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:r,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"}),b.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.evidence.map(a=>b.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[b.jsx("img",{src:a.file.content,alt:a.file.name,className:"w-full h-40 object-cover rounded-md mb-2"}),b.jsx("textarea",{value:a.description,onChange:s=>n(a.id,s.target.value),rows:2,placeholder:"Describe this image...",className:"w-full p-2 text-sm border border-gray-300 dark:border-gray-500 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700"}),b.jsx("button",{onClick:()=>i(a.id),className:"mt-2 text-xs text-red-600 dark:text-red-400 hover:underline",children:"Remove Image"})]},a.id))})]})})},yce=({onUpload:e})=>{const[t,n]=T.useState(!1),[r,i]=T.useState("other"),a=h=>{h.preventDefault(),n(!0)},s=()=>{n(!1)},u=h=>{const m=new FileReader;m.onload=g=>{const x=g.target?.result,A={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:h.name,type:h.type,content:x,category:r};e(A)},m.readAsDataURL(h)},c=h=>{h.preventDefault(),n(!1),h.dataTransfer.files&&h.dataTransfer.files.length>0&&Array.from(h.dataTransfer.files).forEach(u)},d=h=>{h.target.files&&h.target.files.length>0&&Array.from(h.target.files).forEach(u)};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Document Category:"}),b.jsxs("select",{value:r,onChange:h=>i(h.target.value),className:"p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[b.jsx("option",{value:"email",children:"Email / Correspondence"}),b.jsx("option",{value:"review",children:"Performance Review"}),b.jsx("option",{value:"policy",children:"Handbook / Policy"}),b.jsx("option",{value:"other",children:"Other Evidence"})]})]}),b.jsx("div",{onDragOver:a,onDragLeave:s,onDrop:c,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400"}`,children:b.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[b.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),b.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[b.jsxs("span",{className:"font-medium text-blue-600 hover:text-blue-500 cursor-pointer relative",children:["Upload a file",b.jsx("input",{type:"file",multiple:!0,onChange:d,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})," ","or drag and drop"]}),b.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"PDF, PNG, JPG, TXT up to 10MB"})]})})]})},vce=e=>{const t={},n=e.split(`
`);let r=null,i="",a=[],s="General";const u=()=>{if(r!==null){const h=a.join(`
`).trim(),m=h.match(/\*Evidence:(.*?)\*$/s)||h.match(/\*Evidence:(.*?)$/s);let g="",x=h;m&&(g=m[1].trim(),x=h.replace(m[0],"").trim()),t[r]={id:r,question:i,answer:x,evidence:g,section:s}}};for(const h of n){const m=h.match(/^## SECTION: (.*)/),g=h.match(/^### Question (\d+): (.*)/);m?s=m[1].trim():g?(u(),r=parseInt(g[1],10),i=g[2].trim(),a=[]):r!==null&&!h.trim().startsWith("---")&&!h.trim().startsWith("## SECTION")&&a.push(h)}u();const c=[t[1]?.answer,t[5]?.answer,t[150]?.answer].filter(Boolean).join(`

`),d=t[18]?.answer||"";return{questions:t,complaintText:d,characterProfileText:c,jobDescriptionText:t[151]?.answer||"",actualDutiesText:t[152]?.answer||""}};var mb=function(e,t){return mb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mb(e,t)};function Tj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ih=function(){return Ih=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ih.apply(this,arguments)};function gl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Cj(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function Nj(e,t){return function(n,r){t(n,r,e)}}function Dj(e,t,n,r,i,a){function s(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var u=r.kind,c=u==="getter"?"get":u==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),m,g=!1,x=n.length-1;x>=0;x--){var A={};for(var E in r)A[E]=E==="access"?{}:r[E];for(var E in r.access)A.access[E]=r.access[E];A.addInitializer=function(C){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(C||null))};var _=(0,n[x])(u==="accessor"?{get:h.get,set:h.set}:h[c],A);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(m=s(_.get))&&(h.get=m),(m=s(_.set))&&(h.set=m),(m=s(_.init))&&i.unshift(m)}else(m=s(_))&&(u==="field"?i.unshift(m):h[c]=m)}d&&Object.defineProperty(d,r.name,h),g=!0}function Ij(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function Pj(e){return typeof e=="symbol"?e:"".concat(e)}function kj(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Oj(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function we(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(h){try{d(r.next(h))}catch(m){s(m)}}function c(h){try{d(r.throw(h))}catch(m){s(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,c)}d((r=r.apply(e,t||[])).next())})}function Rj(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(d){return function(h){return c([d,h])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var km=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function Mj(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&km(t,e,n)}function Ph(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kw(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function Lj(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kw(arguments[t]));return e}function jj(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,i++)r[i]=a[s];return r}function Uj(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Qs(e){return this instanceof Qs?(this.v=e,this):new Qs(e)}function Bj(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(x){return function(A){return Promise.resolve(A).then(x,m)}}function u(x,A){r[x]&&(i[x]=function(E){return new Promise(function(_,C){a.push([x,E,_,C])>1||c(x,E)})},A&&(i[x]=A(i[x])))}function c(x,A){try{d(r[x](A))}catch(E){g(a[0][3],E)}}function d(x){x.value instanceof Qs?Promise.resolve(x.value.v).then(h,m):g(a[0][2],x)}function h(x){c("next",x)}function m(x){c("throw",x)}function g(x,A){x(A),a.shift(),a.length&&c(a[0][0],a[0][1])}}function qj(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:Qs(e[i](s)),done:!1}:a?a(s):s}:a}}function $j(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ph=="function"?Ph(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(u,c){s=e[a](s),i(u,c,s.done,s.value)})}}function i(a,s,u,c){Promise.resolve(c).then(function(d){a({value:d,done:u})},s)}}function Gj(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bce=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},pb=function(e){return pb=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},pb(e)};function zj(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=pb(e),r=0;r<n.length;r++)n[r]!=="default"&&km(t,e,n[r]);return bce(t,e),t}function Hj(e){return e&&e.__esModule?e:{default:e}}function Fj(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Vj(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function Wj(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Yj(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var xce=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Kj(e){function t(a){e.error=e.hasError?new xce(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function Jj(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?t?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):e}const wce={__extends:Tj,__assign:Ih,__rest:gl,__decorate:Cj,__param:Nj,__esDecorate:Dj,__runInitializers:Ij,__propKey:Pj,__setFunctionName:kj,__metadata:Oj,__awaiter:we,__generator:Rj,__createBinding:km,__exportStar:Mj,__values:Ph,__read:kw,__spread:Lj,__spreadArrays:jj,__spreadArray:Uj,__await:Qs,__asyncGenerator:Bj,__asyncDelegator:qj,__asyncValues:$j,__makeTemplateObject:Gj,__importStar:zj,__importDefault:Hj,__classPrivateFieldGet:Fj,__classPrivateFieldSet:Vj,__classPrivateFieldIn:Wj,__addDisposableResource:Yj,__disposeResources:Kj,__rewriteRelativeImportExtension:Jj},Sce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Yj,get __assign(){return Ih},__asyncDelegator:qj,__asyncGenerator:Bj,__asyncValues:$j,__await:Qs,__awaiter:we,__classPrivateFieldGet:Fj,__classPrivateFieldIn:Wj,__classPrivateFieldSet:Vj,__createBinding:km,__decorate:Cj,__disposeResources:Kj,__esDecorate:Dj,__exportStar:Mj,__extends:Tj,__generator:Rj,__importDefault:Hj,__importStar:zj,__makeTemplateObject:Gj,__metadata:Oj,__param:Nj,__propKey:Pj,__read:kw,__rest:gl,__rewriteRelativeImportExtension:Jj,__runInitializers:Ij,__setFunctionName:kj,__spread:Lj,__spreadArray:Uj,__spreadArrays:jj,__values:Ph,default:wce},Symbol.toStringTag,{value:"Module"})),Ece=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ow extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Ace extends Ow{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cP extends Ow{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dP extends Ow{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gb||(gb={}));class _ce{constructor(t,{headers:n={},customFetch:r,region:i=gb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Ece(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return we(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:u,method:c,body:d,signal:h,timeout:m}=r;let g={},{region:x}=r;x||(x=this.region);const A=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,A.searchParams.set("forceFunctionRegion",x));let E;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(g["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(g["Content-Type"]="application/json",E=JSON.stringify(d)):E=d;let _=h;m&&(s=new AbortController,a=setTimeout(()=>s.abort(),m),h?(_=s.signal,h.addEventListener("abort",()=>s.abort())):_=s.signal);const C=yield this.fetch(A.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:_}).catch(P=>{throw new Ace(P)}),I=C.headers.get("x-relay-error");if(I&&I==="true")throw new cP(C);if(!C.ok)throw new dP(C);let D=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return D==="application/json"?k=yield C.json():D==="application/octet-stream"||D==="application/pdf"?k=yield C.blob():D==="text/event-stream"?k=C:D==="multipart/form-data"?k=yield C.formData():k=yield C.text(),{data:k,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof dP||u instanceof cP?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var Sn={};const yl=Rq(Sce);var uf={},cf={},df={},ff={},hf={},mf={},fP;function Xj(){if(fP)return mf;fP=1,Object.defineProperty(mf,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return mf.default=e,mf}var hP;function Qj(){if(hP)return hf;hP=1,Object.defineProperty(hf,"__esModule",{value:!0});const t=yl.__importDefault(Xj());class n{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let u=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,m,g;let x=null,A=null,E=null,_=c.status,C=c.statusText;if(c.ok){if(this.method!=="HEAD"){const P=await c.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?A=P:A=JSON.parse(P))}const D=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");D&&k&&k.length>1&&(E=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(x={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,E=null,_=406,C="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const D=await c.text();try{x=JSON.parse(D),Array.isArray(x)&&c.status===404&&(A=[],x=null,_=200,C="OK")}catch{c.status===404&&D===""?(_=204,C="No Content"):x={message:D}}if(x&&this.isMaybeSingle&&(!((g=x?.details)===null||g===void 0)&&g.includes("0 rows"))&&(x=null,_=200,C="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:A,count:E,status:_,statusText:C}});return this.shouldThrowOnError||(u=u.catch(c=>{var d,h,m,g,x,A;let E="";const _=c?.cause;if(_){const C=(d=_?.message)!==null&&d!==void 0?d:"",I=(h=_?.code)!==null&&h!==void 0?h:"";E=`${(m=c?.name)!==null&&m!==void 0?m:"FetchError"}: ${c?.message}`,E+=`

Caused by: ${(g=_?.name)!==null&&g!==void 0?g:"Error"}: ${C}`,I&&(E+=` (${I})`),_?.stack&&(E+=`
${_.stack}`)}else E=(x=c?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(A=c?.name)!==null&&A!==void 0?A:"FetchError"}: ${c?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,a)}returns(){return this}overrideTypes(){return this}}return hf.default=n,hf}var mP;function Zj(){if(mP)return ff;mP=1,Object.defineProperty(ff,"__esModule",{value:!0});const t=yl.__importDefault(Qj());class n extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:u,referencedTable:c=u}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:u=s}={}){const c=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:u=!1,wal:c=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,s?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ff.default=n,ff}var pP;function Rw(){if(pP)return df;pP=1,Object.defineProperty(df,"__esModule",{value:!0});const t=yl.__importDefault(Zj()),n=new RegExp("[,()]");class r extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const u=Array.from(new Set(s)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:u,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${d}fts${h}.${s}`),this}match(a){return Object.entries(a).forEach(([s,u])=>{this.url.searchParams.append(s,`eq.${u}`)}),this}not(a,s,u){return this.url.searchParams.append(a,`not.${s}.${u}`),this}or(a,{foreignTable:s,referencedTable:u=s}={}){const c=u?`${u}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,s,u){return this.url.searchParams.append(a,`${s}.${u}`),this}}return df.default=r,df}var gP;function eU(){if(gP)return cf;gP=1,Object.defineProperty(cf,"__esModule",{value:!0});const t=yl.__importDefault(Rw());class n{constructor(i,{headers:a={},schema:s,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=u}select(i,a){const{head:s=!1,count:u}=a??{},c=s?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var u;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:u,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var s;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return cf.default=n,cf}var yP;function Tce(){if(yP)return uf;yP=1,Object.defineProperty(uf,"__esModule",{value:!0});const e=yl,t=e.__importDefault(eU()),n=e.__importDefault(Rw());class r{constructor(a,{headers:s={},schema:u,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=u,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:u=!1,get:c=!1,count:d}={}){var h;let m;const g=new URL(`${this.url}/rpc/${a}`);let x;u||c?(m=u?"HEAD":"GET",Object.entries(s).filter(([E,_])=>_!==void 0).map(([E,_])=>[E,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([E,_])=>{g.searchParams.append(E,_)})):(m="POST",x=s);const A=new Headers(this.headers);return d&&A.set("Prefer",`count=${d}`),new n.default({method:m,url:g,headers:A,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return uf.default=r,uf}var vP;function Cce(){if(vP)return Sn;vP=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const e=yl,t=e.__importDefault(Tce());Sn.PostgrestClient=t.default;const n=e.__importDefault(eU());Sn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(Rw());Sn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(Zj());Sn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(Qj());Sn.PostgrestBuilder=a.default;const s=e.__importDefault(Xj());return Sn.PostgrestError=s.default,Sn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Sn}var tU=Cce();const nU=Or(tU),Nce=qP({__proto__:null,default:nU},[tU]),{PostgrestClient:Dce,PostgrestQueryBuilder:Dhe,PostgrestFilterBuilder:Ihe,PostgrestTransformBuilder:Phe,PostgrestBuilder:khe,PostgrestError:Ohe}=nU||Nce;class Ice{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Pce="2.86.0",kce=`realtime-js/${Pce}`,rU="1.0.0",Oce="2.0.0",bP=rU,yb=1e4,Rce=1e3,Mce=100;var go;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(go||(go={}));var Wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wt||(Wt={}));var $r;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($r||($r={}));var vb;(function(e){e.websocket="websocket"})(vb||(vb={}));var yo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yo||(yo={}));class Lce{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,a;const s=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+s.length+d.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let A=new DataView(x),E=0;A.setUint8(E++,this.KINDS.userBroadcastPush),A.setUint8(E++,c.length),A.setUint8(E++,u.length),A.setUint8(E++,s.length),A.setUint8(E++,d.length),A.setUint8(E++,m.length),A.setUint8(E++,n),Array.from(c,C=>A.setUint8(E++,C.charCodeAt(0))),Array.from(u,C=>A.setUint8(E++,C.charCodeAt(0))),Array.from(s,C=>A.setUint8(E++,C.charCodeAt(0))),Array.from(d,C=>A.setUint8(E++,C.charCodeAt(0))),Array.from(m,C=>A.setUint8(E++,C.charCodeAt(0)));var _=new Uint8Array(x.byteLength+r.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(r),x.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,s,u,c]=r;return n({join_ref:i,ref:a,topic:s,event:u,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const m=r.decode(t.slice(c,c+s));c=c+s;const g=t.slice(c,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,A={type:this.BROADCAST_EVENT,event:h,payload:x};return s>0&&(A.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class iU{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const xP=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=jce(s,e,t,i),a),{}):{}},jce=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i?.type,s=n[e];return a&&!r.includes(a)?aU(a,s):bb(s)},aU=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $ce(t,n)}switch(e){case ft.bool:return Uce(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return Bce(t);case ft.json:case ft.jsonb:return qce(t);case ft.timestamp:return Gce(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return bb(t);default:return bb(t)}},bb=e=>e,Uce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$ce=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(u=>aU(t,u))}return e},Gce=e=>typeof e=="string"?e.replace(" ","T"):e,oU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vv{constructor(t,n,r={},i=yb){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wP||(wP={}));class Pu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pu.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Pu.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pu.syncDiff(this.state,i,a,s),u())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),u={},c={};return this.map(a,(d,h)=>{s[d]||(c[d]=h)}),this.map(s,(d,h)=>{const m=a[d];if(m){const g=h.map(_=>_.presence_ref),x=m.map(_=>_.presence_ref),A=h.filter(_=>x.indexOf(_.presence_ref)<0),E=m.filter(_=>g.indexOf(_.presence_ref)<0);A.length>0&&(u[d]=A),E.length>0&&(c[d]=E)}else u[d]=h}),this.syncDiff(a,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,c)=>{var d;const h=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(c),h.length>0){const m=t[u].map(x=>x.presence_ref),g=h.filter(x=>m.indexOf(x.presence_ref)<0);t[u].unshift(...g)}r(u,h,c)}),this.map(s,(u,c)=>{let d=t[u];if(!d)return;const h=c.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=d,i(u,d,c),d.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var SP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(SP||(SP={}));var ku;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ku||(ku={}));var Ii;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ii||(Ii={}));class Mw{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vv(this,$r.join,this.params,this.timeout),this.rejoinTimer=new iU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on($r.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new Pu(this),this.broadcastEndpointURL=oU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:s,presence:u,private:c}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[ku.PRESENCE]&&this.bindings[ku.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Ii.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Ii.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var A;if(this.socket.setAuth(),x===void 0){t?.(Ii.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,_=(A=E?.length)!==null&&A!==void 0?A:0,C=[];for(let I=0;I<_;I++){const D=E[I],{filter:{event:k,schema:P,table:R,filter:M}}=D,z=x&&x[I];if(z&&z.event===k&&z.schema===P&&z.table===R&&z.filter===M)C.push(Object.assign(Object.assign({},D),{id:z.id}));else{this.unsubscribe(),this.state=Wt.errored,t?.(Ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Ii.SUBSCRIBED);return}}).receive("error",x=>{this.state=Wt.errored,t?.(Ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Wt.joined&&t===ku.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const d=await u.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,u,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($r.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Vv(this,$r.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mce){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:u,error:c,leave:d,join:h}=$r;if(r&&[u,c,d,h].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var A,E,_;return((A=x.filter)===null||A===void 0?void 0:A.event)==="*"||((_=(E=x.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(x=>x.callback(g,r)):(a=this.bindings[s])===null||a===void 0||a.filter(x=>{var A,E,_,C,I,D;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in x){const k=x.id,P=(A=x.filter)===null||A===void 0?void 0:A.event;return k&&((E=n.ids)===null||E===void 0?void 0:E.includes(k))&&(P==="*"||P?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(I=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return k==="*"||k===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===s}).map(x=>{if(typeof g=="object"&&"ids"in g){const A=g.data,{schema:E,table:_,commit_timestamp:C,type:I,errors:D}=A;g=Object.assign(Object.assign({},{schema:E,table:_,commit_timestamp:C,eventType:I,new:{},old:{},errors:D}),this._getPayloadRecords(A))}x.callback(g,r)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Mw.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($r.close,{},t)}_onError(t){this._on($r.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xP(t.columns,t.old_record)),n}}const Wv=()=>{},pf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zce=[1e3,2e3,5e3,1e4],Hce=1e4,Fce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vce{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yb,this.transport=null,this.heartbeatIntervalMs=pf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wv,this.ref=0,this.reconnectTimer=null,this.vsn=bP,this.logger=Wv,this.conn=null,this.sendBuffer=[],this.serializer=new Lce,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${vb.websocket}`,this.httpEndpoint=oU(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ice.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case go.connecting:return yo.Connecting;case go.open:return yo.Open;case go.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Mw(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Rce,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},pf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,u=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===go.open||this.conn.readyState===go.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger($r.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Fce],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:kce};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push($r.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,u,c,d,h,m,g,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:yb,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:pf.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Wv,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:bP,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(A=>zce[A-1]||Hce),this.vsn){case rU:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((A,E)=>E(JSON.stringify(A))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:((A,E)=>E(JSON.parse(A)));break;case Oce:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Om extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Wce extends Om{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xb extends Om{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const Lw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yce=()=>Response,wb=e=>{if(Array.isArray(e))return e.map(n=>wb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=wb(r)}),t},Kce=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Jce=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Yv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Xce=(e,t,n)=>we(void 0,void 0,void 0,function*(){const r=yield Yce();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,s=i?.statusCode||a+"";t(new Wce(Yv(i),a,s))}).catch(i=>{t(new xb(Yv(i),i))}):t(new xb(Yv(e),e))}),Qce=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(Kce(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Tc(e,t,n,r,i,a){return we(this,void 0,void 0,function*(){return new Promise((s,u)=>{e(n,Qce(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Xce(c,u,r))})})}function ec(e,t,n,r){return we(this,void 0,void 0,function*(){return Tc(e,"GET",t,n,r)})}function qr(e,t,n,r,i){return we(this,void 0,void 0,function*(){return Tc(e,"POST",t,r,i,n)})}function Sb(e,t,n,r,i){return we(this,void 0,void 0,function*(){return Tc(e,"PUT",t,r,i,n)})}function Zce(e,t,n,r){return we(this,void 0,void 0,function*(){return Tc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function jw(e,t,n,r,i){return we(this,void 0,void 0,function*(){return Tc(e,"DELETE",t,r,i,n)})}class ede{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return we(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}}var sU;class tde{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[sU]="BlobDownloadBuilder",this.promise=null}asStream(){return new ede(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return we(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tt(t))return{data:null,error:t};throw t}})}}sU=Symbol.toStringTag;const nde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},EP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rde{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Lw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return we(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},EP),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=r,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(u=Object.assign(Object.assign({},u),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=yield(t=="PUT"?Sb:qr)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:u},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return we(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:EP.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield Sb(this.fetch,u.toString(),c,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Tt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield qr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),u=s.searchParams.get("token");if(!u)throw new Om("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}update(t,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return we(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield qr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return we(this,void 0,void 0,function*(){try{const i=yield qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),s=a?`?${a}`:"",u=this._getFinalPath(t),c=()=>ec(this.fetch,`${this.url}/${i}/${u}${s}`,{headers:this.headers,noResolveJson:!0});return new tde(c,this.shouldThrowOnError)}info(t){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ec(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wb(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}exists(t){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Zce(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r)&&r instanceof xb){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const u=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield jw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}list(t,n,r){return we(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},nde),n),{prefix:t||""});return{data:yield qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}listV2(t,n){return we(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield qr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const lU="2.86.0",uU={"X-Client-Info":`storage-js/${lU}`};class ide{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uU),n),this.fetch=Lw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return we(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ec(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}getBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}createBucket(t){return we(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return we(this,void 0,void 0,function*(){try{return{data:yield Sb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield jw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var tc=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ade(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function ode(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sde(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const u=ade(e.baseUrl,r,i),c=await ode(e.auth),d=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),g=m&&h?JSON.parse(h):h;if(!d.ok){const x=m?g:void 0,A=x?.error;throw new tc(A?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:A?.type,icebergCode:A?.code,details:x})}return{status:d.status,headers:d.headers,data:g}}}}function gf(e){return e.join("")}var lde=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:gf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gf(e.namespace)}`}),!0}catch(t){if(t instanceof tc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof tc&&n.status===409)return;throw n}}};function _s(e){return e.join("")}var ude=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof tc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof tc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},cde=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sde({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new lde(this.client,t),this.tableOps=new ude(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class dde{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uU),n),this.fetch=Lw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listBuckets(t){return we(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ec(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield jw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}from(t){if(!Jce(t))throw new Om("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new cde({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>we(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Uw={"X-Client-Info":`storage-js/${lU}`,"Content-Type":"application/json"};class cU extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function rr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Kv extends cU{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fde extends cU{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var AP;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(AP||(AP={}));const Bw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hde=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_P=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mde=(e,t,n)=>we(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const u=s?.statusCode||s?.code||i+"";t(new Kv(_P(s),i,u))}).catch(()=>{const s=i+"",u=a.statusText||`HTTP ${i} error`;t(new Kv(u,i,s))});else{const s=i+"",u=a.statusText||`HTTP ${i} error`;t(new Kv(u,i,s))}}else t(new fde(_P(e),e))}),pde=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(hde(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function gde(e,t,n,r,i,a){return we(this,void 0,void 0,function*(){return new Promise((s,u)=>{e(n,pde(t,r,i,a)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>mde(c,u,r))})})}function ir(e,t,n,r,i){return we(this,void 0,void 0,function*(){return gde(e,"POST",t,r,i,n)})}class yde{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uw),n),this.fetch=Bw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}getIndex(t,n){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}listIndexes(t){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rr(r))return{data:null,error:r};throw r}})}}class vde{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uw),n),this.fetch=Bw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return we(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}getVectors(t){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}listVectors(t){return we(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ir(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}queryVectors(t){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteVectors(t){return we(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ir(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class bde{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uw),n),this.fetch=Bw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}getBucket(t){return we(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}listBuckets(){return we(this,arguments,void 0,function*(t={}){try{return{data:yield ir(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return we(this,void 0,void 0,function*(){try{return{data:(yield ir(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rr(n))return{data:null,error:n};throw n}})}}class xde extends bde{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new wde(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return we(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return we(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return we(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return we(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class wde extends yde{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return we(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return we(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return we(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return we(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Sde(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Sde extends vde{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return we(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return we(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return we(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return we(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return we(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ede extends ide{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new rde(this.url,this.headers,t,this.fetch)}get vectors(){return new xde(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dde(this.url+"/iceberg",this.headers,this.fetch)}}const Ade="2.86.0";let Tu="";typeof Deno<"u"?Tu="deno":typeof document<"u"?Tu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tu="react-native":Tu="node";const _de={"X-Client-Info":`supabase-js-${Tu}/${Ade}`},Tde={headers:_de},Cde={schema:"public"},Nde={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dde={},Ide=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pde=()=>Headers,kde=(e,t,n)=>{const r=Ide(n),i=Pde();return async(a,s)=>{var u;const c=(u=await t())!==null&&u!==void 0?u:e;let d=new i(s?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},s),{headers:d}))}};function Ode(e){return e.endsWith("/")?e:e+"/"}function Rde(e,t){var n,r;const{db:i,auth:a,realtime:s,global:u}=e,{db:c,auth:d,realtime:h,global:m}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},h),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Mde(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ode(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dU="2.86.0",Ps=30*1e3,Eb=3,Jv=Eb*Ps,Lde="http://localhost:9999",jde="supabase.auth.token",Ude={"X-Client-Info":`gotrue-js/${dU}`},Ab="X-Supabase-Api-Version",fU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bde=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qde=600*1e3;class nc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $de extends nc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gde(e){return _e(e)&&e.name==="AuthApiError"}class vo extends nc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ga extends nc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class er extends Ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zde(e){return _e(e)&&e.name==="AuthSessionMissingError"}class Ts extends Ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yf extends Ga{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vf extends Ga{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hde(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class TP extends Ga{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _b extends Ga{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xv(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class CP extends Ga{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Tb extends Ga{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),NP=` 	
\r=`.split(""),Fde=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<NP.length;t+=1)e[NP[t].charCodeAt(0)]=-2;for(let t=0;t<kh.length;t+=1)e[kh[t].charCodeAt(0)]=t;return e})();function DP(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(kh[r]),t.queuedBits-=6}}function hU(e,t,n){const r=Fde[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function IP(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Yde(s,r,n)};for(let s=0;s<e.length;s+=1)hU(e.charCodeAt(s),i,a);return t.join("")}function Vde(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wde(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Vde(r,t)}}function Yde(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function $s(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)hU(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Kde(e){const t=[];return Wde(e,n=>t.push(n)),new Uint8Array(t)}function So(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>DP(i,n,r)),DP(null,n,r),t.join("")}function Jde(e){return Math.round(Date.now()/1e3)+e}function Xde(){return Symbol("auth-callback")}const yn=()=>typeof window<"u"&&typeof document<"u",lo={tested:!1,writable:!1},mU=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lo.tested)return lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lo.tested=!0,lo.writable=!0}catch{lo.tested=!0,lo.writable=!1}return lo.writable};function Qde(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const pU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zde=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ks=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},uo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Aa=async(e,t)=>{await e.removeItem(t)};class Rm{constructor(){this.promise=new Rm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Rm.promiseConstructor=Promise;function Qv(e){const t=e.split(".");if(t.length!==3)throw new Tb("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Bde.test(t[r]))throw new Tb("JWT not in base64url format");return{header:JSON.parse(IP(t[0])),payload:JSON.parse(IP(t[1])),signature:$s(t[2]),raw:{header:t[0],payload:t[1]}}}async function efe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tfe(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function nfe(e){return("0"+e.toString(16)).substr(-2)}function rfe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,nfe).join("")}async function ife(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function afe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ife(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(e,t,n=!1){const r=rfe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ks(e,`${t}-code-verifier`,i);const a=await afe(r);return[a,r===a?"plain":"s256"]}const ofe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sfe(e){const t=e.headers.get(Ab);if(!t||!t.match(ofe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lfe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ufe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cfe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ns(e){if(!cfe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dfe(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function PP(e){return JSON.parse(JSON.stringify(e))}const po=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ffe=[502,503,504];async function kP(e){var t;if(!Zde(e))throw new _b(po(e),0);if(ffe.includes(e.status))throw new _b(po(e),e.status);let n;try{n=await e.json()}catch(a){throw new vo(po(a),a)}let r;const i=sfe(e);if(i&&i.getTime()>=fU["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new CP(po(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new er}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new CP(po(n),e.status,n.weak_password.reasons);throw new $de(po(n),e.status||500,r)}const hfe=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Oe(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[Ab]||(a[Ab]=fU["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await mfe(e,t,n+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function mfe(e,t,n,r,i,a){const s=hfe(t,r,i,a);let u;try{u=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new _b(po(c),0)}if(u.ok||await kP(u),r?.noResolveJson)return u;try{return await u.json()}catch(c){await kP(c)}}function Br(e){var t;let n=null;yfe(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Jde(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function OP(e){const t=Br(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Na(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pfe(e){return{data:e,error:null}}function gfe(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=gl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function RP(e){return e}function yfe(e){return e.access_token&&e.refresh_token&&e.expires_in}const e0=["global","local","others"];class vfe{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pU(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=e0[0]){if(e0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${e0.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Na})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=gl(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gfe,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Na})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,u,c;try{const d={nextPage:null,lastPage:0,total:0},h=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RP});if(h.error)throw h.error;const m=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(A.split(";")[1].split("=")[1]);d[`${_}Page`]=E}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(_e(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ns(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Na})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ns(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Na})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ns(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Na})}catch(r){if(_e(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ns(t.userId);try{const{data:n,error:r}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ns(t.userId),Ns(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,u,c;try{const d={nextPage:null,lastPage:0,total:0},h=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:RP});if(h.error)throw h.error;const m=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(A.split(";")[1].split("=")[1]);d[`${_}Page`]=E}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(_e(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_e(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function MP(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ds={debug:!!(globalThis&&mU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bfe extends gU{}async function xfe(e,t,n){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bfe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ds.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function wfe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yU(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Sfe(e){return parseInt(e,16)}function Efe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Afe(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:u,requestId:c,resources:d,scheme:h,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=yU(e.address),A=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",_=`${A} wants you to sign in with your Ethereum account:
${x}

${E}`;let C=`URI: ${m}
Version: ${g}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),c&&(C+=`
Request ID: ${c}`),d){let I=`
Resources:`;for(const D of d){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);I+=`
- ${D}`}C+=I}return`${_}
${C}`}class Gt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Oh extends Gt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function _fe({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Gt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Gt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Gt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Gt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(vU(s)){if(a.rp.id!==s)return new Gt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Gt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Tfe({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(vU(r)){if(n.rpId!==r)return new Gt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Cfe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Nfe=new Cfe;function Dfe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=gl(e,["challenge","user","excludeCredentials"]),a=$s(t).buffer,s=Object.assign(Object.assign({},n),{id:$s(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:$s(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function Ife(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=gl(e,["challenge","allowCredentials"]),i=$s(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},u),{id:$s(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Pfe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:So(new Uint8Array(e.response.attestationObject)),clientDataJSON:So(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kfe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:So(new Uint8Array(i.authenticatorData)),clientDataJSON:So(new Uint8Array(i.clientDataJSON)),signature:So(new Uint8Array(i.signature)),userHandle:i.userHandle?So(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vU(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function LP(){var e,t;return!!(yn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ofe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Oh("Browser returned unexpected credential type",t)}:{data:null,error:new Oh("Empty credential response",t)}}catch(t){return{data:null,error:_fe({error:t,options:e})}}}async function Rfe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Oh("Browser returned unexpected credential type",t)}:{data:null,error:new Oh("Empty credential response",t)}}catch(t){return{data:null,error:Tfe({error:t,options:e})}}}const Mfe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Lfe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const u=r[a];t(u)?r[a]=Rh(u,s):r[a]=Rh(s)}else r[a]=s}return r}function jfe(e,t){return Rh(Mfe,e,t||{})}function Ufe(e,t){return Rh(Lfe,e,t||{})}class Bfe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:u};const c=i??Nfe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=jfe(s.webauthn.credential_options.publicKey,a?.create),{data:h,error:m}=await Ofe({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=Ufe(s.webauthn.credential_options.publicKey,a?.request),{data:h,error:m}=await Rfe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(s){return _e(s)?{data:null,error:s}:{data:null,error:new vo("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn authentication")};try{if(!LP())return{data:null,error:new vo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:u};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return _e(s)?{data:null,error:s}:{data:null,error:new vo("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn registration")};try{if(!LP())return{data:null,error:new vo("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:u};const{data:c,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(s){return _e(s)?{data:null,error:s}:{data:null,error:new vo("Unexpected error in register",s)}}}}wfe();const qfe={url:Lde,storageKey:jde,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ude,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jP(e,t,n){return await n()}const Is={};class rc{get jwks(){var t,n;return(n=(t=Is[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Is[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},qfe),t);if(this.storageKey=a.storageKey,this.instanceID=(n=rc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&yn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new vfe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=pU(a.fetch),this.lock=a.lock||jP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:yn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=xfe:this.lock=jP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Bfe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:mU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=MP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=MP(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dU}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yn()&&(n=Qde(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Hde(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?this._returnResult({error:n}):this._returnResult({error:new vo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Br}),{data:s,error:u}=a;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:m,options:g}=t;let x=null,A=null;this.flowType==="pkce"&&([x,A]=await Cs(this.storage,this.storageKey)),a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:h,password:m,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:x,code_challenge_method:A},xform:Br})}else if("phone"in t){const{phone:h,password:m,options:g}=t;a=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Br})}else throw new yf("You must provide either an email or phone number and a password");const{data:s,error:u}=a;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:u}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:OP})}else if("phone"in t){const{phone:a,password:s,options:u}=t;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:OP})}else throw new yf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ts;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,u,c,d,h,m,g;let x,A;if("message"in t)x=t.message,A=t.signature;else{const{chain:E,wallet:_,statement:C,options:I}=t;let D;if(yn())if(typeof _=="object")D=_;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")D=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=_}const k=new URL((n=I?.url)!==null&&n!==void 0?n:window.location.href),P=await D.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=yU(P[0]);let M=(r=I?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const B=await D.request({method:"eth_chainId"});M=Sfe(B)}const z={domain:k.host,address:R,statement:C,uri:k.href,version:"1",chainId:M,nonce:(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=I?.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=Afe(z),A=await D.request({method:"personal_sign",params:[Efe(x),R]})}try{const{data:E,error:_}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:A},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Br});if(_)throw _;if(!E||!E.session||!E.user){const C=new Ts;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:_})}catch(E){if(_e(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,a,s,u,c,d,h,m,g,x;let A,E;if("message"in t)A=t.message,E=t.signature;else{const{chain:_,wallet:C,statement:I,options:D}=t;let k;if(yn())if(typeof C=="object")k=C;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))k=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const P=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const R=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),I?{statement:I}:null));let M;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")M=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)M=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)A=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${P.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=D?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=D?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((s=D?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((m=(h=D?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...D.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const R=await k.signMessage(new TextEncoder().encode(A),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=R}}try{const{data:_,error:C}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:So(E)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Br});if(C)throw C;if(!_||!_.session||!_.user){const I=new Ts;return this._returnResult({data:{user:null,session:null},error:I})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(_e(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Br});if(await Aa(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const u=new Ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(_e(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,u=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Br}),{data:c,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new Ts;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:u,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Cs(this.storage,this.storageKey));const{error:m}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:c}=t,{data:d,error:h}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new yf("You must provide either an email or phone number.")}catch(u){if(_e(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Br});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,d=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,s;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Cs(this.storage,this.storageKey));const d=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:pfe});return!((a=d.data)===null||a===void 0)&&a.url&&yn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(_e(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new er;const{error:i}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:u}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:u})}throw new yf("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Jv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await uo(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=Zv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=dfe(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Na}):await this._useSession(async n=>{var r,i,a;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Na})})}catch(n){if(_e(n))return zde(n)&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new er;const s=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await Cs(this.storage,this.storageKey));const{data:d,error:h}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Na});if(h)throw h;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(_e(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new er;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Qv(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:u}=n;if(u)throw u;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new er;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yn())throw new vf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new TP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new TP("No code detected.");const{data:I,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:u,expires_at:c,token_type:d}=t;if(!a||!u||!s||!d)throw new vf("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let g=h+m;c&&(g=parseInt(c));const x=g-h;x*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const A=g-m;h-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,g,h):h-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,g,h);const{data:E,error:_}=await this._getUser(a);if(_)throw _;const C={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:g,refresh_token:s,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(_e(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,t);if(u&&!(Gde(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Xde(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Cs(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(_e(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,u,c,d,h;const{data:m,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return yn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(_e(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:u,token:c,access_token:d,nonce:h}=t,m=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Br}),{data:g,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Ts}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(i){if(_e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tfe(async i=>(i>0&&await efe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Br})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Xv(a)&&Date.now()+s-r<Ps})}catch(r){if(this._debug(n,"error",r),_e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await uo(this.storage,this.storageKey);if(i&&this.userStorage){let s=await uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await ks(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:Zv()}else if(i&&!i.user&&!i.user){const s=await uo(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Aa(this.storage,this.storageKey+"-user"),await ks(this.storage,this.storageKey,i)):i.user=Zv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Jv;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Jv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Xv(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rm;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new er;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),_e(a)){const s={data:null,error:a};return Xv(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ks(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=PP(i);await ks(this.storage,this.storageKey,a)}else{const i=PP(n);await ks(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Aa(this.storage,this.storageKey),await Aa(this.storage,this.storageKey+"-code-verifier"),await Aa(this.storage,this.storageKey+"-user"),this.userStorage&&await Aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ps}ms, refresh threshold is ${Eb} ticks`),i<=Eb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Cs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Pfe(t.webauthn.credential_response):kfe(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:u}=s;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Dfe(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Ife(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Qv(r.access_token);let s=null;a.aal&&(s=a.aal);let u=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:s,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new er})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new er});const s=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&yn()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new er});const s=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&yn()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new er})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new er})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+qde>i)return r;const{data:a,error:s}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:A}=await this.getSession();if(A||!x.session)return this._returnResult({data:null,error:A});r=x.session.access_token}const{header:i,payload:a,signature:s,raw:{header:u,payload:c}}=Qv(r);n?.allowExpired||lfe(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:s},error:null}}const h=ufe(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,s,Kde(`${u}.${c}`)))throw new Tb("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(_e(r))return this._returnResult({data:null,error:r});throw r}}}rc.nextInstanceID={};const $fe=rc;class Gfe extends $fe{constructor(t){super(t)}}class zfe{constructor(t,n,r){var i,a,s;this.supabaseUrl=t,this.supabaseKey=n;const u=Mde(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Cde,realtime:Dde,auth:Object.assign(Object.assign({},Nde),{storageKey:c}),global:Tde},h=Rde(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=kde(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Dce(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Ede(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new _ce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:s,flowType:u,lock:c,debug:d,throwOnError:h},m,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gfe({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:u,lock:c,debug:d,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Vce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hfe=(e,t,n)=>new zfe(e,t,n);function Ffe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ffe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vfe=void 0,Wfe=void 0;throw new Error("Missing Supabase environment variables. Please check your .env file and ensure NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY are set.");const Fi=Hfe(Vfe,Wfe),Yfe=async e=>{const{data:{user:t}}=await Fi.auth.getUser();if(!t)return console.warn("No user logged in, cannot save to Supabase."),{error:"User not logged in"};const{error:n}=await Fi.from("cases").upsert({user_id:t.id,updated_at:new Date().toISOString(),content:e},{onConflict:"user_id"}).select();return{error:n}},Kfe=async()=>{const{data:{user:e}}=await Fi.auth.getUser();if(!e)return{data:null,error:"User not logged in"};const{data:t,error:n}=await Fi.from("cases").select("content").eq("user_id",e.id).single();return n?{data:null,error:n}:{data:t?.content,error:null}},bU=T.createContext(null),xU=()=>{const e=T.useContext(bU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Jfe=({children:e})=>{const[t,n]=T.useState(null),[r,i]=T.useState(!1),[a,s]=T.useState(!0);T.useEffect(()=>{Fi.auth.getSession().then(({data:{session:d}})=>{d?.user&&n({id:d.user.id,email:d.user.email||"",name:d.user.user_metadata?.full_name||d.user.email||"User"}),s(!1)});const{data:{subscription:c}}=Fi.auth.onAuthStateChange((d,h)=>{h?.user?n({id:h.user.id,email:h.user.email||"",name:h.user.user_metadata?.full_name||h.user.email||"User"}):n(null),s(!1)});return()=>c.unsubscribe()},[]);const u=T.useMemo(()=>({user:t,setUser:n,showLogin:r,setShowLogin:i,loading:a}),[t,r,a]);return b.jsx(bU.Provider,{value:u,children:e})},Xfe={documents:{caseNarrative:"/assets/documents/Case_Narrative.odt",midYearReview:"/assets/documents/Shipman_2024_Mid_Year.txt",reviews2021_2023:"/assets/documents/Reviews_2021_2023.docx",merit2021:"/assets/documents/Merit_2021.xlsx",orgChartAug2024:"/assets/documents/Org_Chart_Aug2024.xls",orgChartSep2024:"/assets/documents/Org_Chart_Sep2024.xls",historicalPptx:"/assets/documents/Shipman_Historical.pptx",superbillJan2025:"/assets/documents/Superbill_Jan2025.pdf",completeQuestionsAnswers:"/assets/documents/Complete-160-Questions-Answers.md"}},Qfe=JSON.parse(`[{"id":1,"section":"DISABILITY & ADA COMPLIANCE","question":"Describe how autism affects your ability to work","answer":"Autism impacts my ability to work in several significant ways documented by my medical provider:\\n\\n**Sensory Processing**: High-stimulus office environments with loud noises, fluorescent lighting, and constant activity cause sensory overload, leading to cognitive fatigue and difficulty concentrating. Open-plan office layouts amplify these challenges.\\n\\n**Executive Functioning**: Task-switching and managing multiple competing priorities simultaneously is more challenging. I perform best with clear, written instructions and structured workflows rather than rapid verbal directions or ambiguous feedback.\\n\\n**Communication & Social Processing**: While I communicate effectively in writing and prepared settings, spontaneous verbal interactions, especially in large groups or under stress, can be overwhelming. This can lead to misunderstandings about my communication style or intensity.\\n\\n**Anxiety & Overwhelm**: Unpredictable changes, unclear expectations, or hostile interpersonal dynamics trigger severe anxiety and panic symptoms. Without accommodations to manage these triggers, I experience physical symptoms (rapid heartbeat, chest tightness, difficulty breathing) that interfere with work performance.\\n\\n**Pattern Recognition Strengths**: Positively, autism enhances my analytical skills, attention to detail, pattern recognition, and problem-solving abilitiestraits Mark Hayes and early leadership celebrated as professional assets.\\n\\n*Evidence: Medical letter from Ayla Jenson Naughton, MSN, APRN, PMHNP-BC (July 1 & 29, 2025); Marriage therapy documentation (February 2025); Performance reviews 2021-2023 showing excellence with accommodations*"},{"id":2,"section":"DISABILITY & ADA COMPLIANCE","question":"What specific accommodations did you request in July 2025?","answer":"On July 1, 2025, I formally requested the following accommodation, documented in a medical letter from my APRN:\\n\\n**PRIMARY ACCOMMODATION**: Flexible work locationspecifically, the option to work from home on an as-needed basis when sensory overload, anxiety, or panic symptoms make the office environment untenable.\\n\\n**SUPPORTING ACCOMMODATIONS** (discussed informally):\\n- Clear, written task assignments and feedback when possible\\n- Email communication preferred over phone calls or spontaneous meetings\\n- Advance notice for meetings when feasible\\n- Occasional quiet time to process information and recover from sensory overload\\n\\n**MEDICAL JUSTIFICATION**: My APRN documented that I experience severe anxiety and panic episodes exacerbated by office environments, and that flexible work location would enable me to manage these symptoms while maintaining job performance.\\n\\n*Evidence: Email dated July 1, 2025 to Scott Macduff; Medical letters dated July 1 and July 29, 2025; HR interactive process emails July 15-25, 2025*"},{"id":3,"section":"DISABILITY & ADA COMPLIANCE","question":"Did you ever inform management about your autism diagnosis before July 2025?","answer":"No, I did not formally disclose my autism diagnosis to GAINSCO management before July 2025.\\n\\n**Pre-July 2025**: While management (particularly Mark Hayes) was aware of my communication style and personality traits, and performance reviews referenced my \\"passion\\" being \\"misinterpreted\\" or my need to work on \\"patience,\\" the specific medical diagnosis of autism spectrum disorder was not formally disclosed.\\n\\n**Reasons for Delayed Disclosure**:\\n1. Early in my career at GAINSCO, I did not have a formal diagnosis despite experiencing symptoms\\n2. Concern about stigma and discrimination based on the hostile work environment\\n3. Informal accommodations from Mark Hayes made formal disclosure seem unnecessary\\n4. Fear of retaliation given the culture of discrimination I was already experiencing\\n\\n**July 2025 Disclosure**: I formally disclosed after obtaining medical documentation and because anxiety symptoms worsened significantly post-complaint, work environment became increasingly hostile, and I hoped formal ADA protection would prevent further retaliation.\\n\\n*Evidence: Performance reviews 2021-2023 (no mention of autism diagnosis); First medical letter July 1, 2025*"},{"id":4,"section":"DISABILITY & ADA COMPLIANCE","question":"What accommodations would have allowed you to perform your job effectively?","answer":"The following accommodations would have enabled me to continue performing at the \\"Exceeds Expectations\\" level:\\n\\n**1. FLEXIBLE WORK LOCATION** (Requested)\\n- Option to work from home when anxiety/panic symptoms escalate\\n- Historical evidence: Successfully managed Fast Lane, Total Loss, and QRM remotely during COVID\\n\\n**2. STRUCTURED COMMUNICATION**\\n- Written task assignments and feedback via email\\n- Advance meeting agendas\\n- Clear, documented expectations\\n- Reduced spontaneous phone calls\\n\\n**3. PREDICTABLE ENVIRONMENT**\\n- Advance notice of scope changes or metric adjustments\\n- Consistent supervision\\n- Protected time for deep work\\n\\n**4. SENSORY ACCOMMODATIONS** (If in office)\\n- Quiet workspace or private office\\n- Noise-canceling headphones permitted\\n- Reduced exposure to open-plan seating\\n\\n**5. UNDERSTANDING MANAGEMENT**\\n- Recognition that autism-related communication differences are not \\"berating\\"\\n- Performance evaluation based on objective results\\n- Interactive process engagement\\n\\n*Evidence: Under Mark Hayes (2015-2023) with informal accommodations, I achieved \\"Exceeds\\" ratings and successfully rebuilt Fast Lane after Great Resignation*"},{"id":5,"section":"DISABILITY & ADA COMPLIANCE","question":"How did Mark Hayes (former supervisor) respond to your autism?","answer":"While I had not formally disclosed my autism diagnosis to Mark Hayes, his response to my autism-related traits was overwhelmingly positive:\\n\\n**POSITIVE RECOGNITION**:\\n- 2022 Mid-Year: Rated me \\"4 - Exceeds\\" on Creativity\\n- 2023 Mid-Year: Rated me \\"4 - Exceeds\\" on Creativity and Critical Perspective\\n- Celebrated my unique problem-solving approach\\n\\n**INFORMAL ACCOMMODATIONS**:\\n- Permitted flexible work arrangements (remote Tuesday-Thursday)\\n- Provided clear, structured feedback\\n- Recognized my \\"passion\\" as strength, though noting it could be \\"misinterpreted\\"\\n\\n**LEADERSHIP ACKNOWLEDGMENT**:\\n- 2021: \\"Outstanding job rebuilding Fastlane\\" and \\"kept Total Loss together\\"\\n- Never disciplined me for communication style\\n\\n**KEY QUOTE** (2023 Mid-Year): \\"Great job... staying ahead of volume. Passion can be misinterpreted - need to check in meetings.\\"\\n\\n*Evidence: Performance reviews 2021-2023; 2022 and 2023 mid-year competency ratings*"},{"id":6,"section":"DISABILITY & ADA COMPLIANCE","question":"What specific panic/anxiety symptoms do you experience at work?","answer":"I experience the following documented symptoms:\\n\\n**Physical Symptoms**:\\n- Rapid heartbeat/palpitations\\n- Chest tightness and pressure\\n- Shortness of breath\\n- Dizziness and lightheadedness\\n- Trembling or shaking\\n- Sweating\\n- Nausea\\n\\n**Cognitive/Emotional Symptoms**:\\n- Difficulty concentrating or focusing\\n- Racing thoughts\\n- Feeling overwhelmed or \\"shutting down\\"\\n- Sense of impending doom\\n- Inability to process verbal information during episodes\\n- Emotional flooding\\n\\n**Behavioral Impact**:\\n- Need to leave environment to recover\\n- Inability to participate effectively in meetings during episodes\\n- Reduced work capacity immediately following episodes\\n- Avoidance of triggering situations (which limits job function)\\n\\n*Evidence: Medical documentation from APRN Ayla Jenson Naughton; Marriage therapy resources provided February 24, 2025 including \\"What is Anxiety.pdf\\" and \\"Coping Skills For Anxiety.pdf\\"*"},{"id":7,"section":"DISABILITY & ADA COMPLIANCE","question":"How does the office environment trigger your anxiety?","answer":"The office environment triggers my anxiety through multiple pathways:\\n\\n**Sensory Triggers**:\\n- Loud conversations and phone noise in open-plan layout\\n- Fluorescent lighting\\n- Constant movement and activity in peripheral vision\\n- Lack of quiet space to decompress\\n\\n**Social/Interpersonal Triggers**:\\n- Hostile work environment and interpersonal conflicts\\n- Unpredictable interactions with management\\n- Fear of retaliation following complaint\\n- Exclusion from meetings and projects (social rejection)\\n\\n**Workload/Expectations Triggers**:\\n- Unclear or changing expectations\\n- \\"Unobtainable metrics\\" referenced in complaint\\n- Scope reductions creating uncertainty about role\\n- Lack of support despite increased responsibilities\\n\\n**Post-Complaint Environmental Shifts**:\\n- Knowledge that complaint created target on my back\\n- Watching comparators get promoted while I stagnate\\n- Denial of accommodation requests\\n- Termination threats (implicit through discipline escalation)\\n\\n*Evidence: August 16, 2024 complaint describing hostile environment; Medical accommodation letters; 2024 mid-year review noting \\"burnout\\"; Marriage therapy initiation February 2025*"},{"id":8,"section":"DISABILITY & ADA COMPLIANCE","question":"Have you received treatment for your conditions? When?","answer":"Yes, I have received ongoing treatment:\\n\\n**Medical Treatment**:\\n- **Provider**: Ayla Jenson Naughton, MSN, APRN, PMHNP-BC\\n- **Practice**: University Park Counseling & Testing Center, PLLC\\n- **Location**: 5728 LBJ Fwy, Suite 250, Dallas, TX 75240\\n- **Phone**: 972-825-6570\\n- **Treatment**: Ongoing medication management and psychiatric care for anxiety, panic disorder, and autism-related challenges\\n- **Documentation**: Medical letters dated July 1, 2025 and July 29, 2025\\n\\n**Counseling/Therapy**:\\n- **Provider**: Federico Mendez, MS, LMFT\\n- **Practice**: Intimacy Counseling & Consulting, PLLC\\n- **Location**: 3900 Merrett Drive, Ste. C, Fort Worth, TX 76135\\n- **Phone**: 817-631-3125\\n- **Treatment Start**: February 24, 2025 (marriage counseling with spouse Ahmad Atiyah)\\n- **Focus**: Impact of work stress on marriage, anxiety coping skills, relationship repair\\n- **Resources Provided**: Anxiety management materials, fusion/intimacy counseling documents\\n\\n*Evidence: Medical provider letters; Email from Federico Mendez dated February 24, 2025 with therapy resources attached*"},{"id":9,"section":"DISABILITY & ADA COMPLIANCE","question":"Did you provide all medical documentation requested by HR?","answer":"Yes, I provided all requested medical documentation:\\n\\n**Initial Submission** (July 1, 2025):\\n- Medical letter from APRN Ayla Jenson Naughton\\n- Documented diagnosis and need for flexible work location accommodation\\n- Submitted to Scott Macduff (HR Manager)\\n\\n**HR Response** (July 15, 2025):\\n- Scott Macduff requested dated letter (stalling tactic)\\n\\n**Updated Submission** (July 29, 2025):\\n- Provided fully updated, dated medical letter addressing all HR questions\\n- Clarified diagnosis, functional limitations, and accommodation needs\\n- Fully compliant with ADA documentation requirements\\n\\n**HR FAILURE**:\\n- Despite providing all requested documentation, HR never formally approved or denied accommodation\\n- No alternative accommodations suggested\\n- Interactive process stalled and never completed\\n- Terminated 7 weeks after final documentation submission without accommodation in place\\n\\n*Evidence: Email chain July 1-29, 2025; Medical letters dated July 1 and July 29, 2025; No documentation exists of formal accommodation decision*"},{"id":10,"section":"DISABILITY & ADA COMPLIANCE","question":"Why was flexible work location a reasonable accommodation?","answer":"Flexible work location was reasonable for multiple documented reasons:\\n\\n**1. DIRECTLY ADDRESSES DISABILITY LIMITATIONS**:\\n- Removes sensory triggers (noise, lighting, activity) that cause panic attacks\\n- Provides controlled environment for anxiety management\\n- Enables recovery time without workplace stigma\\n\\n**2. PROVEN EFFECTIVENESS**:\\n- Successfully worked remotely during COVID-19 (2020-2021)\\n- Historical Tuesday-Thursday remote arrangement was effective under Mark Hayes\\n- Performance reviews show \\"Exceeds\\" ratings during periods with flexible work\\n\\n**3. ESSENTIAL JOB FUNCTIONS FULLY PERFORMABLE REMOTELY**:\\n- Claims management conducted via computer systems\\n- Team supervision via email, phone, video calls\\n- Metrics review and reporting done electronically\\n- No requirement for physical presence to perform core duties\\n\\n**4. NO UNDUE HARDSHIP TO EMPLOYER**:\\n- Company already had remote work infrastructure\\n- Other employees worked remotely without business disruption\\n- My role does not require customer-facing or in-person interaction\\n- No additional cost to employer\\n- Accommodation actually increases productivity by reducing anxiety-related work disruptions\\n\\n**5. EEOC GUIDANCE**:\\n- Flexible work location is specifically recognized as reasonable accommodation for anxiety/panic disorders\\n- Particularly reasonable post-COVID when remote work infrastructure normalized\\n\\n*Evidence: Historical remote work success 2020-2021; Performance reviews during remote periods; Job description showing computer-based essential functions; Other employees' remote arrangements*"},{"id":11,"section":"DISABILITY & ADA COMPLIANCE","question":"Could the accommodation be provided without undue hardship to GAINSCO?","answer":"Absolutely yes. There was NO undue hardship:\\n\\n**INFRASTRUCTURE ALREADY EXISTS**:\\n- Company invested in remote work technology during COVID-19\\n- VPN access, video conferencing, cloud-based claims systems all operational\\n- No additional technology investment required\\n\\n**PRECEDENT ESTABLISHED**:\\n- I successfully worked remotely Tuesday-Thursday for extended periods\\n- Other employees had flexible/remote arrangements\\n- No evidence of business disruption from my prior remote work\\n\\n**NO FINANCIAL BURDEN**:\\n- Accommodation costs $0 to implement\\n- No equipment purchases needed (I have home office setup)\\n- No restructuring of job duties required\\n\\n**NO OPERATIONAL IMPACT**:\\n- Essential job functions fully performable remotely\\n- Team supervision effective via technology\\n- Metrics and reporting conducted electronically\\n- Customer/claimant contact already via phone/email (no in-person requirement)\\n\\n**BUSINESS BENEFIT**:\\n- Reduced absenteeism from anxiety/panic attacks\\n- Increased productivity in controlled environment\\n- Retention of experienced employee (9+ years knowledge)\\n\\n**EEOC STANDARD**:\\nUnder EEOC guidance, \\"undue hardship\\" requires showing accommodation causes \\"significant difficulty or expense.\\" GAINSCO cannot demonstrate either. The accommodation literally costs nothing and was already successfully implemented.\\n\\n*Evidence: Successful remote work history; Zero evidence from employer of any hardship; Job description showing remote capability; Other employees' remote arrangements without hardship claims*"},{"id":12,"section":"DISABILITY & ADA COMPLIANCE","question":"Did HR engage in the interactive process in good faith?","answer":"No. HR violated the ADA interactive process requirements:\\n\\n**INTERACTIVE PROCESS FAILURES**:\\n\\n**1. UNNECESSARY DELAYS**:\\n- July 1: Submitted complete medical letter\\n- July 15: HR requested \\"dated letter\\" (14-day delay)\\n- July 25: HR requested additional \\"clarification\\" (10 more days)\\n- July 29: Provided fully updated letter\\n- September 17: TERMINATED without ever finalizing accommodation (7 weeks later)\\n\\n**2. NO MEANINGFUL DIALOGUE**:\\n- HR never discussed alternative accommodations\\n- Never explained what information was insufficient\\n- Never proposed trial period or modified arrangement\\n- Never engaged in problem-solving conversation\\n\\n**3. FAILURE TO RESPOND**:\\n- After July 29 submission, HR went silent\\n- No follow-up questions\\n- No approval or denial\\n- No communication about status\\n\\n**4. BAD FAITH INDICATORS**:\\n- Stalling tactics (repeated documentation requests)\\n- Termination during pending accommodation request\\n- No documentation of legitimate business concerns\\n- Comparator evidence (others given accommodations)\\n\\n**EEOC STANDARD VIOLATED**:\\nInteractive process requires:\\n- Timely response  (7 weeks of silence)\\n- Good faith dialogue  (only requests for more documentation)\\n- Consider alternatives  (no alternatives discussed)\\n- Document decision  (no decision ever made)\\n\\n**RETALIATION INFERENCE**:\\nTiming suggests accommodation request was used as pretext for termination rather than genuine attempt to accommodate.\\n\\n*Evidence: Email timeline July-September 2025; Lack of any accommodation approval/denial documentation; Termination 7 weeks after final submission; Scott Macduff emails July 15 & 25*"},{"id":13,"section":"DISABILITY & ADA COMPLIANCE","question":"What additional questions/delays did HR impose?","answer":"HR imposed multiple unnecessary delays:\\n\\n**DELAY #1** (July 15, 2025):\\n- **Request**: Scott Macduff asked for \\"dated letter\\"\\n- **Problem**: Original letter was dated; this was stalling tactic\\n- **Impact**: 14-day delay\\n\\n**DELAY #2** (July 25, 2025):\\n- **Request**: Additional \\"clarification\\" about diagnosis and accommodation scope\\n- **Problem**: APRN letter already clearly stated diagnosis (anxiety/panic disorder) and accommodation (flexible work location)\\n- **Impact**: Additional 4-day delay to respond\\n\\n**DELAY #3** (Post-July 29, 2025):\\n- **Request**: NONE - HR went completely silent\\n- **Problem**: After I provided fully compliant updated letter addressing all questions, HR never responded\\n- **Impact**: 7 weeks of limbo, then termination\\n\\n**TOTAL DELAY**: \\n- July 1 (request) to September 17 (termination) = 78 days\\n- ZERO days of accommodation provided\\n- ZERO formal decision made\\n\\n**COMPARISON TO LEGAL STANDARD**:\\n- EEOC guidance: \\"The employer should respond expeditiously to accommodation requests\\"\\n- 78 days with no decision is NOT expeditious\\n- Particularly egregious when employee terminated during pending request\\n\\n**BAD FAITH EVIDENCE**:\\n- No legitimate reason given for delays\\n- No business necessity documented\\n- Pattern of avoidance rather than engagement\\n- Termination suggests intent was never to accommodate\\n\\n*Evidence: Email chain July 1-29, 2025 showing repeated requests; Complete absence of accommodation decision documents; Termination September 17, 2025 without accommodation resolution*"},{"id":14,"section":"DISABILITY & ADA COMPLIANCE","question":"Was your accommodation request denied before termination?","answer":"No formal denial was ever communicated. This is legally significant:\\n\\n**PROCEDURAL VIOLATION**:\\n- **July 1 - September 17**: 78 days elapsed\\n- **No written approval**: Never received\\n- **No written denial**: Never received\\n- **No verbal decision**: Never communicated\\n- **Status at termination**: PENDING/UNRESOLVED\\n\\n**LEGAL SIGNIFICANCE**:\\n\\n**1. ADA VIOLATION**:\\n- Employer must make \\"prompt determination\\" on accommodation requests\\n- 78 days without decision violates ADA interactive process\\n- Terminating employee with pending accommodation = retaliation\\n\\n**2. INFERENCE OF DISCRIMINATION**:\\n- Silence suggests unwillingness to accommodate disabled employee\\n- Termination avoids legal obligation to provide accommodation\\n- Pattern shows intent to remove disabled employee rather than accommodate\\n\\n**3. FAILURE TO DOCUMENT**:\\n- No written analysis of undue hardship (because none exists)\\n- No documentation of alternative accommodations considered (because none were)\\n- Absence of documentation suggests employer knew accommodation was reasonable but refused\\n\\n**4. RETALIATION EVIDENCE**:\\n- Temporal proximity: Accommodation request July 1, termination September 17 (10 weeks)\\n- Protected activity: Requesting ADA accommodation is protected\\n- Adverse action: Termination\\n- Causal connection: Failure to resolve accommodation followed by termination\\n\\n**EEOC GUIDANCE VIOLATED**:\\n\\"Failure to respond to a reasonable accommodation request or to engage in the interactive process is a violation of the ADA.\\"\\n\\n*Evidence: Complete absence of accommodation approval/denial documentation; Email timeline showing no response after July 29; Termination September 17 with unresolved accommodation*"},{"id":15,"section":"DISABILITY & ADA COMPLIANCE","question":"Did management ever suggest alternative accommodations?","answer":"No. Management never suggested any alternative accommodations:\\n\\n**WHAT SHOULD HAVE HAPPENED** (per ADA requirements):\\n- Employer should propose alternatives if requested accommodation creates hardship\\n- Interactive dialogue about modified arrangements\\n- Trial periods to test effectiveness\\n- Problem-solving collaboration\\n\\n**WHAT ACTUALLY HAPPENED**:\\n-  No alternatives proposed\\n-  No trial period offered\\n-  No modification discussions\\n-  No problem-solving conversations\\n-  Only requests for more documentation\\n\\n**POSSIBLE ALTERNATIVES NEVER DISCUSSED**:\\n1. Part-time remote work (e.g., 2-3 days per week)\\n2. Flexible start/end times to avoid peak office hours\\n3. Private office/quiet workspace if remote not possible\\n4. Noise-canceling headphones and sensory accommodations\\n5. Reduced meeting attendance with written summaries\\n6. Modified supervision approach\\n\\n**LEGAL SIGNIFICANCE**:\\n- Employer's failure to propose alternatives shows bad faith\\n- Suggests accommodation was not actually evaluated\\n- Evidence employer had no intent to accommodate\\n- Supports retaliation inference (wanted to terminate, not accommodate)\\n\\n**CONTRAST WITH OTHER EMPLOYEES**:\\n- Other employees received flexible arrangements without formal process\\n- My disability-based request met with silence and termination\\n- Disparate treatment evidence\\n\\n*Evidence: Complete absence of any alternative accommodation communications; Email chain shows only documentation requests, never solution proposals; Termination without ever finalizing any accommodation*"},{"id":16,"section":"PROTECTED ACTIVITY & RETALIATION","question":"When did you file your formal discrimination complaint?","answer":"**Date**: August 16, 2024, at 11:54 AM\\n\\n**Recipient**: Stephanie Pathak, HR Business Partner (stephanie.pathak@gainsco.com)\\n\\n**CC**: Human Resources Team\\n\\n**Subject Line**: \\"Formal Complaint - Joshua D. Shipman\\"\\n\\n**Method**: Email\\n\\n**Timeline Significance**:\\n- This is the PROTECTED ACTIVITY that triggered retaliation\\n- First adverse action (job title \\"update\\") occurred 41 days later (September 26, 2024)\\n- Termination occurred 13 months later (September 17, 2025)\\n- All subsequent adverse actions are temporally connected to this complaint\\n\\n*Evidence: Original complaint email dated August 16, 2024, 11:54 AM; Email acknowledgment from Stephanie Pathak same day at 4:36 PM; Follow-up from Stephanie Pathak August 19, 2024 confirming General Counsel investigation*"},{"id":17,"section":"PROTECTED ACTIVITY & RETALIATION","question":"Who did you file the complaint with?","answer":"**Primary Recipients**:\\n1. **Stephanie Pathak**\\n   - Title: HR Business Partner, PHR\\n   - Email: stephanie.pathak@gainsco.com\\n   - Phone: 469-519-5054\\n\\n**Secondary/Investigative Recipients**:\\n2. **Sola Opeola** (assigned immediately after complaint)\\n   - Title: Associate General Counsel - Corporate Compliance\\n   - Email: sola.opeola@gainsco.com\\n   - Phone: 469-519-5079 (Office), 713-585-5288 (Mobile)\\n\\n3. **Drew Nachowiak** (directed investigation)\\n   - Title: General Counsel\\n   - Company: GAINSCO\\n   - Role: Directed Sola Opeola to conduct \\"thorough investigation\\" per August 19, 2024 email\\n\\n**HR Management** (copied/involved):\\n4. **Scott Macduff**\\n   - Title: Human Resources Manager\\n   - Email: scott.macduff@gainsco.com\\n   - Phone: 972-629-4332\\n   - Role: Handled termination meeting, accommodation request failure\\n\\n**Legal Significance**:\\n- Complaint made to highest levels of HR and Legal Counsel\\n- Company had actual notice of discrimination allegations\\n- All subsequent adverse actions occurred with full knowledge of protected complaint\\n- This establishes employer knowledge for retaliation claim\\n\\n*Evidence: August 16, 2024 complaint email header; August 16, 2024 4:36 PM acknowledgment from Stephanie Pathak; August 19, 2024 email from Stephanie Pathak referencing General Counsel Drew's investigation directive*"},{"id":18,"section":"PROTECTED ACTIVITY & RETALIATION","question":"What were the specific allegations in your Aug 16, 2024 complaint?","answer":"The August 16, 2024 formal complaint alleged the following specific violations:\\n\\n**1. SEXUAL ORIENTATION DISCRIMINATION**\\n- Culture of harassment based on being gay\\n- Unequal treatment compared to heterosexual peers\\n- Hostile work environment related to LGBTQ+ status\\n\\n**2. AGE DISCRIMINATION**\\n- Biased treatment as employee over 40\\n- Younger employees promoted while I stagnated\\n- Age-based adverse employment decisions\\n\\n**3. BELIEF-BASED DISCRIMINATION**\\n- Discrimination related to personal beliefs\\n- Retaliation for advising against biased practices\\n\\n**4. HOSTILE WORK ENVIRONMENT**\\n- 5+ years of documented harassment\\n- Ongoing stress and anxiety from workplace culture\\n- Negative impact on health, well-being, and career advancement\\n- Inability to advance or be promoted due to hostile environment\\n\\n**5. PAY AND TITLE INEQUITY**\\n- Unequal compensation compared to peers with similar responsibilities\\n- Job title not commensurate with duties\\n- Peers advanced while I remained stagnant\\n\\n**6. ADDITIONAL RESPONSIBILITIES WITHOUT SUPPORT**\\n- Assigned additional roles without adequate compensation\\n- Extra duties beyond job description\\n- Lack of resources or support to succeed\\n\\n**7. UNOBTAINABLE METRICS AND GOALS**\\n- Impossible performance standards\\n- Metrics designed to justify adverse actions\\n- Goals not achievable given resources provided\\n\\n**8. REDUCTION IN SCOPE WITHOUT CAUSE**\\n- Responsibilities progressively removed\\n- Workforce reduced\\n- Scope diminished without justification\\n- Exclusion from projects and decision-making\\n\\n*Evidence: Original complaint email August 16, 2024; Company acknowledgment August 16 & 19, 2024; Subsequent grievances filed September 29, 2025 expanding on these allegations*"},{"id":19,"section":"PROTECTED ACTIVITY & RETALIATION","question":"List EVERY adverse action after Aug 16, 2024","answer":"**ADVERSE ACTION #1** (September 26, 2024 - 41 days after complaint):\\n- **Action**: Job title formally \\"updated\\" to Claims Manager I\\n- **Adverse Nature**: No promotion, no raise, no additional support; administrative change locked me at lowest peer level\\n- **Evidence**: HR file showing Manager I designation; No documentation of merit increase or advancement\\n\\n**ADVERSE ACTION #2** (November-December 2024 - 3-4 months after complaint):\\n- **Action**: Total Loss division removed from my oversight\\n- **Adverse Nature**: Significant scope reduction; loss of major responsibility area; career regression\\n- **Evidence**: Organizational changes; Kim Price assumed Total Loss management\\n\\n**ADVERSE ACTION #3** (Ongoing post-complaint):\\n- **Action**: Excluded from leadership meetings\\n- **Adverse Nature**: Loss of decision-making input; professional isolation; prevented from strategic discussions\\n- **Evidence**: Meeting invitations stopped; referenced in complaint escalation emails\\n\\n**ADVERSE ACTION #4** (Ongoing post-complaint):\\n- **Action**: Excluded from projects and strategic initiatives\\n- **Adverse Nature**: Limited career development; prevented from visibility opportunities\\n- **Evidence**: Project assignments reduced; others given high-profile work\\n\\n**ADVERSE ACTION #5** (July-August 2025 - 11 months after complaint):\\n- **Action**: Excluded from vendor meetings and external partnership discussions\\n- **Adverse Nature**: Further professional isolation; loss of external relationship management\\n- **Evidence**: Email communications showing vendor meeting exclusions\\n\\n**ADVERSE ACTION #6** (July 2025):\\n- **Action**: ADA accommodation request stalled/denied\\n- **Adverse Nature**: Failure to engage in interactive process; denial of disability accommodation\\n- **Evidence**: Email chain July 1-29 showing HR delays; No accommodation provided before termination\\n\\n**ADVERSE ACTION #7** (2024 Mid-Year Review):\\n- **Action**: Negative performance review noting \\"burnout\\" and performance concerns\\n- **Adverse Nature**: Dramatic shift from prior \\"Exceeds\\" ratings; documentation building termination case\\n- **Evidence**: 2024 Mid-Year Review vs. 2021-2023 positive reviews showing stark contrast\\n\\n**ADVERSE ACTION #8** (September 7, 2025 - 13 months after complaint):\\n- **Action**: Disciplinary 1:1 meeting with Travis Cober about \\"interactions with direct reports\\"\\n- **Adverse Nature**: First formal discipline in 10-year career; pretextual documentation\\n- **Evidence**: Referenced in termination meeting as occurring \\"10 days before\\" termination\\n\\n**ADVERSE ACTION #9** (September 17, 2025 - 13 months after complaint):\\n- **Action**: TERMINATION\\n- **Adverse Nature**: Ultimate adverse employment action\\n- **Evidence**: Termination meeting September 17; Final paycheck September 23; Benefits ended September 30\\n\\n**ADVERSE ACTION #10** (Post-termination):\\n- **Action**: Denial of severance package\\n- **Adverse Nature**: No PTO payout; No separation benefits despite 10-year tenure\\n- **Evidence**: Scott Macduff emails October 1, 2025 denying severance; Company policy documentation\\n\\n**TEMPORAL PROXIMITY PATTERN**:\\n- 41 days: First adverse action\\n- 3-4 months: Major scope reduction\\n- 11 months: Accommodation denial/stalling\\n- 13 months: Termination\\n- Clear retaliatory pattern escalating over time\\n\\n*Evidence: HR file documents; Email communications; Performance reviews; Organizational charts; Termination documentation; Scott Macduff correspondence*"},{"id":20,"section":"PROTECTED ACTIVITY & RETALIATION","question":"When was your job title \\"updated\\" to Manager I?","answer":"**Date**: September 26, 2024\\n\\n**Timeline**: 41 days after August 16, 2024 discrimination complaint\\n\\n**Nature of \\"Update\\"**:\\n- Administrative title designation to \\"Claims Manager I (CLMGR1)\\"\\n- NOT a promotion\\n- NO salary increase\\n- NO additional responsibilities\\n- NO expanded scope or authority\\n\\n**Adverse Nature**:\\n1. **Locked at Lowest Level**: \\"Manager I\\" is the entry-level management position\\n2. **Comparison to Peers**: Others advanced to Manager II, Manager III, Director levels\\n3. **No Merit Recognition**: Despite 9 years of service, locked at bottom tier\\n4. **New Leveling System**: Company implemented leveling system that formalized my stagnation\\n5. **Career Ceiling**: Administrative designation prevented future advancement\\n\\n**Retaliation Evidence**:\\n- **Timing**: 41 days after protected complaint = temporal proximity\\n- **Pretextual**: Labeled \\"update\\" but actually formalized career stagnation\\n- **Comparators**: Franco Glaze (subordinate) later promoted to Manager II; Kim Price promoted to Manager I (my level) taking my responsibilities\\n- **Pattern**: First in series of adverse actions following complaint\\n\\n**Contrast to Pre-Complaint**:\\n- Prior to complaint: Responsibilities included Fast Lane, Total Loss, QRM, Administrative groups\\n- Post \\"update\\": Scope progressively reduced, no advancement path\\n\\n*Evidence: HR file showing Claims Manager I designation effective September 26, 2024; Organizational chart showing Manager I as lowest peer level; Comparison to peers' advancement timelines; 41-day temporal proximity to complaint*"},{"id":21,"section":"Accommodation Requests","question":"What specific accommodations did you request?","answer":"Flexible work location (work from home as needed)"},{"id":22,"section":"Accommodation Requests","question":"To whom did you make the accommodation request?","answer":"Scott Macduff (HR Manager)"},{"id":23,"section":"Accommodation Requests","question":"Was your request in writing (email, letter, form)?","answer":"Yes - Email with medical letter attached"},{"id":24,"section":"Accommodation Requests","question":"Did the company engage in an interactive process?","answer":"No - terminated 78 days after request without resolution"},{"id":25,"section":"Accommodation Requests","question":"Were your accommodations granted, denied, or ignored?","answer":"Ignored/Stalled then Terminated"},{"id":27,"section":"Termination","question":"What was the stated reason for termination?","answer":"\\"Berating a direct report in an email\\" (Pretext: Recorded meeting proves this false)."},{"id":30,"section":"Retaliation Timeline","question":"When did you file your first discrimination complaint?","answer":"August 16, 2024"},{"id":31,"section":"Retaliation Timeline","question":"To whom did you file the complaint?","answer":"Stephanie Pathak (HR Business Partner)"},{"id":32,"section":"Retaliation Timeline","question":"What adverse actions occurred after your complaint?","answer":"Job title cap, scope reduction, meeting exclusion, accommodation denial, termination"},{"id":33,"section":"Retaliation Timeline","question":"What was the time between your complaint and termination?","answer":"13 months (August 2024 - September 2025)"},{"id":34,"section":"Retaliation Timeline","question":"Did your performance reviews change after the complaint?","answer":"Yes - Excellent 2021-2023, declined sharply in 2024"},{"id":40,"section":"Comparator Evidence","question":"Who are similarly situated employees promoted over you?","answer":"Franco Glaze, Kim Price"},{"id":41,"section":"Comparator Evidence","question":"What are their job titles and pay grades?","answer":"Franco Glaze: Manager II; Kim Price: Manager I (taking my duties)"},{"id":42,"section":"Comparator Evidence","question":"What were their performance ratings compared to yours?","answer":"Mine were Exceeds (2021-2023) before complaint"},{"id":43,"section":"Comparator Evidence","question":"Are they in different protected classes?","answer":"Yes - Younger, Heterosexual, Non-Disabled"},{"id":50,"section":"Emotional Damages","question":"Have you sought mental health treatment due to workplace stress?","answer":"Yes - Marriage therapy (Federico Mendez) and Psychiatric care (Ayla Jenson Naughton)"},{"id":51,"section":"Emotional Damages","question":"Who is your therapist/counselor?","answer":"Federico Mendez, MS, LMFT"},{"id":52,"section":"Emotional Damages","question":"How has the workplace discrimination affected your personal relationships?","answer":"Required marriage counseling; strain on relationship with spouse Ahmad Atiyah"},{"id":53,"section":"Emotional Damages","question":"Have you experienced anxiety, depression, or PTSD symptoms?","answer":"Yes - Severe anxiety, panic attacks, depression"},{"id":54,"section":"Emotional Damages","question":"Have you required medication for mental health issues?","answer":"Yes - Managed by APRN Ayla Jenson Naughton"},{"id":79,"section":"Damages","question":"What was your annual salary?","answer":"$129,327 (Bi-weekly: $4,974.11)"},{"id":80,"section":"Damages","question":"What is the back pay calculation?","answer":"$23,094 (65 days  $355.29/day)"},{"id":87,"section":"Damages","question":"What is the total damages demand?","answer":"$650,000 (Economic: $379K, Emotional: $150K, Punitive: $100K, Attorney Fees: $21K)"},{"section":"Section 1: Personal & Employment Information","question":"What is your full legal name?","answer":"Joshua D. Shipman","id":88},{"section":"Section 1: Personal & Employment Information","question":"What is your current address and contact information?","answer":"3955 Buena Vista Unit C, Dallas, TX 75204 | 754-999-0710","id":89},{"section":"Section 1: Personal & Employment Information","question":"What is/was your job title?","answer":"Claims Manager I","id":90},{"section":"Section 1: Personal & Employment Information","question":"What were your employment dates (start and end)?","answer":"November 2, 2015 - September 18, 2025","id":91},{"section":"Section 1: Personal & Employment Information","question":"What is the full legal name of your employer/company?","answer":"MGA Insurance Company Inc / GAINSCO Auto Insurance","id":92},{"section":"Section 1: Personal & Employment Information","question":"How many employees does/did the company have (must be 15+ for EEOC jurisdiction)?","answer":"","id":93},{"section":"Section 1: Personal & Employment Information","question":"What was your annual salary/compensation?","answer":"","id":94},{"section":"Section 1: Personal & Employment Information","question":"Who is the HR Director/Supervisor (name and contact information)?","answer":"Stephanie Pathak (HR Business Partner) | Sola Opeola (Associate General Counsel)","id":95},{"section":"Section 2: Disability & Protected Class Status","question":"What is your disability diagnosis?","answer":"Autism Spectrum Disorder","id":96},{"section":"Section 2: Disability & Protected Class Status","question":"When were you formally diagnosed?","answer":"","id":97},{"section":"Section 2: Disability & Protected Class Status","question":"Who provided your diagnosis (healthcare provider name)?","answer":"","id":98},{"section":"Section 2: Disability & Protected Class Status","question":"Do you have medical documentation supporting your diagnosis?","answer":"","id":99},{"section":"Section 2: Disability & Protected Class Status","question":"Does your disability substantially limit one or more major life activities?","answer":"","id":100},{"section":"Section 3: Accommodation Requests","question":"When did you first request reasonable accommodations?","answer":"July 2025","id":101},{"section":"Section 5: Comparator Evidence","question":"Are they in different protected classes (age, race, gender, orientation)?","answer":"","id":102},{"section":"Section 6: Emotional Damages","question":"Who is your therapist/counselor (name and credentials)?","answer":"Federico Mendez, MS, LMFT, Intimacy Counseling & Consulting","id":103},{"section":"General Information","question":"Full Legal Name","answer":"Joshua D. Shipman","id":104},{"section":"General Information","question":"Job Title","answer":"Claims Manager I (CLMGR1)","id":105},{"section":"General Information","question":"Employer","answer":"GAINSCO Auto Insurance (MGA Insurance Company, Inc.)","id":106},{"section":"General Information","question":"Employment Start Date","answer":"2015-11-02","id":107},{"section":"General Information","question":"Termination Date","answer":"2025-09-18","id":108},{"section":"General Information","question":"Supervisor at Termination","answer":"Travis Jon Cober","id":109},{"section":"General Information","question":"Disability Diagnosis","answer":"Autism Spectrum Disorder, Anxiety and Panic Disorders","id":110},{"section":"General Information","question":"Healthcare Provider","answer":"Ayla Jenson Naughton, MSN, APRN, PMHNP-BC - University Park Counseling & Testing Center","id":111},{"section":"General Information","question":"Age","answer":"45 years old","id":112},{"section":"General Information","question":"Sexual Orientation","answer":"Gay","id":113},{"section":"General Information","question":"Complaint Filed Date","answer":"August 16, 2024, 11:54 AM","id":114},{"section":"General Information","question":"Complaint Submitted To","answer":"Stephanie Pathak (HR Business Partner) and Sola Opeola (Associate General Counsel)","id":115},{"section":"General Information","question":"Nature of Complaint","answer":"Discrimination based on sexual orientation, age, and beliefs; hostile work environment causing stress and anxiety; retaliation for advising against bias; pay/title inequity compared to peers; additional role responsibilities without support or compensation; unobtainable metrics and goals; reduction in scope and workforce.","id":116},{"section":"General Information","question":"Company Response","answer":"Same-day acknowledgment (Aug 16, 4:36 PM) - case assigned to Sola Opeola. Aug 19, 1:12 PM - General Counsel Drew directed \\"thorough investigation\\" by Sola Opeola. Investigation findings NEVER communicated before termination.","id":117},{"section":"General Information","question":"Total Demand Range","answer":"$500,000 - $750,000","id":118},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Complete personnel file for Joshua D. Shipman (Employee #000287)?","answer":"Pending Discovery Request","id":119},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All performance reviews, evaluations, and appraisals (2021-2025)?","answer":"Pending Discovery Request","id":120},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All job descriptions for Claims Manager I and related positions (2015-2025)?","answer":"Pending Discovery Request","id":121},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All compensation records, salary adjustments, and bonus documentation?","answer":"Pending Discovery Request","id":122},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All disciplinary records, warnings, or corrective action plans?","answer":"Pending Discovery Request","id":123},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Employment contracts, offer letters, and any amendments?","answer":"Pending Discovery Request","id":124},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All documents related to my August 16, 2024 discrimination complaint?","answer":"Pending Discovery Request","id":125},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All investigation records, notes, findings, and conclusions conducted by Sola Opeola and/or General Counsel Drew?","answer":"Pending Discovery Request","id":126},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All communications between HR, Legal, and Management regarding my complaints?","answer":"Pending Discovery Request","id":127},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All witness statements or interview notes from any investigation?","answer":"Pending Discovery Request","id":128},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All documents related to my July 2025 ADA accommodation request?","answer":"Pending Discovery Request","id":129},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All communications regarding interactive process (emails between me, Scott Macduff, Stephanie Pathak, Travis Cober)?","answer":"Pending Discovery Request","id":130},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All medical documentation submitted to support accommodation request?","answer":"Pending Discovery Request","id":131},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All company policies regarding reasonable accommodation procedures?","answer":"Pending Discovery Request","id":132},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Any denial or decision letters regarding my accommodation request?","answer":"Pending Discovery Request","id":133},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All documents related to decision to terminate my employment on September 17, 2025?","answer":"Pending Discovery Request","id":134},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All communications between management discussing my performance or employment status (Aug 2024 - Sep 2025)?","answer":"Pending Discovery Request","id":135},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All meeting notes or memoranda regarding my termination?","answer":"Pending Discovery Request","id":136},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All documents supporting stated termination reason (\\"berating direct report\\")?","answer":"Pending Discovery Request","id":137},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Job titles, promotion dates, and compensation history (2020-2025)?","answer":"Pending Discovery Request","id":138},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Performance reviews and disciplinary records (2020-2025)?","answer":"Pending Discovery Request","id":139},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Any accommodation requests and responses?","answer":"Pending Discovery Request","id":140},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Organizational charts for Claims Department (2020-2025)?","answer":"Pending Discovery Request","id":141},{"section":"Discovery & Evidence","question":"Have you requested/obtained: All documents regarding \\"new leveling\\" system and position reclassifications?","answer":"Pending Discovery Request","id":142},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Documentation of reporting structure changes impacting my position?","answer":"Pending Discovery Request","id":143},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Anti-discrimination and anti-retaliation policies?","answer":"Pending Discovery Request","id":144},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Reasonable accommodation policies and procedures?","answer":"Pending Discovery Request","id":145},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Performance management and disciplinary policies?","answer":"Pending Discovery Request","id":146},{"section":"Discovery & Evidence","question":"Have you requested/obtained: Arbitration agreement policies and implementation timeline?","answer":"Pending Discovery Request","id":147},{"id":148,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on November 2, 2015?","answer":"**Employment**: Hired as Claims Manager at GAINSCO"},{"id":149,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on 2015-2023?","answer":"**Performance**: Consistent 'Exceeds' or high 'Meets' performance ratings under Mark Hayes"},{"id":150,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on August 16, 2024?","answer":"**Protected Activity**: Filed Formal Discrimination Complaint\\n\\nAlleged sexual orientation, age, belief discrimination; hostile environment"},{"id":151,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on August 19, 2024?","answer":"**Process**: Investigation Commitment\\n\\nGeneral Counsel Drew Nachowiak directed Sola Opeola to conduct 'thorough investigation'"},{"id":152,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on September 26, 2024?","answer":"**Retaliation**: Job title 'updated' to Claims Manager I (Adverse Action #1)\\n\\n41 days after complaint. Career ceiling imposed."},{"id":153,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on November-December 2024?","answer":"**Retaliation**: Scope reduction: Total Loss division removed, excluded from meetings"},{"id":154,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on July 1, 2025?","answer":"**Protected Activity**: Requested ADA Accommodation (Flexible Work Location)"},{"id":155,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on July 15-25, 2025?","answer":"**Interactive Process Failure**: HR delays (requested dated letter, clarification)"},{"id":156,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on July 29, 2025?","answer":"**Protected Activity**: Provided complete updated medical documentation"},{"id":157,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on July 29 - Sept 17, 2025?","answer":"**Interactive Process Failure**: HR Silence (7 weeks, no response)"},{"id":158,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on September 7-17, 2025?","answer":"**Evidence**: Recorded Meeting with Mike Parrish & Travis Cober\\n\\nDiscussed career development. PROVES termination reason is pretext."},{"id":159,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on September 17, 2025?","answer":"**Adverse Action**: Terminated\\n\\nStated reason: 'Berating direct report'. 78 days after accommodation request."},{"id":160,"section":"TIMELINE & CHRONOLOGY","question":"What occurred on October 26, 2025?","answer":"**Legal Action**: Good Faith Conference Requested\\n\\nFormal request with document discovery list"},{"id":161,"section":"COMMUNICATIONS & CORRESPONDENCE","question":"Describe the email communication from Joshua D. Shipman to Stephanie Pathak (HR) on August 16, 2024, 11:54 AM","answer":"**Subject**: Formal Complaint - Joshua D. Shipman\\n**From**: Joshua D. Shipman\\n**To**: Stephanie Pathak (HR)\\n**Date**: August 16, 2024, 11:54 AM\\n**Summary**: Initial discrimination complaint alleging culture of harassment, hostile work environment, discrimination based on sexual orientation/age/beliefs, pay/title inequity, unobtainable metrics, scope reduction."},{"id":162,"section":"COMMUNICATIONS & CORRESPONDENCE","question":"Describe the email communication from Stephanie Pathak to Joshua D. Shipman on August 19, 2024, 1:12 PM","answer":"**Subject**: Key Communication\\n**From**: Stephanie Pathak\\n**To**: Joshua D. Shipman\\n**Date**: August 19, 2024, 1:12 PM\\n**Summary**: Confirms General Counsel Drew has directed Sola Opeola to conduct 'thorough investigation.' Reiterates company 'does not tolerate discrimination or retaliation.'"},{"id":163,"section":"COMMUNICATIONS & CORRESPONDENCE","question":"Describe the email communication from Joshua Shipman to Scott Macduff (HR Manager) on July 1, 2025, 10:27 AM","answer":"**Subject**: Accommodations Request\\n**From**: Joshua Shipman\\n**To**: Scott Macduff (HR Manager)\\n**Date**: July 1, 2025, 10:27 AM\\n**Summary**: Submits medical accommodation letter from APRN requesting flexible work location due to anxiety/panic disorders."},{"id":164,"section":"COMMUNICATIONS & CORRESPONDENCE","question":"Describe the email communication from Scott Macduff to Joshua Shipman on July 15, 2025, 2:20 PM","answer":"**Subject**: Key Communication\\n**From**: Scott Macduff\\n**To**: Joshua Shipman\\n**Date**: July 15, 2025, 2:20 PM\\n**Summary**: Requests dated accommodation letter, beginning of delay tactics"},{"id":165,"section":"COMMUNICATIONS & CORRESPONDENCE","question":"Describe the email communication from Joshua D. Shipman to Stephanie Pathak, Sola Opeola on September 29, 2025, 8:20 AM","answer":"**Subject**: Formal Submission of Additional Grievances\\n**From**: Joshua D. Shipman\\n**To**: Stephanie Pathak, Sola Opeola\\n**Date**: September 29, 2025, 8:20 AM\\n**Summary**: Requests termination documentation, submits expanded grievances including disability discrimination, denial of accommodation, hostile work environment escalation."},{"id":166,"section":"COMPARATOR EVIDENCE","question":"Who is Franco Glaze and how does their treatment compare to yours?","answer":"**Name**: Franco Glaze\\n**Role**: Manager Level 2\\n**Status**: Promoted\\n**Details**: Former subordinate promoted 2 levels above Shipman. Black Male."},{"id":167,"section":"COMPARATOR EVIDENCE","question":"Who is Kim Price and how does their treatment compare to yours?","answer":"**Name**: Kim Price\\n**Role**: Manager Level 1\\n**Status**: Promoted\\n**Details**: Former team leader promoted to replace Shipman. Black Female."},{"id":168,"section":"COMPARATOR EVIDENCE","question":"Who is Miles Lerman and how does their treatment compare to yours?","answer":"**Name**: Miles Lerman\\n**Role**: Director\\n**Status**: Promoted\\n**Details**: Promoted to Director - 4 steps above Shipman's level."},{"id":169,"section":"COMPARATOR EVIDENCE","question":"Who is Joshua D. Shipman and how does their treatment compare to yours?","answer":"**Name**: Joshua D. Shipman\\n**Role**: Manager Level 1\\n**Status**: Stagnant\\n**Details**: Remained at lowest peer level for 7+ years despite 'Exceeds' ratings."},{"id":170,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Recorded Meeting Transcript (Sept 7-17, 2025)","answer":"**Significance**:  CRITICAL\\n**Description**: Mike Parrish & Travis Cober discussing career development. PROVES termination reason ('berating') is pretext."},{"id":171,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Medical Letters (July 1 & 29, 2025)","answer":"**Significance**:  ADA Proof\\n**Description**: APRN Ayla Jenson Naughton documenting autism/anxiety and need for flexible work."},{"id":172,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Marriage Therapy Documentation","answer":"**Significance**:  Damages\\n**Description**: Feb 2025 start date correlates with work stress."},{"id":173,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Performance Reviews 2021-2023","answer":"**Significance**:  Pretext\\n**Description**: Consistent 'Exceeds' ratings. 'Passion' celebrated as strength."},{"id":174,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: 2024 Mid-Year Review","answer":"**Significance**:  Retaliation\\n**Description**: First negative review after complaint. Cites 'burnout'."},{"id":175,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Discrimination Complaint Email (Aug 16, 2024)","answer":"**Significance**:  Protected Activity\\n**Description**: Formal complaint to HR."},{"id":176,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Accommodation Email Chain (July-Sept 2025)","answer":"**Significance**:  Interactive Process Failure\\n**Description**: Shows 78 days of delays and silence."},{"id":177,"section":"EVIDENCE DOCUMENTATION","question":"Describe the evidence: Termination Email (Oct 1, 2025)","answer":"**Significance**:  Pretext\\n**Description**: Scott Macduff confirming false termination reason."},{"id":178,"section":"DAMAGES CALCULATION","question":"What is the total damages demand in your case?","answer":"**Total Demand**: $650,000\\n\\nThis includes:\\n- Economic Damages: $379,000\\n- Non-Economic Damages: $150,000\\n- Punitive Damages: $100,000"},{"id":179,"section":"ECONOMIC DAMAGES","question":"What are your Back Pay (Past Lost Wages)?","answer":"**Amount**: $23,094\\n**Details**: 65 days @ $355.29/day"},{"id":180,"section":"ECONOMIC DAMAGES","question":"What are your Front Pay (Future Lost Wages)?","answer":"**Amount**: $258,654\\n**Details**: 2 years salary (expected time to find comparable employment)"},{"id":181,"section":"ECONOMIC DAMAGES","question":"What are your Lost Benefits?","answer":"**Amount**: $19,200\\n**Details**: Health Insurance $800/mo x 24 months"},{"id":182,"section":"ECONOMIC DAMAGES","question":"What are your Unpaid PTO?","answer":"**Amount**: $15,000\\n**Details**: Earned compensation denied"},{"id":183,"section":"ECONOMIC DAMAGES","question":"What are your Retirement Contributions?","answer":"**Amount**: $12,000\\n**Details**: Employer match for 2 years"},{"id":184,"section":"ECONOMIC DAMAGES","question":"What are your Career Advancement Losses?","answer":"**Amount**: $50,000\\n**Details**: Promotions denied due to discrimination"},{"id":185,"section":"NON-ECONOMIC DAMAGES","question":"Describe your Emotional Distress","answer":"**Amount**: $75,000\\n**Details**: Severe anxiety, panic attacks, depression"},{"id":186,"section":"NON-ECONOMIC DAMAGES","question":"Describe your Loss of Consortium","answer":"**Amount**: $50,000\\n**Details**: Marriage strain, counseling required"},{"id":187,"section":"NON-ECONOMIC DAMAGES","question":"Describe your Reputational Harm","answer":"**Amount**: $15,000\\n**Details**: Termination 'for cause' impacts future employment"},{"id":188,"section":"NON-ECONOMIC DAMAGES","question":"Describe your Medical/Therapy Costs","answer":"**Amount**: $10,000\\n**Details**: Out of pocket costs"},{"id":189,"section":"EEOC & TWC PROCEDURES","question":"What is the statute of limitations for filing an EEOC charge in Texas?","answer":"Under Title VII, you must file with the EEOC within 300 days of the discriminatory act in deferral states like Texas. For ADA claims, the same 300-day deadline applies. State TWC complaints must be filed within 180 days."},{"id":190,"section":"EEOC & TWC PROCEDURES","question":"What is a Right to Sue letter and when is it issued?","answer":"A Right to Sue letter is issued by the EEOC after investigating your charge (or after 180 days if you request early issuance). You have 90 days from receipt of this letter to file a federal lawsuit."},{"id":191,"section":"LEGAL STRATEGY","question":"What is the McDonnell Douglas burden-shifting framework?","answer":"The McDonnell Douglas framework requires:\\n1. Employee establishes prima facie case of discrimination\\n2. Employer articulates legitimate, non-discriminatory reason for action\\n3. Employee proves employer's reason is pretext for discrimination"},{"id":192,"section":"LEGAL STRATEGY","question":"What is temporal proximity and why does it matter?","answer":"Temporal proximity is the closeness in time between protected activity (like filing a complaint) and adverse action (like termination). Courts generally find temporal proximity of less than 2-3 months creates a strong inference of retaliation. Your 13-month gap still supports retaliation, especially combined with the 7-week gap between accommodation request and termination."},{"id":193,"section":"WITNESS & TESTIMONY","question":"Who are potential witnesses to support your claims?","answer":"Potential witnesses include:\\n- Former supervisor Mark Hayes (positive performance, accommodations)\\n- Colleagues who observed hostile treatment\\n- HR personnel involved in complaint investigation\\n- Medical providers (APRN Naughton, Therapist Mendez)\\n- Spouse Ahmad Atiyah (impact on personal life)"},{"id":194,"section":"PERFORMANCE HISTORY","question":"How did your performance change after filing the August 2024 complaint?","answer":"Pre-complaint (2021-2023): Consistently 'Exceeds Expectations' ratings, praised for rebuilding Fast Lane division after Great Resignation.\\n\\nPost-complaint (2024 Mid-Year): Performance suddenly criticized, noted 'burnout,' duties progressively removed, eventually terminated.\\n\\nThis stark contrast supports pretext argument."},{"id":195,"section":"JOB DUTIES & RESPONSIBILITIES","question":"What were your primary job responsibilities as Claims Manager I?","answer":"As Claims Manager I, I was responsible for:\\n- Managing Fast Lane and Total Loss divisions\\n- Supervising claims adjusters and team leaders\\n- Quality Review Management (QRM)\\n- Administrative group oversight\\n- Performance metrics and reporting\\n- Process improvement initiatives"},{"id":196,"section":"JOB DUTIES & RESPONSIBILITIES","question":"How many employees reported to you?","answer":"At peak, I supervised multiple divisions including Fast Lane, Total Loss, QRM, and administrative groups. Post-complaint, my scope was progressively reduced, with Total Loss removed in November-December 2024 and ultimately my entire team eliminated before termination."},{"id":197,"section":"COMPENSATION & BENEFITS","question":"What benefits did you lose upon termination?","answer":"Upon termination on September 17, 2025, I lost:\\n- Health insurance coverage (ended September 30, 2025)\\n- Dental and vision coverage\\n- 401(k) employer matching\\n- Paid time off accumulation\\n- Life insurance coverage\\n- Short/long-term disability insurance\\n- Professional development opportunities"}]`),UP=Qfe,Zfe=()=>{const{setShowLogin:e}=xU(),[t,n]=T.useState(""),[r,i]=T.useState(""),[a,s]=T.useState(!1),[u,c]=T.useState(null),[d,h]=T.useState(!1),m=async g=>{g.preventDefault(),c(null),h(!0);try{if(a){const{error:x}=await Fi.auth.signUp({email:t,password:r});if(x)throw x;alert("Check your email for the confirmation link!")}else{const{error:x}=await Fi.auth.signInWithPassword({email:t,password:r});if(x)throw x;e(!1)}}catch(x){c(x.message)}finally{h(!1)}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md relative",children:[b.jsx("button",{onClick:()=>e(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:""}),b.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:a?"Create Account":"Login"}),u&&b.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),b.jsxs("form",{onSubmit:m,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),b.jsx("input",{type:"email",value:t,onChange:g=>n(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 p-2 border",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{type:"password",value:r,onChange:g=>i(g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 p-2 border",required:!0})]}),b.jsx("button",{type:"submit",disabled:d,className:"w-full bg-teal-600 text-white py-2 px-4 rounded-md hover:bg-teal-700 disabled:opacity-50",children:d?"Processing...":a?"Sign Up":"Login"})]}),b.jsx("div",{className:"mt-4 text-center text-sm",children:b.jsx("button",{onClick:()=>s(!a),className:"text-teal-600 hover:text-teal-800",children:a?"Already have an account? Login":"Don't have an account? Sign Up"})})]})})},ehe=({analysisResults:e,complaintText:t})=>{const[n,r]=T.useState("EEOC"),[i,a]=T.useState(null),[s,u]=T.useState(!1),[c,d]=T.useState(null),h=async()=>{u(!0),d(null);try{const g=await Dz(e,n,t);g?a(g):d("Failed to generate complaint draft.")}catch(g){d("An error occurred."),console.error(g)}finally{u(!1)}},m=()=>{i&&(navigator.clipboard.writeText(i),alert("Copied to clipboard!"))};return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Generate Formal Complaint"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Draft a formal complaint for EEOC, TWC, or Internal Grievance based on your case analysis."}),b.jsx("div",{className:"flex gap-4 mb-6",children:["EEOC","TWC","Internal"].map(g=>b.jsxs("button",{onClick:()=>r(g),className:`px-4 py-2 rounded-md font-medium transition ${n===g?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300"}`,children:[g," Complaint"]},g))}),b.jsx("div",{className:"mb-6",children:b.jsxs("button",{onClick:h,disabled:s,className:"px-6 py-3 bg-green-600 text-white rounded-md font-bold hover:bg-green-700 disabled:opacity-50 flex items-center gap-2",children:[s?b.jsx(Ou,{}):b.jsx("span",{children:""}),"Generate ",n," Draft"]})}),c&&b.jsx("div",{className:"text-red-500 mb-4",children:c}),i&&b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:"Generated Draft:"}),b.jsx("button",{onClick:m,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Copy to Clipboard"})]}),b.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-md whitespace-pre-wrap font-serif text-sm",children:i})]})]})},the=({analysisResults:e,questions:t})=>{const[n,r]=T.useState(null),[i,a]=T.useState(!1),[s,u]=T.useState(null),c=async()=>{a(!0),u(null);try{const m=await Iz(e,t);m?r(m):u("Failed to generate discovery request.")}catch(m){u("An error occurred."),console.error(m)}finally{a(!1)}},d=()=>{n&&(navigator.clipboard.writeText(n),alert("Copied to clipboard!"))},h=t.filter(m=>m.needDiscovery).length;return b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Generate Discovery Request"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:'Draft a formal Request for Production of Documents based on the items marked as "Need Discovery" in the Questions tab.'}),b.jsx("div",{className:"mb-4",children:b.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["Items marked for discovery: ",h]})}),b.jsx("div",{className:"mb-6",children:b.jsxs("button",{onClick:c,disabled:i||h===0,className:"px-6 py-3 bg-purple-600 text-white rounded-md font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:[i?b.jsx(Ou,{}):b.jsx("span",{children:""}),"Generate Discovery Request Letter"]})}),s&&b.jsx("div",{className:"text-red-500 mb-4",children:s}),n&&b.jsxs("div",{className:"mt-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:"Generated Request:"}),b.jsx("button",{onClick:d,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Copy to Clipboard"})]}),b.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-md whitespace-pre-wrap font-serif text-sm",children:n})]})]})},nhe=`Email Correspondence Summary
Date	Sender	Recipients	Subject	Summary
Fri, Aug 16, 2024, 11:54 AM	JD Shipman <joshuadshipman@gmail.com>	Stephanie Pathak	Formal Complaint - Joshua D. Shipman	Joshua Shipman sent a formal complaint to Stephanie Pathak (HR). The content of this initial complaint is not detailed in the provided emails.
Fri, Aug 16, 2024, 4:36 PM	Stephanie Pathak <Stephanie.Pathak@gainsco.com>	Sola Opeola, Joshua D. Shipman	Re: Formal Complaint - Joshua D. Shipman	Stephanie acknowledges Josh's email and a morning call. She states she will discuss internally and copies Sola Opeola (Associate General Counsel) to work directly with Josh on the matter.
Mon, Aug 19, 2024, 1:12 PM	Stephanie Pathak <Stephanie.Pathak@gainsco.com>	Joshua D. Shipman, Sola Opeola	(Re: Formal Complaint - Joshua D. Shipman)	Stephanie reiterates the company's focus on its best interest and employees, stating no tolerance for discrimination or retaliation. She confirms Sola Opeola, under direction from Drew (General Counsel), will conduct a thorough investigation and reach out shortly.
Mon, Sep 29, 2025, 8:20 AM	JD Shipman <joshuadshipman@gmail.com>	Stephanie Pathak, Sola Opeola, Joshua D. Shipman	Request for Formal Termination Documentation and Additional Grievances	Joshua Shipman requests formal termination documentation (notice, reason, severance, benefits, compensation, equipment return) and formally submits additional grievances for investigation, citing "Unfair Treatment Related to Disability and Denial of Reasonable Accommodation" under ADA and state laws, related to medical issues.
Mon, Sep 29, 2025, 10:30 AM	Scott Macduff <scott.macduff@gainsco.com>	JD Shipman	Re: Request for Formal Termination Documentation and Additional Grievances	Scott Macduff (HR Manager) responds to Josh's inquiries. He clarifies termination reason was policy violation (berating direct report) discussed on Sept 17. Confirms no severance. States benefits info was emailed on Sept 17 and re-sent. Final paycheck direct deposited Sept 23. Explains unused PTO is not paid out per company policy unless legally required. FedEx label for equipment was resent. Confirms Sola Opeola will conduct an investigation into additional grievances and asks to confirm Josh's phone number.
Employee's Potential Claims & Company's Counterarguments (Texas Employment Law)
Wrongful Termination (Texas At-Will Employment Exceptions)

Employee's Claim:

Despite Texas being an at-will employment state, my termination was wrongful because it falls under legally recognized exceptions, specifically discrimination based on disability and/or retaliation for protected activity (i.e., filing a formal complaint). The timing of the termination relative to my complaints suggests a potential link. The company's stated reason (berating a direct report) might be a pretext, especially if my behavior was influenced by my disability or if similar conduct by others went unpunished.

Company's Likely Counterargument:

The company operates under Texas at-will employment principles and can terminate employment for any non-discriminatory, non-retaliatory reason, or no reason at all. Any adverse employment action was based on legitimate, non-discriminatory business reasons (e.g., performance issues, organizational restructuring, policy violations) and was not in response to protected activity. Scott Macduff's email explicitly states the reason for termination was a clear violation of company policy regarding conduct with direct reports, which was discussed with the employee prior to the incident.

Disability Discrimination and Failure to Accommodate (ADA & Texas Labor Code)

Employee's Claim:

I was subjected to unfair treatment related to my disability and was denied reasonable accommodation for my medical issues, in direct violation of the Americans with Disabilities Act (ADA) and the Texas Labor Code, Chapter 21. The company's actions "pushed" against my medical needs, creating a discriminatory environment. The alleged policy violation might have been a manifestation of my disability, for which accommodation should have been considered, or the company failed to engage in an interactive process.

Company's Likely Counterargument:

The company denies any disability discrimination. We assert that we either provided reasonable accommodations, engaged in a good-faith interactive process to identify and implement suitable accommodations, or that any requested accommodation would have imposed an undue hardship on the business operations. Furthermore, any employment decisions impacting the employee were made independently of, and unrelated to, their disability status. The stated reason for termination relates to professional conduct, not disability.

Retaliation for Protected Activity (Federal & Texas Labor Code)

Employee's Claim:

I suffered retaliation, which culminated in my termination, directly after I engaged in protected activity by filing formal complaints of discrimination. This is a clear violation of both federal anti-retaliation laws and the Texas Labor Code, Chapter 21, which prohibit employers from taking adverse actions against employees whos oppose discriminatory practices or file complaints. The termination occurring shortly after my initial complaint to HR on Aug 16, 2024, and before my additional grievances on Sep 29, 2025, establishes a temporal proximity indicative of retaliation.

Company's Likely Counterargument:

The company maintains a strict non-retaliation policy. We deny that any adverse employment action was taken because of the employee's protected complaints. The termination or other actions were based on legitimate, well-documented business reasons that predated or were independent of the complaints. Specifically, the policy violation occurred *after* the initial HR contact but was a distinct event justifying termination. The investigation into the initial complaint was ongoing and unbiased, as confirmed by Stephanie Pathak and Scott Macduff's emails.

Failure to Provide Required Termination Documentation & Information (Texas Payday Law)

Employee's Claim:

The company failed to provide essential termination documentation and information in a timely manner, including official written notice of termination, the stated reason for termination, details regarding a severance package, instructions for benefits conversion (e.g., COBRA), and the status of any outstanding compensation or accrued vacation time. My request on Sep 29, 2025, shows these were still not clearly received or understood, despite the termination occurring on Sept 17. The company's multiple resends and explanations indicate an initial failure in communication.

Company's Likely Counterargument:

The company will assert that all legally required documentation and information were provided to the employee within the statutory timelines. Texas law does not mandate providing a specific "reason" for at-will termination in writing, nor does it require severance packages unless explicitly agreed upon. Scott Macduff's email confirms that benefits information was sent on Sept 17 and re-sent, and the FedEx label was also sent on Sept 17, indicating the company made timely efforts. Any perceived delays or lack of receipt were administrative or due to incorrect contact information initially provided by the employee, which the company actively corrected.

Unpaid Wages/Benefits Claims (Texas Payday Law)

Employee's Claim:

The company failed to pay all outstanding compensation and/or accrued vacation time upon my termination, in violation of the Texas Payday Law (Texas Labor Code Chapter 61). Specifically, the company's refusal to pay out accrued and unused PTO, as stated in Scott Macduff's email, may contradict Texas Labor Code provisions or existing company practices if the policy is not uniformly applied or clearly communicated. Even if the policy exists, its enforceability under Texas law for previously accrued benefits might be challenged.

Company's Likely Counterargument:

The company affirms that all final wages, including any accrued vacation time payable under established company policy, were calculated and paid in full to the employee in accordance with the Texas Payday Law (Texas Labor Code Chapter 61). Scott Macduff's email explicitly states that the final paycheck was direct deposited on Sept 23 and cites the GAINSCO Employee Handbook policy (Page 18) which clearly states that unused PTO is not paid out upon termination unless required by applicable law, and Texas law generally does not require it.

Discriminatory Pay: User was paid unfairly based on work requested and level of work completed, not compensated at 'Manager 1' level. (Referencing relevant Texas case law examples for pay discrimination based on work requested and level of work completed, especially in comparison to a 'Manager 1' level).`,rhe=`Key Responsibilities:
Supervise a team of claim leaders, providing guidance and support on claims handling and resolution.
Ensure timely and proper management of claims, in accordance with company policies and all legal/regulatory requirements.
Review and evaluate claims, analyze trends, and provide recommendations for process improvement.
Oversee team training and development, coach staff, and implement changes in processes or regulations.
Communicate effectively with policyholders, claimants, agents, and other company departments to facilitate seamless claims management.
Monitor claim processing metrics, prepare reports, and drive operational efficiency.
Ensure compliance with standards for documentation, reporting, and billing.
Interpret policies to ensure claims are handled according to coverage terms and exclusions.
Support loss control activities such as salvage, subrogation, and fraud detection.
Foster a positive, team-oriented culture and uphold high standards for customer satisfaction.`,ihe=`Project Management & Leadership 

Develop long-term solutions related to claims support functions including offsite call center, glass program, segmentation updates and administrative roles related to highly impactful claims organization. 

Advocate for improved processes related to customer experience and employee experience including working with strategic partners to assist with changes to our claims systems such as Guidewire or the Genesys phone system.  

Parter with Vice President to identify and recommend changes to process, resource allocation, training and or systems updates to improve the goals of each department or support group as well the Claims group as whole. 

Collaborate with other departments and Claims Vice Presidents regarding possible updates to processes and/or training. Create and use analytical reporting to determine various outcomes. 

Develop and approve new training materials within the department. Coach, train and provide feedback to new leaders on presentations and presentation skills related to their respective departments.  

Responsible GAINSCOs inside adjuster catastrophe team and process. Coordinate with field staff to ensure best resolution based on the storm type. Reporting and analytics to both leadership and field staff on volume, types, and frequency. Request and creation of CAT Code creation and monitoring of potential losses. 

Implantation and administration of Kudos, a recognition platform, including updates and roll-out of employee engagement campaigns. 

Resource Management: 

Oversee departmental hiring for multiple departments to ensure highly qualified candidates for the various roles or positions within the organization.  

Manage and develop workflows within the various sub-groups ensuring tasks are appropriately delegated to leaders and adjusters. 

Motivate and engage employees to deliver exceptional results within Fastlane, Total Loss and sub-departments and groups.  

Identify and address departmental issues to ensure efficient and high-quality claims handling. 

Mentor staff and new leaders in achieving key department metrics. 

Oversee and management of support functions for PD Subrogation/Ehub, CMS Reporting, ImageRight Processing and FNOL claim creation both by claims support and third parties. 

Train new leaders in proper claim processing, basic analytics, and report writing. 

Supervises, evaluates performance, and recommends salary changes for personnel. Actively participates in interviews and selections of new personnel and assists with other staffing decisions 

Communication & Collaboration: 

Communicate departmental goals and strategies for Fastlane, Glass, Total Loss, PD Splits, and other claim support functions.  

Develop and recommend changes or other tools that improve the customer experience, reduce overhead costs or improve quality.  

Report and present to senior leadership board quarterly on the various department metrics, goals, and opportunities while ensuring current projects match the strategic goals of the company.  

Coach and train leaders on proper claims responses to various departments of insurance, BBB, and agents. 

Develop new leaders on proper coaching and feedback techniques to develop high quality adjusters within the group. 

Decision Making 

Analysis, process and decision making related to first notice of loss, express claims handling, total loss, and claims support functions. Including recommendations of new products, process changes and workflow updates, and implantation of new technology that supports quality, efficiency or a combination of both. 

Verify policy coverage and claims for accuracy and customer service. Identify trends within the departments related to quality and partner with related teams to improve the product or handling. 

Partner with the WFM group to ensure staffing and scheduling needs for the department are met.  

Collaborate with directors and vice presidents on critical claim decisions.  

External Relations 

Represent the company and build strong relationships with key stakeholders such as third-party companies supporting the GAINSCO claims organization including QRM and  

Review and make recommendations to ensure customer service and improved quality with third party vendors. Responsible for quality, metrics, and invoice validation to ensure contract compliance. 

Foster a mutual partnership with QRM, Safelite, and other vendors to ensure high quality and efficient use of services.`,wU=`8-year employee with a consistent record of high performance, positive reviews, and zero disciplinary actions.
Credit score in the 830s, demonstrating high personal responsibility and reliability.
Perfect attendance record; never calls in sick. Known for working longer hours and being more dedicated than peers.
MBA-educated professional.
This character profile directly contradicts the company's stated reason for termination ("berating a direct report"), suggesting it is pretextual and inconsistent with a long-standing history of professional conduct.`,BP=[{id:"ev-1",content:"Email from Manager (Jan 10)",description:"Manager questions commitment after hours.",type:"email",date:"2024-01-10T14:30:00Z",tags:["Communication","Key Document"]},{id:"ev-2",content:"Performance Review Q4",description:"Positive review, exceeds expectations.",type:"document",date:"2023-12-15T10:00:00Z",tags:["Performance"]},{id:"ev-3",content:"Witness Statement from Jane D.",description:"Heard discriminatory comments in break room.",type:"statement",date:"2024-02-05T11:20:00Z",tags:["Discrimination","Witness"]},{id:"ev-4",content:"Project Assignment Email",description:"Key project reassigned to a younger colleague.",type:"email",date:"2024-03-01T09:05:00Z",tags:["Age Discrimination"]},{id:"ev-5",content:"HR Complaint Draft",description:"Initial draft outlining concerns about workload.",type:"document",date:"2024-04-12T16:45:00Z",tags:["HR Communication"]}],bf="wrongfulTerminationCaseData_prose_v5",t0={analysis:null,complaintText:nhe,jobDescriptionText:rhe,actualDutiesText:ihe,characterProfileText:wU,handbookUrl:"https://drive.google.com/file/d/1BNWluQDbQt1s2J72Mz3lDCMCv4E1UI8e/view?usp=sharing",suggestions:{},letterContent:null,arbitrationAnalysis:null,timeline:null,damages:null,comparatorAnalysis:null,pretextAnalysis:null,moodLogs:[],characterProfileData:{evidence:[]},careerEvents:[],peerComparisons:[],rawEvidence:[]},ahe=()=>{const[e,t]=T.useState(t0),[n,r]=T.useState(!1),[i,a]=T.useState(null),[s,u]=T.useState("input"),[c,d]=T.useState({}),[h,m]=T.useState("complaintText"),[g,x]=T.useState(!1),[A,E]=T.useState(UP),[_,C]=T.useState({}),[I,D]=T.useState({}),[k,P]=T.useState({}),{user:R,loading:M,showLogin:z,setShowLogin:B}=xU(),{analysis:$,complaintText:W,jobDescriptionText:Y,actualDutiesText:K,characterProfileText:G,handbookUrl:ne,suggestions:U}=e;T.useEffect(()=>{if(M)return;(async()=>{let Z=null;if(R){const{data:F,error:X}=await Kfe();F?(Z=F,console.log("Loaded case data from Supabase")):X&&console.error("Failed to load from Supabase:",X)}if(!Z)try{const F=localStorage.getItem(bf);F&&(Z=JSON.parse(F),console.log("Loaded case data from LocalStorage"))}catch(F){console.error("Failed to load data from localStorage",F)}if(Z){const F=Z;F.characterProfileText||(F.characterProfileText=wU),(F.cultureAnswers||F.cultureText)&&(delete F.cultureAnswers,delete F.cultureText);const X={};if(F.suggestions)for(const he in F.suggestions){const ve=F.suggestions[he];typeof ve=="string"?X[he]={suggestionText:ve,userNotes:""}:ve&&typeof ve=="object"&&typeof ve.suggestionText=="string"?X[he]={suggestionText:ve.suggestionText,userNotes:ve.userNotes||""}:X[he]=null}F.suggestions=X,F.letterContent===void 0&&(F.letterContent=null),F.moodLogs===void 0&&(F.moodLogs=[]),F.characterProfileData===void 0&&(F.characterProfileData={evidence:[]}),t(F)}})()},[M,R]),T.useEffect(()=>{try{localStorage.setItem(bf,JSON.stringify(e))}catch(V){console.error("Failed to save data to localStorage",V)}if(R&&!M){const V=setTimeout(async()=>{const{error:Z}=await Yfe(e);Z?console.error("Failed to save to Supabase:",Z):console.log("Saved to Supabase")},2e3);return()=>clearTimeout(V)}},[e,R,M]);const te=async(V,Z)=>{r(!0),a(null);try{const F=await _z(V,Z,e.protectedActivityDate||"");t(X=>({...X,arbitrationAnalysis:F}))}catch(F){console.error("Error analyzing arbitration agreement:",F),a("Failed to analyze arbitration agreement")}finally{r(!1)}},ce=async V=>{r(!0),a(null);try{const Z=await Tz(V);t(F=>({...F,timeline:Z,timelineEvents:V}))}catch(Z){console.error("Error analyzing timeline:",Z),a("Failed to analyze timeline")}finally{r(!1)}},fe=V=>{const Z=BP.reduce((X,he)=>(X[he.id]=he,X),{}),F=V.map((X,he)=>({id:`allegation-${he}`,title:X.claim,evidenceIds:[]}));return{evidence:Z,columns:{uncategorized:{id:"uncategorized",title:"Uncategorized Evidence",evidenceIds:BP.map(X=>X.id)},...F.reduce((X,he)=>(X[he.id]=he,X),{})},columnOrder:["uncategorized",...F.map(X=>X.id)]}},Ie=(V,Z,F,X)=>{const he={id:Date.now().toString(),date:new Date().toISOString(),feeling:V,primaryEmotionColor:Z,rating:F,comment:X};t(ve=>({...ve,moodLogs:[...ve.moodLogs,he]}))},j=V=>{t(Z=>({...Z,characterProfileData:V}))},ae=T.useCallback(async()=>{if(!W.trim()){a("Please provide your complaint details before analyzing.");return}r(!0),a(null),t(V=>({...V,analysis:null,suggestions:{},letterContent:null})),d({});try{const V=await xz(W,Y,K,G,ne);if(V){V.goodFaithConferenceGuide?.documentRequests&&(V.goodFaithConferenceGuide.documentRequests=V.goodFaithConferenceGuide.documentRequests.map((F,X)=>({...F,id:`docreq-${Date.now()}-${X}`})));const Z={...V,responseStrategies:V.responseStrategies.map(F=>({...F,instances:[],evidenceToGather:F.evidenceToGather.map(X=>({...X,linkedEvidenceIds:[]}))})),boardState:fe(V.statedAllegations)};t(F=>({...F,analysis:Z})),t(F=>({...F,analysis:Z})),u("investigation")}else a("Failed to get analysis from the AI. Please check the console for details.")}catch(V){a("An unexpected error occurred during analysis."),console.error(V)}finally{r(!1)}},[W,Y,K,G,ne]),me=()=>{window.confirm("Are you sure you want to clear all saved data and start over? This action cannot be undone.")&&(localStorage.removeItem(bf),t(t0),a(null),d({}),u("investigation"))},ge=(V,Z)=>{E(F=>F.map(X=>X.id===V?{...X,answer:Z}:X))},Te=async()=>{if(window.confirm("This will overwrite your current Complaint, Character Profile, and Job Description text with data from the '160 Questions' file. It will also populate the Questions tab. Are you sure?")){r(!0);try{const V=await fetch("/assets/documents/Complete-160-Questions-Answers.md");if(!V.ok)throw new Error("Failed to fetch reference data file.");const Z=await V.text(),F=vce(Z);t(X=>({...X,complaintText:F.complaintText||X.complaintText,characterProfileText:F.characterProfileText||X.characterProfileText,jobDescriptionText:F.jobDescriptionText||X.jobDescriptionText,actualDutiesText:F.actualDutiesText||X.actualDutiesText})),E(X=>X.map(he=>{const ve=F.questions[he.id];return ve&&ve.answer?{...he,answer:ve.answer}:he})),alert("Reference data loaded successfully! Questions tab has been updated.")}catch(V){console.error(V),a("Failed to load reference data.")}finally{r(!1)}}},Re=T.useCallback(V=>{t(Z=>{if(!Z.analysis)return Z;const F=[...Z.analysis.responseStrategies],X=[...F[V].instances||[],{id:`inst-${Date.now()}`,notes:"",attachments:[]}];F[V]={...F[V],instances:X};const he={...Z.analysis,responseStrategies:F};return{...Z,analysis:he}})},[]),ke=T.useCallback((V,Z)=>{window.confirm("Are you sure you want to delete this example?")&&t(F=>{if(!F.analysis)return F;const X=[...F.analysis.responseStrategies],he=(X[V].instances||[]).filter(Me=>Me.id!==Z);X[V]={...X[V],instances:he};const ve={...F.analysis,responseStrategies:X};return{...F,analysis:ve}})},[]),At=T.useCallback((V,Z,F)=>{t(X=>{if(!X.analysis)return X;const he=[...X.analysis.responseStrategies],ve=(he[V].instances||[]).map(De=>De.id===Z?{...De,notes:F}:De);he[V]={...he[V],instances:ve};const Me={...X.analysis,responseStrategies:he};return{...X,analysis:Me}})},[]),oe=T.useCallback((V,Z,F)=>{t(X=>{if(!X.analysis)return X;const he=Array.from(F).map(Ue=>({name:Ue.name,type:Ue.type})),ve=[...X.analysis.responseStrategies],Me=(ve[V].instances||[]).map(Ue=>Ue.id===Z?{...Ue,attachments:[...Ue.attachments,...he]}:Ue);ve[V]={...ve[V],instances:Me};const De={...X.analysis,responseStrategies:ve};return{...X,analysis:De}})},[]),Le=T.useCallback((V,Z,F)=>{t(X=>{if(!X.analysis)return X;const he=[...X.analysis.responseStrategies],ve=(he[V].instances||[]).map(De=>{if(De.id===Z){const Ue=[...De.attachments];return Ue.splice(F,1),{...De,attachments:Ue}}return De});he[V]={...he[V],instances:ve};const Me={...X.analysis,responseStrategies:he};return{...X,analysis:Me}})},[]),$e=T.useCallback(()=>{t(V=>{if(!V.analysis?.goodFaithConferenceGuide)return V;const Z={id:`docreq-${Date.now()}`,category:"New Category",item:"New item to request.",rationale:"Rationale for this request."},F={...V.analysis.goodFaithConferenceGuide,documentRequests:[...V.analysis.goodFaithConferenceGuide.documentRequests,Z]},X={...V.analysis,goodFaithConferenceGuide:F};return{...V,analysis:X}})},[]),de=T.useCallback((V,Z,F)=>{t(X=>{if(!X.analysis?.goodFaithConferenceGuide)return X;const he=X.analysis.goodFaithConferenceGuide.documentRequests.map(De=>De.id===V?{...De,[Z]:F}:De),ve={...X.analysis.goodFaithConferenceGuide,documentRequests:he},Me={...X.analysis,goodFaithConferenceGuide:ve};return{...X,analysis:Me}})},[]),mt=T.useCallback(V=>{window.confirm("Are you sure you want to delete this document request?")&&t(Z=>{if(!Z.analysis?.goodFaithConferenceGuide)return Z;const F=Z.analysis.goodFaithConferenceGuide.documentRequests.filter(ve=>ve.id!==V),X={...Z.analysis.goodFaithConferenceGuide,documentRequests:F},he={...Z.analysis,goodFaithConferenceGuide:X};return{...Z,analysis:he}})},[]),Ge=T.useCallback(async(V,Z)=>{if(!$)return;d(X=>({...X,[V]:!0})),t(X=>({...X,suggestions:{...X.suggestions,[V]:X.suggestions[V]?{...X.suggestions[V],suggestionText:""}:null}}));let F="";switch(V){case"statedAllegations":F=JSON.stringify($.statedAllegations,null,2);break;case"unstatedClaims":F=JSON.stringify($.unstatedClaims,null,2);break;case"informationGaps":F=JSON.stringify($.informationGaps,null,2);break;case"investigatorQuestions":F=JSON.stringify($.investigatorQuestions,null,2);break;case"quantitativeDataPrompts":F=JSON.stringify($.quantitativeDataPrompts,null,2);break;case"cultureShiftQuestions":F=JSON.stringify($.cultureShiftQuestions,null,2);break;case"culturePortraitQuestions":F=JSON.stringify($.culturePortraitQuestions,null,2);break;case"adaAccommodationQuestions":F=JSON.stringify($.adaAccommodationQuestions,null,2);break;case"handbookPolicyViolations":F=JSON.stringify($.handbookPolicyViolations,null,2);break;case"goodFaithConferenceGuide":F=JSON.stringify($.goodFaithConferenceGuide,null,2);break;case"responseStrategies":F=JSON.stringify($.responseStrategies.map(({instances:X,...he})=>he),null,2);break;default:F=""}try{const X=await wz(Z,F,W);X&&t(he=>({...he,suggestions:{...he.suggestions,[V]:{suggestionText:X,userNotes:he.suggestions[V]?.userNotes||""}}}))}catch(X){console.error("Error getting suggestions:",X),t(he=>({...he,suggestions:{...he.suggestions,[V]:{suggestionText:"Failed to get suggestions. Please try again.",userNotes:he.suggestions[V]?.userNotes||""}}}))}finally{d(X=>({...X,[V]:!1}))}},[$,W,U]),Lt=T.useCallback((V,Z)=>{t(F=>({...F,suggestions:{...F.suggestions,[V]:F.suggestions[V]?{...F.suggestions[V],userNotes:Z}:null}}))},[]),Ft=T.useCallback((V,Z)=>{t(F=>{if(!F.analysis)return F;const X=[...F.analysis.statedAllegations];return X[V]&&(X[V]={...X[V],evidenceMentioned:Z.filter(he=>he.trim()!=="")}),{...F,analysis:{...F.analysis,statedAllegations:X}}})},[]),cr=T.useCallback((V,Z)=>{let F="",X=Z.replace(/[^a-zA-Z0-9]/g,"_"),he="json";if(V in U&&U[V]?.suggestionText){const Ue=U[V];Ue&&(F=`AI Suggestions for ${Z}:

${Ue.suggestionText}`,Ue.userNotes&&(F+=`

--- Your Notes ---
${Ue.userNotes}`),X=`AI_Suggestions_${X}`,he="txt")}else if($&&$[V]){if(V==="statedAllegations")F=JSON.stringify($.statedAllegations,null,2);else{const Ue=$[V];F=JSON.stringify(Ue,null,2)}X=`Analysis_${X}`}else F="No content available for this section.",he="txt";const ve=`${X}.${he}`,Me=new Blob([F],{type:"text/plain;charset=utf-8"}),De=document.createElement("a");De.href=URL.createObjectURL(Me),De.download=ve,document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(De.href)},[$,U]),za=T.useCallback(V=>{t(Z=>{if(!Z.analysis?.boardState)return Z;const{destination:F,source:X,draggableId:he}=V;if(!F||F.droppableId===X.droppableId&&F.index===X.index)return Z;const ve=Z.analysis.boardState,Me=ve.columns[X.droppableId],De=ve.columns[F.droppableId];let Ue;if(Me===De){const bt=Array.from(Me.evidenceIds);bt.splice(X.index,1),bt.splice(F.index,0,he);const jt={...Me,evidenceIds:bt};Ue={...ve,columns:{...ve.columns,[jt.id]:jt}}}else{const bt=Array.from(Me.evidenceIds);bt.splice(X.index,1);const jt={...Me,evidenceIds:bt},ti=Array.from(De.evidenceIds);ti.splice(F.index,0,he);const Dn={...De,evidenceIds:ti};Ue={...ve,columns:{...ve.columns,[jt.id]:jt,[Dn.id]:Dn}}}return{...Z,analysis:{...Z.analysis,boardState:Ue}}})},[]),vl=T.useCallback((V,Z,F)=>{t(X=>{if(!X.analysis?.boardState)return X;const he=X.analysis.boardState,ve=new Date().toISOString();if(Z){const Me={...he.evidence[Z],...V,tags:F||he.evidence[Z].tags,date:ve},De={...he.evidence,[Z]:Me},Ue={...he,evidence:De,columns:he.columns};return{...X,analysis:{...X.analysis,boardState:Ue}}}else{const Me=`ev-${Date.now()}`,De={id:Me,...V,tags:F||[],date:ve},Ue={...he.evidence,[Me]:De},bt=he.columns.uncategorized,jt=[...bt.evidenceIds,Me],ti={...he.columns,uncategorized:{...bt,evidenceIds:jt}},Dn={...he,evidence:Ue,columns:ti};return{...X,analysis:{...X.analysis,boardState:Dn}}}})},[]),bl=T.useCallback(V=>{window.confirm("Are you sure you want to delete this evidence item?")&&t(Z=>{if(!Z.analysis?.boardState)return Z;const F=Z.analysis.boardState,X={...F.evidence};delete X[V];const he={...F.columns};Object.keys(he).forEach(De=>{const Ue=he[De],bt=Ue.evidenceIds.filter(jt=>jt!==V);he[De]={...Ue,evidenceIds:bt}});const ve=Z.analysis.responseStrategies.map(De=>({...De,evidenceToGather:De.evidenceToGather.map(Ue=>({...Ue,linkedEvidenceIds:(Ue.linkedEvidenceIds||[]).filter(bt=>bt!==V)}))})),Me={...F,evidence:X,columns:he};return{...Z,analysis:{...Z.analysis,boardState:Me,responseStrategies:ve}}})},[]),xl=T.useCallback((V,Z)=>{Z.trim()&&t(F=>{if(!F.analysis?.boardState)return F;const X=F.analysis.boardState,he=X.columns[V];if(!he||he.title===Z.trim())return F;const ve={...he,title:Z.trim()},Me={...X.columns,[V]:ve},De={...X,columns:Me};return{...F,analysis:{...F.analysis,boardState:De}}})},[]),Mm=T.useCallback(V=>{t(Z=>{if(!Z.analysis?.boardState)return Z;const F=Z.analysis.boardState,X=F.columns[V];if(!X||V==="uncategorized")return Z;const he=X.evidenceIds,ve=F.columns.uncategorized,Me=[...ve.evidenceIds,...he],De={...F.columns};delete De[V],De.uncategorized={...ve,evidenceIds:Me};const Ue=F.columnOrder.filter(jt=>jt!==V),bt={...F,columns:De,columnOrder:Ue};return{...Z,analysis:{...Z.analysis,boardState:bt}}})},[]),Lm=T.useCallback(V=>{V.trim()&&t(Z=>{if(!Z.analysis?.boardState)return Z;const F=Z.analysis.boardState,X=`custom-col-${Date.now()}`,he={id:X,title:V.trim(),evidenceIds:[]},ve={...F.columns,[X]:he},Me=[...F.columnOrder,X],De={...F,columns:ve,columnOrder:Me};return{...Z,analysis:{...Z.analysis,boardState:De}}})},[]),Cn=T.useCallback(V=>{t(Z=>{if(!Z.analysis)return Z;const F=Z.analysis.unstatedClaims[V];if(!F)return Z;const X={claim:F.claim,summary:F.justification,evidenceMentioned:[],texasCaseExamples:F.texasCaseExamples||[]},he=Z.analysis.unstatedClaims.filter((bt,jt)=>jt!==V),ve=[...Z.analysis.statedAllegations,X],Me=Z.analysis.boardState;let De=Me;if(Me){const bt=`allegation-${ve.length-1}`,jt={id:bt,title:X.claim,evidenceIds:[]};De={...Me,columns:{...Me.columns,[bt]:jt},columnOrder:[...Me.columnOrder,bt]}}const Ue={...Z.analysis,statedAllegations:ve,unstatedClaims:he,boardState:De};return{...Z,analysis:Ue}})},[]),jm=T.useMemo(()=>$?.boardState?new Set(Object.keys($.boardState.evidence)):new Set,[$?.boardState?.evidence]),Cc=T.useCallback(async V=>{const Z=UP.find(F=>F.id===V);if(Z)try{const F=await Az(Z.question,Z.answer);F&&(C(X=>({...X,[V]:F.confidence_score})),D(X=>({...X,[V]:F.analysis})))}catch(F){console.error("Error analyzing question:",F)}},[]),Nc=T.useCallback((V,Z)=>{P(F=>({...F,[V]:{...F[V],needDiscovery:Z}}))},[]),jo=T.useCallback((V,Z)=>{P(F=>({...F,[V]:{...F[V],haveEvidence:Z}}))},[]),Um=T.useCallback(V=>{t(Z=>{if(!Z.analysis?.boardState)return Z;const F=Z.analysis.boardState,X=`drive-${V.fileId}`;if(F.evidence[X])return console.warn(`Evidence item ${X} already exists on the board.`),Z;const he=ti=>{const Dn=ti.toLowerCase();return Dn.includes("email")?"email":Dn.includes("document")||Dn.includes("review")||Dn.includes("policy")?"document":"other"},ve={id:X,content:V.fileName,description:`Justification: ${V.justification}
Source: Google Drive
URL: ${V.fileUrl}`,type:he(V.category),date:V.createdDate,tags:[V.category]},Me={...F.evidence,[X]:ve},De=F.columns.uncategorized,Ue=[X,...De.evidenceIds],bt={...F.columns,uncategorized:{...De,evidenceIds:Ue}},jt={...F,evidence:Me,columns:bt};return{...Z,analysis:{...Z.analysis,boardState:jt}}})},[]),Dc=T.useCallback((V,Z,F)=>{t(X=>{if(!X.analysis)return X;const he=[...X.analysis.responseStrategies],ve=[...he[V].evidenceToGather];return ve[Z]={...ve[Z],linkedEvidenceIds:F},he[V]={...he[V],evidenceToGather:ve},{...X,analysis:{...X.analysis,responseStrategies:he}}})},[]),Bm=async()=>{await Fi.auth.signOut()},qm=()=>b.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md",children:b.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Wrongful Termination Case Builder"}),b.jsxs("div",{className:"flex items-center space-x-4",children:[R?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:R.email}),b.jsx("button",{onClick:Bm,className:"px-3 py-1 text-xs font-medium text-white bg-gray-600 rounded-full hover:bg-gray-700",children:"Logout"})]}):b.jsx("button",{onClick:()=>B(!0),className:"px-3 py-1 text-xs font-medium text-white bg-teal-600 rounded-full hover:bg-teal-700",children:"Login"}),b.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 mx-2"}),b.jsx("button",{onClick:Te,className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-100 rounded-lg hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-300 dark:hover:bg-blue-800",children:"Load Reference Data"}),b.jsx("button",{onClick:me,className:"px-4 py-2 text-sm font-medium text-red-600 bg-red-100 rounded-lg hover:bg-red-200 dark:bg-red-900 dark:text-red-300 dark:hover:bg-red-800",children:"Clear All Data"})]})]})})}),Zr=({title:V,value:Z,onChange:F,placeholder:X,sectionKey:he,isOpen:ve,onToggle:Me})=>b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white px-6 py-4 cursor-pointer flex justify-between items-center",onClick:Me,children:[V,b.jsx("svg",{className:`w-5 h-5 transition-transform ${ve?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ve&&b.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",id:`accordion-body-${he}`,role:"region","aria-labelledby":`accordion-header-${he}`,children:b.jsx("textarea",{className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:10,value:Z,onChange:F,placeholder:X})})]}),_t=V=>{m(Z=>Z===V?null:V)},ei=V=>{t(Z=>({...Z,rawEvidence:[...Z.rawEvidence,{id:V.id,file:{name:V.name,type:V.type,content:V.content},category:V.category,description:""}]}))},Nn=V=>{t(Z=>({...Z,timelineEvents:V}))};return b.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[z&&b.jsx(Zfe,{}),b.jsx(qm,{}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:b.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[(!$||s==="input"||s==="files")&&b.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-200 dark:border-gray-700",children:[b.jsx("button",{onClick:()=>u("input"),className:`pb-2 px-4 font-medium text-lg transition-colors ${s==="input"?"text-blue-600 border-b-2 border-blue-600 dark:text-blue-400 dark:border-blue-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"Case Details"}),b.jsx("button",{onClick:()=>u("files"),className:`pb-2 px-4 font-medium text-lg transition-colors ${s==="files"?"text-blue-600 border-b-2 border-blue-600 dark:text-blue-400 dark:border-blue-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:"Case Files & Evidence"})]}),s==="input"&&b.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Case Details"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Provide as much detail as possible in the fields below. The more information the AI has, the more accurate and comprehensive your analysis will be."}),b.jsxs("div",{className:"space-y-4",children:[b.jsx(Zr,{title:"Your Complaint & Grievances",value:W,onChange:V=>t(Z=>({...Z,complaintText:V.target.value})),placeholder:"Describe your employment, the issues you faced, formal complaints, and details of your termination. Include dates, names, and specific events.",sectionKey:"complaintText",isOpen:h==="complaintText",onToggle:()=>_t("complaintText")}),b.jsx(Zr,{title:"Official Job Description (Manager 1)",value:Y,onChange:V=>t(Z=>({...Z,jobDescriptionText:V.target.value})),placeholder:"Paste your official job description here. This will be compared against your actual duties.",sectionKey:"jobDescriptionText",isOpen:h==="jobDescriptionText",onToggle:()=>_t("jobDescriptionText")}),b.jsx(Zr,{title:"Actual Duties Performed",value:K,onChange:V=>t(Z=>({...Z,actualDutiesText:V.target.value})),placeholder:"Detail your day-to-day responsibilities, projects, team size managed, and any duties that exceeded your official job description.",sectionKey:"actualDutiesText",isOpen:h==="actualDutiesText",onToggle:()=>_t("actualDutiesText")}),b.jsx(Zr,{title:"Professional Profile & Character",value:G,onChange:V=>t(Z=>({...Z,characterProfileText:V.target.value})),placeholder:"Describe your professional history, performance reviews, awards, disciplinary record (or lack thereof), attendance, and general character. This is crucial for building a 'model employee' narrative.",sectionKey:"characterProfileText",isOpen:h==="characterProfileText",onToggle:()=>_t("characterProfileText")})]}),b.jsx("div",{className:"flex justify-end mt-8",children:b.jsx("button",{onClick:ae,disabled:n,className:"btn btn-primary px-8 py-3 rounded-lg font-bold text-lg shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:n?b.jsxs(b.Fragment,{children:[b.jsx(Ou,{})," Analyzing..."]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{children:""})," Analyze My Case"]})})}),b.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to clear all data? This cannot be undone.")&&(t(t0),localStorage.removeItem(bf),window.location.reload())},className:"text-red-600 hover:text-red-800 text-sm font-medium transition",children:"Clear All Data"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 text-sm font-medium rounded-md text-purple-600 dark:text-purple-400 border border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/30 transition flex items-center gap-2",children:[b.jsx("span",{children:""})," Track Emotional Impact"]}),b.jsxs("button",{onClick:()=>u("questions"),className:"px-4 py-2 text-sm font-medium rounded-md text-green-600 dark:text-green-400 border border-green-500 hover:bg-green-50 dark:hover:bg-green-900/30 transition flex items-center gap-2",children:[b.jsx("span",{children:""})," View Questions"]})]})]}),i&&b.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 text-red-700 dark:text-red-300",children:[b.jsx("p",{className:"font-bold",children:"Error"}),b.jsx("p",{children:i})]})]}),s==="files"&&b.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:"Case Files & Evidence"}),b.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Manage your documents, upload evidence, and link external files here."}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white px-6 py-4 cursor-pointer flex justify-between items-center",onClick:()=>_t("uploadEvidence"),children:["Upload Evidence (Emails, Reviews, etc.)",b.jsx("svg",{className:`w-5 h-5 transition-transform ${h==="uploadEvidence"?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h==="uploadEvidence"&&b.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Upload your emails, performance reviews, and other documents here. The AI will analyze them."}),b.jsx(yce,{onUpload:ei}),e.rawEvidence.length>0&&b.jsxs("div",{className:"mt-4",children:[b.jsx("h4",{className:"font-semibold mb-2",children:"Uploaded Documents:"}),b.jsx("ul",{className:"list-disc pl-5",children:e.rawEvidence.map(V=>b.jsxs("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:[V.file.name," ",b.jsxs("span",{className:"text-xs text-gray-500",children:["(",V.category,")"]})]},V.id))})]})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white px-6 py-4 cursor-pointer flex justify-between items-center",onClick:()=>_t("eventLog"),children:["Event Log (Timeline)",b.jsx("svg",{className:`w-5 h-5 transition-transform ${h==="eventLog"?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h==="eventLog"&&b.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:b.jsx(uP,{initialEvents:e.timelineEvents||[],onAnalyze:ce,isAnalyzing:n,timeline:null,onEventsChange:Nn})})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white px-6 py-4 cursor-pointer flex justify-between items-center",onClick:()=>_t("projectDocuments"),children:["Project Documents (Local Assets)",b.jsx("svg",{className:`w-5 h-5 transition-transform ${h==="projectDocuments"?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h==="projectDocuments"&&b.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"These documents are already loaded in your project. Click to view or download."}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Xfe.documents).map(([V,Z])=>b.jsxs("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 transition group",children:[b.jsx("span",{className:"text-2xl mr-3",children:""}),b.jsxs("div",{children:[b.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200 group-hover:text-blue-600 dark:group-hover:text-blue-400",children:V.replace(/([A-Z])/g," $1").replace(/^./,F=>F.toUpperCase())}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[200px]",children:Z.split("/").pop()})]})]},V))})]})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white px-6 py-4 cursor-pointer flex justify-between items-center",onClick:()=>_t("characterEvidence"),children:["Character Evidence & Photos",b.jsx("svg",{className:`w-5 h-5 transition-transform ${h==="characterEvidence"?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h==="characterEvidence"&&b.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:b.jsx(gce,{profileData:e.characterProfileData,onProfileChange:j})})]}),b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[b.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white px-6 py-4 cursor-pointer flex justify-between items-center",onClick:()=>_t("handbookUrl"),children:["Employee Handbook URL (Optional)",b.jsx("svg",{className:`w-5 h-5 transition-transform ${h==="handbookUrl"?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h==="handbookUrl"&&b.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("input",{type:"url",value:ne,onChange:V=>t(Z=>({...Z,handbookUrl:V.target.value})),placeholder:"https://...",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),b.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your employee handbook (Google Drive, Dropbox, etc.) for the AI to reference."})]})]})]})]}),n&&b.jsx(Ou,{}),($&&!n||s==="questions")&&s!=="input"&&b.jsxs("section",{children:[b.jsx("nav",{className:"mb-8 border-b border-gray-200 dark:border-gray-700",children:b.jsxs("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center",role:"tablist",children:[$&&b.jsxs(b.Fragment,{children:[b.jsx("li",{className:"me-2",role:"presentation",children:b.jsx("button",{className:`inline-block p-4 border-b-2 rounded-t-lg ${s==="investigation"?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"}`,id:"investigation-tab",type:"button",role:"tab","aria-controls":"investigation","aria-selected":s==="investigation",onClick:()=>u("investigation"),children:"Investigation"})}),b.jsx("li",{className:"me-2",role:"presentation",children:b.jsx("button",{className:`inline-block p-4 border-b-2 rounded-t-lg ${s==="evidence"?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"}`,id:"evidence-tab",type:"button",role:"tab","aria-controls":"evidence","aria-selected":s==="evidence",onClick:()=>u("evidence"),children:"Evidence Board"})}),b.jsx("li",{className:"me-2",role:"presentation",children:b.jsx("button",{className:`inline-block p-4 border-b-2 rounded-t-lg ${s==="strategy"?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"}`,id:"strategy-tab",type:"button",role:"tab","aria-controls":"strategy","aria-selected":s==="strategy",onClick:()=>u("strategy"),children:"Strategy Dashboard"})}),b.jsx("li",{className:"me-2",role:"presentation",children:b.jsx("button",{className:`inline-block p-4 border-b-2 rounded-t-lg ${s==="conference"?"text-blue-600 border-blue-600 dark:text-blue-500 dark:border-blue-500":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"}`,id:"conference-tab",type:"button",role:"tab","aria-controls":"conference","aria-selected":s==="conference",onClick:()=>u("conference"),children:"Conference Prep"})})]}),b.jsx("li",{className:"me-2",role:"presentation",children:b.jsx("button",{className:`inline-block p-4 border-b-2 rounded-t-lg ${s==="questions"?"text-green-600 border-green-600 dark:text-green-500 dark:border-green-500":"border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300"}`,id:"questions-tab",type:"button",role:"tab","aria-controls":"questions","aria-selected":s==="questions",onClick:()=>u("questions"),children:" Questions"})})]})}),b.jsxs("div",{id:"myTabContent",children:[$&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:`${s==="investigation"?"block":"hidden"}`,role:"tabpanel",children:[b.jsx(kz,{analysisResults:$,onAddInstance:Re,onDeleteInstance:ke,onUpdateInstanceNotes:At,onAddAttachments:oe,onDeleteAttachment:Le,onGetSuggestions:Ge,suggestions:U,isSuggesting:c,onMoveUnstatedClaim:Cn,onAddDocumentRequest:$e,onUpdateDocumentRequest:de,onDeleteDocumentRequest:mt,onExportSection:cr,onUpdateUserNotes:Lt,onUpdateStatedAllegationEvidenceMentioned:Ft,allBoardEvidence:$.boardState?.evidence||{},onLinkEvidenceToStrategy:Dc}),b.jsx(ace,{results:$,onGetSuggestions:Ge,suggestions:U,isSuggesting:c,onExportSection:cr,onUpdateUserNotes:Lt})]}),b.jsx("div",{className:`${s==="evidence"?"block":"hidden"}`,role:"tabpanel",children:b.jsx(Fue,{board:$.boardState,onDragEnd:za,onSaveEvidence:vl,onDeleteEvidence:bl,onRenameColumn:xl,onDeleteColumn:Mm,onAddColumn:Lm})}),b.jsx("div",{className:`${s==="strategy"?"block":"hidden"}`,role:"tabpanel",children:b.jsx(Cae,{careerEvents:e.careerEvents,peerComparisons:e.peerComparisons})}),b.jsx("div",{className:`${s==="conference"?"block":"hidden"}`,role:"tabpanel",children:b.jsxs("div",{className:"space-y-8",children:[b.jsx(rce,{allegations:$.statedAllegations,onAddToBoard:Um,evidenceIdsOnBoard:jm}),b.jsx(ice,{analysisResults:$,complaintText:W,jobDescriptionText:Y,actualDutiesText:K,characterProfileText:G,handbookUrl:ne,generateLetter:Ez,letterContent:e.letterContent,onLetterGenerated:V=>t(Z=>({...Z,letterContent:V}))})]})})]}),b.jsx("div",{className:`${s==="questions"?"block":"hidden"}`,role:"tabpanel",children:b.jsx(sce,{questions:A,onUpdateQuestion:ge,onLoadPreFilled:Te,onAnalyzeQuestion:Cc,onToggleDiscovery:Nc,onToggleEvidence:jo,confidenceScores:_,analysisResults:I,discoveryStatuses:k})}),b.jsx("div",{className:`${s==="advanced"?"block":"hidden"}`,role:"tabpanel",children:b.jsxs("div",{className:"space-y-8",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Advanced Legal Tools"}),$&&b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsx(ehe,{analysisResults:$,complaintText:W}),b.jsx(the,{analysisResults:$,questions:A})]}),b.jsx(lce,{onAnalyze:te,isAnalyzing:n,analysis:e.arbitrationAnalysis||null,protectedActivityDate:e.protectedActivityDate}),b.jsx(uP,{initialEvents:e.timelineEvents||[],onAnalyze:ce,isAnalyzing:n,timeline:e.timeline}),b.jsx(uce,{onCalculate:async V=>{r(!0);try{const Z=await Cz(V);t(F=>({...F,damages:Z}))}catch{a("Failed to calculate damages")}finally{r(!1)}},damages:e.damages,isCalculating:n}),b.jsx(cce,{onAnalyze:async(V,Z,F)=>{r(!0);try{const X=await Nz(V,Z,F);t(he=>({...he,comparatorAnalysis:X}))}catch{a("Failed to analyze comparators")}finally{r(!1)}},analysis:e.comparatorAnalysis,isAnalyzing:n})]})})]})]})]})}),b.jsx(mce,{isOpen:g,onClose:()=>x(!1),onSave:Ie})]})};class ohe extends T.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("Uncaught error:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?b.jsxs("div",{className:"p-8 bg-red-50 min-h-screen",children:[b.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),b.jsxs("div",{className:"bg-white p-4 rounded shadow border border-red-200",children:[b.jsx("h2",{className:"font-semibold text-red-800",children:this.state.error?.toString()}),b.jsx("details",{className:"mt-4 text-sm text-gray-600 whitespace-pre-wrap",children:this.state.errorInfo?.componentStack})]})]}):this.props.children}}Fq.createRoot(document.getElementById("root")).render(b.jsx(Ct.StrictMode,{children:b.jsx(ohe,{children:b.jsx(Jfe,{children:b.jsx(ahe,{})})})}));
